var Kl=r=>{throw TypeError(r)};var Ca=(r,e,t)=>e.has(r)||Kl("Cannot "+t);var _=(r,e,t)=>(Ca(r,e,"read from private field"),t?t.call(r):e.get(r)),ce=(r,e,t)=>e.has(r)?Kl("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(r):e.set(r,t),K=(r,e,t,n)=>(Ca(r,e,"write to private field"),n?n.call(r,t):e.set(r,t),t),Se=(r,e,t)=>(Ca(r,e,"access private method"),t);var oi=(r,e,t,n)=>({set _(s){K(r,e,s,t)},get _(){return _(r,e,n)}});import{r as M,a as Ti,b as Jn,g as Yd,c as sg,d as jt}from"./vendor-BbaTowL1.js";import{u as zo,a as ig,B as Jl,R as Zl,b as Tt,N as Xl}from"./router-yegDwuc6.js";import{C as Lr,U as ag,D as qo,M as og,S as lg,a as Xa,X as cg,b as dg,c as ug,d as hg,B as Kd,e as Wo,L as fg,f as Ge,P as Us,g as Vo,h as gg,i as Go,j as Qo,T as Hs,k as li,l as mg,m as pg,R as eo,n as to,o as yg,Q as ec,E as Ds,p as vg,q as kn,r as gr,K as bg,s as Ni,A as wg,t as xg}from"./ui-D0KtcO9A.js";(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&n(a)}).observe(document,{childList:!0,subtree:!0});function t(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function n(s){if(s.ep)return;s.ep=!0;const i=t(s);fetch(s.href,i)}})();var Jd={exports:{}},ea={};/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _g=M,Sg=Symbol.for("react.element"),Eg=Symbol.for("react.fragment"),Cg=Object.prototype.hasOwnProperty,kg=_g.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Ag={key:!0,ref:!0,__self:!0,__source:!0};function Zd(r,e,t){var n,s={},i=null,a=null;t!==void 0&&(i=""+t),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)Cg.call(e,n)&&!Ag.hasOwnProperty(n)&&(s[n]=e[n]);if(r&&r.defaultProps)for(n in e=r.defaultProps,e)s[n]===void 0&&(s[n]=e[n]);return{$$typeof:Sg,type:r,key:i,ref:a,props:s,_owner:kg.current}}ea.Fragment=Eg;ea.jsx=Zd;ea.jsxs=Zd;Jd.exports=ea;var u=Jd.exports,Xd,tc=Ti;Xd=tc.createRoot,tc.hydrateRoot;var ss=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(r){return this.listeners.add(r),this.onSubscribe(),()=>{this.listeners.delete(r),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hn=typeof window>"u"||"Deno"in globalThis;function ut(){}function Dg(r,e){return typeof r=="function"?r(e):r}function ro(r){return typeof r=="number"&&r>=0&&r!==1/0}function eu(r,e){return Math.max(r+(e||0)-Date.now(),0)}function Mr(r,e){return typeof r=="function"?r(e):r}function Mt(r,e){return typeof r=="function"?r(e):r}function rc(r,e){const{type:t="all",exact:n,fetchStatus:s,predicate:i,queryKey:a,stale:o}=r;if(a){if(n){if(e.queryHash!==Yo(a,e.options))return!1}else if(!js(e.queryKey,a))return!1}if(t!=="all"){const l=e.isActive();if(t==="active"&&!l||t==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||s&&s!==e.state.fetchStatus||i&&!i(e))}function nc(r,e){const{exact:t,status:n,predicate:s,mutationKey:i}=r;if(i){if(!e.options.mutationKey)return!1;if(t){if(fn(e.options.mutationKey)!==fn(i))return!1}else if(!js(e.options.mutationKey,i))return!1}return!(n&&e.state.status!==n||s&&!s(e))}function Yo(r,e){return((e==null?void 0:e.queryKeyHashFn)||fn)(r)}function fn(r){return JSON.stringify(r,(e,t)=>no(t)?Object.keys(t).sort().reduce((n,s)=>(n[s]=t[s],n),{}):t)}function js(r,e){return r===e?!0:typeof r!=typeof e?!1:r&&e&&typeof r=="object"&&typeof e=="object"?Object.keys(e).every(t=>js(r[t],e[t])):!1}function tu(r,e){if(r===e)return r;const t=sc(r)&&sc(e);if(t||no(r)&&no(e)){const n=t?r:Object.keys(r),s=n.length,i=t?e:Object.keys(e),a=i.length,o=t?[]:{};let l=0;for(let d=0;d<a;d++){const c=t?d:i[d];(!t&&n.includes(c)||t)&&r[c]===void 0&&e[c]===void 0?(o[c]=void 0,l++):(o[c]=tu(r[c],e[c]),o[c]===r[c]&&r[c]!==void 0&&l++)}return s===a&&l===s?r:o}return e}function Oi(r,e){if(!e||Object.keys(r).length!==Object.keys(e).length)return!1;for(const t in r)if(r[t]!==e[t])return!1;return!0}function sc(r){return Array.isArray(r)&&r.length===Object.keys(r).length}function no(r){if(!ic(r))return!1;const e=r.constructor;if(e===void 0)return!0;const t=e.prototype;return!(!ic(t)||!t.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(r)!==Object.prototype)}function ic(r){return Object.prototype.toString.call(r)==="[object Object]"}function jg(r){return new Promise(e=>{setTimeout(e,r)})}function so(r,e,t){return typeof t.structuralSharing=="function"?t.structuralSharing(r,e):t.structuralSharing!==!1?tu(r,e):e}function Rg(r,e,t=0){const n=[...r,e];return t&&n.length>t?n.slice(1):n}function Tg(r,e,t=0){const n=[e,...r];return t&&n.length>t?n.slice(0,-1):n}var Ko=Symbol();function ru(r,e){return!r.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!r.queryFn||r.queryFn===Ko?()=>Promise.reject(new Error(`Missing queryFn: '${r.queryHash}'`)):r.queryFn}function nu(r,e){return typeof r=="function"?r(...e):!!r}var tn,_r,Fn,Ud,Ng=(Ud=class extends ss{constructor(){super();ce(this,tn);ce(this,_r);ce(this,Fn);K(this,Fn,e=>{if(!hn&&window.addEventListener){const t=()=>e();return window.addEventListener("visibilitychange",t,!1),()=>{window.removeEventListener("visibilitychange",t)}}})}onSubscribe(){_(this,_r)||this.setEventListener(_(this,Fn))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,_r))==null||e.call(this),K(this,_r,void 0))}setEventListener(e){var t;K(this,Fn,e),(t=_(this,_r))==null||t.call(this),K(this,_r,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){_(this,tn)!==e&&(K(this,tn,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(t=>{t(e)})}isFocused(){var e;return typeof _(this,tn)=="boolean"?_(this,tn):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},tn=new WeakMap,_r=new WeakMap,Fn=new WeakMap,Ud),Jo=new Ng,Un,Sr,Hn,Hd,Og=(Hd=class extends ss{constructor(){super();ce(this,Un,!0);ce(this,Sr);ce(this,Hn);K(this,Hn,e=>{if(!hn&&window.addEventListener){const t=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",t,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",t),window.removeEventListener("offline",n)}}})}onSubscribe(){_(this,Sr)||this.setEventListener(_(this,Hn))}onUnsubscribe(){var e;this.hasListeners()||((e=_(this,Sr))==null||e.call(this),K(this,Sr,void 0))}setEventListener(e){var t;K(this,Hn,e),(t=_(this,Sr))==null||t.call(this),K(this,Sr,e(this.setOnline.bind(this)))}setOnline(e){_(this,Un)!==e&&(K(this,Un,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return _(this,Un)}},Un=new WeakMap,Sr=new WeakMap,Hn=new WeakMap,Hd),Ii=new Og;function io(){let r,e;const t=new Promise((s,i)=>{r=s,e=i});t.status="pending",t.catch(()=>{});function n(s){Object.assign(t,s),delete t.resolve,delete t.reject}return t.resolve=s=>{n({status:"fulfilled",value:s}),r(s)},t.reject=s=>{n({status:"rejected",reason:s}),e(s)},t}function Ig(r){return Math.min(1e3*2**r,3e4)}function su(r){return(r??"online")==="online"?Ii.isOnline():!0}var iu=class extends Error{constructor(r){super("CancelledError"),this.revert=r==null?void 0:r.revert,this.silent=r==null?void 0:r.silent}};function ka(r){return r instanceof iu}function au(r){let e=!1,t=0,n=!1,s;const i=io(),a=y=>{var p;n||(h(new iu(y)),(p=r.abort)==null||p.call(r))},o=()=>{e=!0},l=()=>{e=!1},d=()=>Jo.isFocused()&&(r.networkMode==="always"||Ii.isOnline())&&r.canRun(),c=()=>su(r.networkMode)&&r.canRun(),f=y=>{var p;n||(n=!0,(p=r.onSuccess)==null||p.call(r,y),s==null||s(),i.resolve(y))},h=y=>{var p;n||(n=!0,(p=r.onError)==null||p.call(r,y),s==null||s(),i.reject(y))},g=()=>new Promise(y=>{var p;s=S=>{(n||d())&&y(S)},(p=r.onPause)==null||p.call(r)}).then(()=>{var y;s=void 0,n||(y=r.onContinue)==null||y.call(r)}),v=()=>{if(n)return;let y;const p=t===0?r.initialPromise:void 0;try{y=p??r.fn()}catch(S){y=Promise.reject(S)}Promise.resolve(y).then(f).catch(S=>{var H;if(n)return;const w=r.retry??(hn?0:3),k=r.retryDelay??Ig,E=typeof k=="function"?k(t,S):k,T=w===!0||typeof w=="number"&&t<w||typeof w=="function"&&w(t,S);if(e||!T){h(S);return}t++,(H=r.onFail)==null||H.call(r,t,S),jg(E).then(()=>d()?void 0:g()).then(()=>{e?h(S):v()})})};return{promise:i,cancel:a,continue:()=>(s==null||s(),i),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?v():g().then(v),i)}}var Mg=r=>setTimeout(r,0);function Pg(){let r=[],e=0,t=o=>{o()},n=o=>{o()},s=Mg;const i=o=>{e?r.push(o):s(()=>{t(o)})},a=()=>{const o=r;r=[],o.length&&s(()=>{n(()=>{o.forEach(l=>{t(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{i(()=>{o(...l)})},schedule:i,setNotifyFunction:o=>{t=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{s=o}}}var Xe=Pg(),rn,Bd,ou=(Bd=class{constructor(){ce(this,rn)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ro(this.gcTime)&&K(this,rn,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(r){this.gcTime=Math.max(this.gcTime||0,r??(hn?1/0:5*60*1e3))}clearGcTimeout(){_(this,rn)&&(clearTimeout(_(this,rn)),K(this,rn,void 0))}},rn=new WeakMap,Bd),Bn,$n,Dt,nn,st,Ms,sn,Nt,Kt,$d,Lg=($d=class extends ou{constructor(e){super();ce(this,Nt);ce(this,Bn);ce(this,$n);ce(this,Dt);ce(this,nn);ce(this,st);ce(this,Ms);ce(this,sn);K(this,sn,!1),K(this,Ms,e.defaultOptions),this.setOptions(e.options),this.observers=[],K(this,nn,e.client),K(this,Dt,_(this,nn).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,K(this,Bn,Fg(this.options)),this.state=e.state??_(this,Bn),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=_(this,st))==null?void 0:e.promise}setOptions(e){this.options={..._(this,Ms),...e},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&_(this,Dt).remove(this)}setData(e,t){const n=so(this.state.data,e,this.options);return Se(this,Nt,Kt).call(this,{data:n,type:"success",dataUpdatedAt:t==null?void 0:t.updatedAt,manual:t==null?void 0:t.manual}),n}setState(e,t){Se(this,Nt,Kt).call(this,{type:"setState",state:e,setStateOptions:t})}cancel(e){var n,s;const t=(n=_(this,st))==null?void 0:n.promise;return(s=_(this,st))==null||s.cancel(e),t?t.then(ut).catch(ut):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(_(this,Bn))}isActive(){return this.observers.some(e=>Mt(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Ko||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Mr(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!eu(this.state.dataUpdatedAt,e)}onFocus(){var t;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(t=_(this,st))==null||t.continue()}onOnline(){var t;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(t=_(this,st))==null||t.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),_(this,Dt).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(t=>t!==e),this.observers.length||(_(this,st)&&(_(this,sn)?_(this,st).cancel({revert:!0}):_(this,st).cancelRetry()),this.scheduleGc()),_(this,Dt).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Se(this,Nt,Kt).call(this,{type:"invalidate"})}fetch(e,t){var d,c,f;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(t!=null&&t.cancelRefetch))this.cancel({silent:!0});else if(_(this,st))return _(this,st).continueRetry(),_(this,st).promise}if(e&&this.setOptions(e),!this.options.queryFn){const h=this.observers.find(g=>g.options.queryFn);h&&this.setOptions(h.options)}const n=new AbortController,s=h=>{Object.defineProperty(h,"signal",{enumerable:!0,get:()=>(K(this,sn,!0),n.signal)})},i=()=>{const h=ru(this.options,t),v=(()=>{const y={client:_(this,nn),queryKey:this.queryKey,meta:this.meta};return s(y),y})();return K(this,sn,!1),this.options.persister?this.options.persister(h,v,this):h(v)},o=(()=>{const h={fetchOptions:t,options:this.options,queryKey:this.queryKey,client:_(this,nn),state:this.state,fetchFn:i};return s(h),h})();(d=this.options.behavior)==null||d.onFetch(o,this),K(this,$n,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Se(this,Nt,Kt).call(this,{type:"fetch",meta:(f=o.fetchOptions)==null?void 0:f.meta});const l=h=>{var g,v,y,p;ka(h)&&h.silent||Se(this,Nt,Kt).call(this,{type:"error",error:h}),ka(h)||((v=(g=_(this,Dt).config).onError)==null||v.call(g,h,this),(p=(y=_(this,Dt).config).onSettled)==null||p.call(y,this.state.data,h,this)),this.scheduleGc()};return K(this,st,au({initialPromise:t==null?void 0:t.initialPromise,fn:o.fetchFn,abort:n.abort.bind(n),onSuccess:h=>{var g,v,y,p;if(h===void 0){l(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(h)}catch(S){l(S);return}(v=(g=_(this,Dt).config).onSuccess)==null||v.call(g,h,this),(p=(y=_(this,Dt).config).onSettled)==null||p.call(y,h,this.state.error,this),this.scheduleGc()},onError:l,onFail:(h,g)=>{Se(this,Nt,Kt).call(this,{type:"failed",failureCount:h,error:g})},onPause:()=>{Se(this,Nt,Kt).call(this,{type:"pause"})},onContinue:()=>{Se(this,Nt,Kt).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0})),_(this,st).start()}},Bn=new WeakMap,$n=new WeakMap,Dt=new WeakMap,nn=new WeakMap,st=new WeakMap,Ms=new WeakMap,sn=new WeakMap,Nt=new WeakSet,Kt=function(e){const t=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...lu(n.data,this.options),fetchMeta:e.meta??null};case"success":return{...n,data:e.data,dataUpdateCount:n.dataUpdateCount+1,dataUpdatedAt:e.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const s=e.error;return ka(s)&&s.revert&&_(this,$n)?{..._(this,$n),fetchStatus:"idle"}:{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error"};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=t(this.state),Xe.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),_(this,Dt).notify({query:this,type:"updated",action:e})})},$d);function lu(r,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:su(e.networkMode)?"fetching":"paused",...r===void 0&&{error:null,status:"pending"}}}function Fg(r){const e=typeof r.initialData=="function"?r.initialData():r.initialData,t=e!==void 0,n=t?typeof r.initialDataUpdatedAt=="function"?r.initialDataUpdatedAt():r.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:t?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:t?"success":"pending",fetchStatus:"idle"}}var Bt,zd,Ug=(zd=class extends ss{constructor(e={}){super();ce(this,Bt);this.config=e,K(this,Bt,new Map)}build(e,t,n){const s=t.queryKey,i=t.queryHash??Yo(s,t);let a=this.get(i);return a||(a=new Lg({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(t),state:n,defaultOptions:e.getQueryDefaults(s)}),this.add(a)),a}add(e){_(this,Bt).has(e.queryHash)||(_(this,Bt).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const t=_(this,Bt).get(e.queryHash);t&&(e.destroy(),t===e&&_(this,Bt).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Xe.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return _(this,Bt).get(e)}getAll(){return[..._(this,Bt).values()]}find(e){const t={exact:!0,...e};return this.getAll().find(n=>rc(t,n))}findAll(e={}){const t=this.getAll();return Object.keys(e).length>0?t.filter(n=>rc(e,n)):t}notify(e){Xe.batch(()=>{this.listeners.forEach(t=>{t(e)})})}onFocus(){Xe.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Xe.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Bt=new WeakMap,zd),$t,ct,an,zt,pr,qd,Hg=(qd=class extends ou{constructor(e){super();ce(this,zt);ce(this,$t);ce(this,ct);ce(this,an);this.mutationId=e.mutationId,K(this,ct,e.mutationCache),K(this,$t,[]),this.state=e.state||cu(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){_(this,$t).includes(e)||(_(this,$t).push(e),this.clearGcTimeout(),_(this,ct).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){K(this,$t,_(this,$t).filter(t=>t!==e)),this.scheduleGc(),_(this,ct).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){_(this,$t).length||(this.state.status==="pending"?this.scheduleGc():_(this,ct).remove(this))}continue(){var e;return((e=_(this,an))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var i,a,o,l,d,c,f,h,g,v,y,p,S,w,k,E,T,H,R,O;const t=()=>{Se(this,zt,pr).call(this,{type:"continue"})};K(this,an,au({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(new Error("No mutationFn found")),onFail:(I,z)=>{Se(this,zt,pr).call(this,{type:"failed",failureCount:I,error:z})},onPause:()=>{Se(this,zt,pr).call(this,{type:"pause"})},onContinue:t,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>_(this,ct).canRun(this)}));const n=this.state.status==="pending",s=!_(this,an).canStart();try{if(n)t();else{Se(this,zt,pr).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(i=_(this,ct).config).onMutate)==null?void 0:a.call(i,e,this));const z=await((l=(o=this.options).onMutate)==null?void 0:l.call(o,e));z!==this.state.context&&Se(this,zt,pr).call(this,{type:"pending",context:z,variables:e,isPaused:s})}const I=await _(this,an).start();return await((c=(d=_(this,ct).config).onSuccess)==null?void 0:c.call(d,I,e,this.state.context,this)),await((h=(f=this.options).onSuccess)==null?void 0:h.call(f,I,e,this.state.context)),await((v=(g=_(this,ct).config).onSettled)==null?void 0:v.call(g,I,null,this.state.variables,this.state.context,this)),await((p=(y=this.options).onSettled)==null?void 0:p.call(y,I,null,e,this.state.context)),Se(this,zt,pr).call(this,{type:"success",data:I}),I}catch(I){try{throw await((w=(S=_(this,ct).config).onError)==null?void 0:w.call(S,I,e,this.state.context,this)),await((E=(k=this.options).onError)==null?void 0:E.call(k,I,e,this.state.context)),await((H=(T=_(this,ct).config).onSettled)==null?void 0:H.call(T,void 0,I,this.state.variables,this.state.context,this)),await((O=(R=this.options).onSettled)==null?void 0:O.call(R,void 0,I,e,this.state.context)),I}finally{Se(this,zt,pr).call(this,{type:"error",error:I})}}finally{_(this,ct).runNext(this)}}},$t=new WeakMap,ct=new WeakMap,an=new WeakMap,zt=new WeakSet,pr=function(e){const t=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=t(this.state),Xe.batch(()=>{_(this,$t).forEach(n=>{n.onMutationUpdate(e)}),_(this,ct).notify({mutation:this,type:"updated",action:e})})},qd);function cu(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Zt,Ot,Ps,Wd,Bg=(Wd=class extends ss{constructor(e={}){super();ce(this,Zt);ce(this,Ot);ce(this,Ps);this.config=e,K(this,Zt,new Set),K(this,Ot,new Map),K(this,Ps,0)}build(e,t,n){const s=new Hg({mutationCache:this,mutationId:++oi(this,Ps)._,options:e.defaultMutationOptions(t),state:n});return this.add(s),s}add(e){_(this,Zt).add(e);const t=ci(e);if(typeof t=="string"){const n=_(this,Ot).get(t);n?n.push(e):_(this,Ot).set(t,[e])}this.notify({type:"added",mutation:e})}remove(e){if(_(this,Zt).delete(e)){const t=ci(e);if(typeof t=="string"){const n=_(this,Ot).get(t);if(n)if(n.length>1){const s=n.indexOf(e);s!==-1&&n.splice(s,1)}else n[0]===e&&_(this,Ot).delete(t)}}this.notify({type:"removed",mutation:e})}canRun(e){const t=ci(e);if(typeof t=="string"){const n=_(this,Ot).get(t),s=n==null?void 0:n.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var n;const t=ci(e);if(typeof t=="string"){const s=(n=_(this,Ot).get(t))==null?void 0:n.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Xe.batch(()=>{_(this,Zt).forEach(e=>{this.notify({type:"removed",mutation:e})}),_(this,Zt).clear(),_(this,Ot).clear()})}getAll(){return Array.from(_(this,Zt))}find(e){const t={exact:!0,...e};return this.getAll().find(n=>nc(t,n))}findAll(e={}){return this.getAll().filter(t=>nc(e,t))}notify(e){Xe.batch(()=>{this.listeners.forEach(t=>{t(e)})})}resumePausedMutations(){const e=this.getAll().filter(t=>t.state.isPaused);return Xe.batch(()=>Promise.all(e.map(t=>t.continue().catch(ut))))}},Zt=new WeakMap,Ot=new WeakMap,Ps=new WeakMap,Wd);function ci(r){var e;return(e=r.options.scope)==null?void 0:e.id}function ac(r){return{onFetch:(e,t)=>{var c,f,h,g,v;const n=e.options,s=(h=(f=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:f.fetchMore)==null?void 0:h.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],a=((v=e.state.data)==null?void 0:v.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const d=async()=>{let y=!1;const p=k=>{Object.defineProperty(k,"signal",{enumerable:!0,get:()=>(e.signal.aborted?y=!0:e.signal.addEventListener("abort",()=>{y=!0}),e.signal)})},S=ru(e.options,e.fetchOptions),w=async(k,E,T)=>{if(y)return Promise.reject();if(E==null&&k.pages.length)return Promise.resolve(k);const R=(()=>{const re={client:e.client,queryKey:e.queryKey,pageParam:E,direction:T?"backward":"forward",meta:e.options.meta};return p(re),re})(),O=await S(R),{maxPages:I}=e.options,z=T?Tg:Rg;return{pages:z(k.pages,O,I),pageParams:z(k.pageParams,E,I)}};if(s&&i.length){const k=s==="backward",E=k?$g:oc,T={pages:i,pageParams:a},H=E(n,T);o=await w(T,H,k)}else{const k=r??i.length;do{const E=l===0?a[0]??n.initialPageParam:oc(n,o);if(l>0&&E==null)break;o=await w(o,E),l++}while(l<k)}return o};e.options.persister?e.fetchFn=()=>{var y,p;return(p=(y=e.options).persister)==null?void 0:p.call(y,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},t)}:e.fetchFn=d}}}function oc(r,{pages:e,pageParams:t}){const n=e.length-1;return e.length>0?r.getNextPageParam(e[n],e,t[n],t):void 0}function $g(r,{pages:e,pageParams:t}){var n;return e.length>0?(n=r.getPreviousPageParam)==null?void 0:n.call(r,e[0],e,t[0],t):void 0}var Ye,Er,Cr,zn,qn,kr,Wn,Vn,Vd,zg=(Vd=class{constructor(r={}){ce(this,Ye);ce(this,Er);ce(this,Cr);ce(this,zn);ce(this,qn);ce(this,kr);ce(this,Wn);ce(this,Vn);K(this,Ye,r.queryCache||new Ug),K(this,Er,r.mutationCache||new Bg),K(this,Cr,r.defaultOptions||{}),K(this,zn,new Map),K(this,qn,new Map),K(this,kr,0)}mount(){oi(this,kr)._++,_(this,kr)===1&&(K(this,Wn,Jo.subscribe(async r=>{r&&(await this.resumePausedMutations(),_(this,Ye).onFocus())})),K(this,Vn,Ii.subscribe(async r=>{r&&(await this.resumePausedMutations(),_(this,Ye).onOnline())})))}unmount(){var r,e;oi(this,kr)._--,_(this,kr)===0&&((r=_(this,Wn))==null||r.call(this),K(this,Wn,void 0),(e=_(this,Vn))==null||e.call(this),K(this,Vn,void 0))}isFetching(r){return _(this,Ye).findAll({...r,fetchStatus:"fetching"}).length}isMutating(r){return _(this,Er).findAll({...r,status:"pending"}).length}getQueryData(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=_(this,Ye).get(e.queryHash))==null?void 0:t.state.data}ensureQueryData(r){const e=this.defaultQueryOptions(r),t=_(this,Ye).build(this,e),n=t.state.data;return n===void 0?this.fetchQuery(r):(r.revalidateIfStale&&t.isStaleByTime(Mr(e.staleTime,t))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(r){return _(this,Ye).findAll(r).map(({queryKey:e,state:t})=>{const n=t.data;return[e,n]})}setQueryData(r,e,t){const n=this.defaultQueryOptions({queryKey:r}),s=_(this,Ye).get(n.queryHash),i=s==null?void 0:s.state.data,a=Dg(e,i);if(a!==void 0)return _(this,Ye).build(this,n).setData(a,{...t,manual:!0})}setQueriesData(r,e,t){return Xe.batch(()=>_(this,Ye).findAll(r).map(({queryKey:n})=>[n,this.setQueryData(n,e,t)]))}getQueryState(r){var t;const e=this.defaultQueryOptions({queryKey:r});return(t=_(this,Ye).get(e.queryHash))==null?void 0:t.state}removeQueries(r){const e=_(this,Ye);Xe.batch(()=>{e.findAll(r).forEach(t=>{e.remove(t)})})}resetQueries(r,e){const t=_(this,Ye);return Xe.batch(()=>(t.findAll(r).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...r},e)))}cancelQueries(r,e={}){const t={revert:!0,...e},n=Xe.batch(()=>_(this,Ye).findAll(r).map(s=>s.cancel(t)));return Promise.all(n).then(ut).catch(ut)}invalidateQueries(r,e={}){return Xe.batch(()=>(_(this,Ye).findAll(r).forEach(t=>{t.invalidate()}),(r==null?void 0:r.refetchType)==="none"?Promise.resolve():this.refetchQueries({...r,type:(r==null?void 0:r.refetchType)??(r==null?void 0:r.type)??"active"},e)))}refetchQueries(r,e={}){const t={...e,cancelRefetch:e.cancelRefetch??!0},n=Xe.batch(()=>_(this,Ye).findAll(r).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,t);return t.throwOnError||(i=i.catch(ut)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(n).then(ut)}fetchQuery(r){const e=this.defaultQueryOptions(r);e.retry===void 0&&(e.retry=!1);const t=_(this,Ye).build(this,e);return t.isStaleByTime(Mr(e.staleTime,t))?t.fetch(e):Promise.resolve(t.state.data)}prefetchQuery(r){return this.fetchQuery(r).then(ut).catch(ut)}fetchInfiniteQuery(r){return r.behavior=ac(r.pages),this.fetchQuery(r)}prefetchInfiniteQuery(r){return this.fetchInfiniteQuery(r).then(ut).catch(ut)}ensureInfiniteQueryData(r){return r.behavior=ac(r.pages),this.ensureQueryData(r)}resumePausedMutations(){return Ii.isOnline()?_(this,Er).resumePausedMutations():Promise.resolve()}getQueryCache(){return _(this,Ye)}getMutationCache(){return _(this,Er)}getDefaultOptions(){return _(this,Cr)}setDefaultOptions(r){K(this,Cr,r)}setQueryDefaults(r,e){_(this,zn).set(fn(r),{queryKey:r,defaultOptions:e})}getQueryDefaults(r){const e=[..._(this,zn).values()],t={};return e.forEach(n=>{js(r,n.queryKey)&&Object.assign(t,n.defaultOptions)}),t}setMutationDefaults(r,e){_(this,qn).set(fn(r),{mutationKey:r,defaultOptions:e})}getMutationDefaults(r){const e=[..._(this,qn).values()],t={};return e.forEach(n=>{js(r,n.mutationKey)&&Object.assign(t,n.defaultOptions)}),t}defaultQueryOptions(r){if(r._defaulted)return r;const e={..._(this,Cr).queries,...this.getQueryDefaults(r.queryKey),...r,_defaulted:!0};return e.queryHash||(e.queryHash=Yo(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Ko&&(e.enabled=!1),e}defaultMutationOptions(r){return r!=null&&r._defaulted?r:{..._(this,Cr).mutations,...(r==null?void 0:r.mutationKey)&&this.getMutationDefaults(r.mutationKey),...r,_defaulted:!0}}clear(){_(this,Ye).clear(),_(this,Er).clear()}},Ye=new WeakMap,Er=new WeakMap,Cr=new WeakMap,zn=new WeakMap,qn=new WeakMap,kr=new WeakMap,Wn=new WeakMap,Vn=new WeakMap,Vd),yt,De,Ls,dt,on,Gn,Ar,Dr,Fs,Qn,Yn,ln,cn,jr,Kn,Oe,bs,ao,oo,lo,co,uo,ho,fo,du,Gd,qg=(Gd=class extends ss{constructor(e,t){super();ce(this,Oe);ce(this,yt);ce(this,De);ce(this,Ls);ce(this,dt);ce(this,on);ce(this,Gn);ce(this,Ar);ce(this,Dr);ce(this,Fs);ce(this,Qn);ce(this,Yn);ce(this,ln);ce(this,cn);ce(this,jr);ce(this,Kn,new Set);this.options=t,K(this,yt,e),K(this,Dr,null),K(this,Ar,io()),this.options.experimental_prefetchInRender||_(this,Ar).reject(new Error("experimental_prefetchInRender feature flag is not enabled")),this.bindMethods(),this.setOptions(t)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(_(this,De).addObserver(this),lc(_(this,De),this.options)?Se(this,Oe,bs).call(this):this.updateResult(),Se(this,Oe,co).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return go(_(this,De),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return go(_(this,De),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Se(this,Oe,uo).call(this),Se(this,Oe,ho).call(this),_(this,De).removeObserver(this)}setOptions(e){const t=this.options,n=_(this,De);if(this.options=_(this,yt).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mt(this.options.enabled,_(this,De))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Se(this,Oe,fo).call(this),_(this,De).setOptions(this.options),t._defaulted&&!Oi(this.options,t)&&_(this,yt).getQueryCache().notify({type:"observerOptionsUpdated",query:_(this,De),observer:this});const s=this.hasListeners();s&&cc(_(this,De),n,this.options,t)&&Se(this,Oe,bs).call(this),this.updateResult(),s&&(_(this,De)!==n||Mt(this.options.enabled,_(this,De))!==Mt(t.enabled,_(this,De))||Mr(this.options.staleTime,_(this,De))!==Mr(t.staleTime,_(this,De)))&&Se(this,Oe,ao).call(this);const i=Se(this,Oe,oo).call(this);s&&(_(this,De)!==n||Mt(this.options.enabled,_(this,De))!==Mt(t.enabled,_(this,De))||i!==_(this,jr))&&Se(this,Oe,lo).call(this,i)}getOptimisticResult(e){const t=_(this,yt).getQueryCache().build(_(this,yt),e),n=this.createResult(t,e);return Vg(this,n)&&(K(this,dt,n),K(this,Gn,this.options),K(this,on,_(this,De).state)),n}getCurrentResult(){return _(this,dt)}trackResult(e,t){return new Proxy(e,{get:(n,s)=>(this.trackProp(s),t==null||t(s),Reflect.get(n,s))})}trackProp(e){_(this,Kn).add(e)}getCurrentQuery(){return _(this,De)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const t=_(this,yt).defaultQueryOptions(e),n=_(this,yt).getQueryCache().build(_(this,yt),t);return n.fetch().then(()=>this.createResult(n,t))}fetch(e){return Se(this,Oe,bs).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),_(this,dt)))}createResult(e,t){var I;const n=_(this,De),s=this.options,i=_(this,dt),a=_(this,on),o=_(this,Gn),d=e!==n?e.state:_(this,Ls),{state:c}=e;let f={...c},h=!1,g;if(t._optimisticResults){const z=this.hasListeners(),re=!z&&lc(e,t),ke=z&&cc(e,n,t,s);(re||ke)&&(f={...f,...lu(c.data,e.options)}),t._optimisticResults==="isRestoring"&&(f.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:p}=f;g=f.data;let S=!1;if(t.placeholderData!==void 0&&g===void 0&&p==="pending"){let z;i!=null&&i.isPlaceholderData&&t.placeholderData===(o==null?void 0:o.placeholderData)?(z=i.data,S=!0):z=typeof t.placeholderData=="function"?t.placeholderData((I=_(this,Yn))==null?void 0:I.state.data,_(this,Yn)):t.placeholderData,z!==void 0&&(p="success",g=so(i==null?void 0:i.data,z,t),h=!0)}if(t.select&&g!==void 0&&!S)if(i&&g===(a==null?void 0:a.data)&&t.select===_(this,Fs))g=_(this,Qn);else try{K(this,Fs,t.select),g=t.select(g),g=so(i==null?void 0:i.data,g,t),K(this,Qn,g),K(this,Dr,null)}catch(z){K(this,Dr,z)}_(this,Dr)&&(v=_(this,Dr),g=_(this,Qn),y=Date.now(),p="error");const w=f.fetchStatus==="fetching",k=p==="pending",E=p==="error",T=k&&w,H=g!==void 0,O={status:p,fetchStatus:f.fetchStatus,isPending:k,isSuccess:p==="success",isError:E,isInitialLoading:T,isLoading:T,data:g,dataUpdatedAt:f.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:f.fetchFailureCount,failureReason:f.fetchFailureReason,errorUpdateCount:f.errorUpdateCount,isFetched:f.dataUpdateCount>0||f.errorUpdateCount>0,isFetchedAfterMount:f.dataUpdateCount>d.dataUpdateCount||f.errorUpdateCount>d.errorUpdateCount,isFetching:w,isRefetching:w&&!k,isLoadingError:E&&!H,isPaused:f.fetchStatus==="paused",isPlaceholderData:h,isRefetchError:E&&H,isStale:Zo(e,t),refetch:this.refetch,promise:_(this,Ar)};if(this.options.experimental_prefetchInRender){const z=Me=>{O.status==="error"?Me.reject(O.error):O.data!==void 0&&Me.resolve(O.data)},re=()=>{const Me=K(this,Ar,O.promise=io());z(Me)},ke=_(this,Ar);switch(ke.status){case"pending":e.queryHash===n.queryHash&&z(ke);break;case"fulfilled":(O.status==="error"||O.data!==ke.value)&&re();break;case"rejected":(O.status!=="error"||O.error!==ke.reason)&&re();break}}return O}updateResult(){const e=_(this,dt),t=this.createResult(_(this,De),this.options);if(K(this,on,_(this,De).state),K(this,Gn,this.options),_(this,on).data!==void 0&&K(this,Yn,_(this,De)),Oi(t,e))return;K(this,dt,t);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:s}=this.options,i=typeof s=="function"?s():s;if(i==="all"||!i&&!_(this,Kn).size)return!0;const a=new Set(i??_(this,Kn));return this.options.throwOnError&&a.add("error"),Object.keys(_(this,dt)).some(o=>{const l=o;return _(this,dt)[l]!==e[l]&&a.has(l)})};Se(this,Oe,du).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Se(this,Oe,co).call(this)}},yt=new WeakMap,De=new WeakMap,Ls=new WeakMap,dt=new WeakMap,on=new WeakMap,Gn=new WeakMap,Ar=new WeakMap,Dr=new WeakMap,Fs=new WeakMap,Qn=new WeakMap,Yn=new WeakMap,ln=new WeakMap,cn=new WeakMap,jr=new WeakMap,Kn=new WeakMap,Oe=new WeakSet,bs=function(e){Se(this,Oe,fo).call(this);let t=_(this,De).fetch(this.options,e);return e!=null&&e.throwOnError||(t=t.catch(ut)),t},ao=function(){Se(this,Oe,uo).call(this);const e=Mr(this.options.staleTime,_(this,De));if(hn||_(this,dt).isStale||!ro(e))return;const n=eu(_(this,dt).dataUpdatedAt,e)+1;K(this,ln,setTimeout(()=>{_(this,dt).isStale||this.updateResult()},n))},oo=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(_(this,De)):this.options.refetchInterval)??!1},lo=function(e){Se(this,Oe,ho).call(this),K(this,jr,e),!(hn||Mt(this.options.enabled,_(this,De))===!1||!ro(_(this,jr))||_(this,jr)===0)&&K(this,cn,setInterval(()=>{(this.options.refetchIntervalInBackground||Jo.isFocused())&&Se(this,Oe,bs).call(this)},_(this,jr)))},co=function(){Se(this,Oe,ao).call(this),Se(this,Oe,lo).call(this,Se(this,Oe,oo).call(this))},uo=function(){_(this,ln)&&(clearTimeout(_(this,ln)),K(this,ln,void 0))},ho=function(){_(this,cn)&&(clearInterval(_(this,cn)),K(this,cn,void 0))},fo=function(){const e=_(this,yt).getQueryCache().build(_(this,yt),this.options);if(e===_(this,De))return;const t=_(this,De);K(this,De,e),K(this,Ls,e.state),this.hasListeners()&&(t==null||t.removeObserver(this),e.addObserver(this))},du=function(e){Xe.batch(()=>{e.listeners&&this.listeners.forEach(t=>{t(_(this,dt))}),_(this,yt).getQueryCache().notify({query:_(this,De),type:"observerResultsUpdated"})})},Gd);function Wg(r,e){return Mt(e.enabled,r)!==!1&&r.state.data===void 0&&!(r.state.status==="error"&&e.retryOnMount===!1)}function lc(r,e){return Wg(r,e)||r.state.data!==void 0&&go(r,e,e.refetchOnMount)}function go(r,e,t){if(Mt(e.enabled,r)!==!1&&Mr(e.staleTime,r)!=="static"){const n=typeof t=="function"?t(r):t;return n==="always"||n!==!1&&Zo(r,e)}return!1}function cc(r,e,t,n){return(r!==e||Mt(n.enabled,r)===!1)&&(!t.suspense||r.state.status!=="error")&&Zo(r,t)}function Zo(r,e){return Mt(e.enabled,r)!==!1&&r.isStaleByTime(Mr(e.staleTime,r))}function Vg(r,e){return!Oi(r.getCurrentResult(),e)}var Rr,Tr,vt,Xt,rr,Ei,mo,Qd,Gg=(Qd=class extends ss{constructor(t,n){super();ce(this,rr);ce(this,Rr);ce(this,Tr);ce(this,vt);ce(this,Xt);K(this,Rr,t),this.setOptions(n),this.bindMethods(),Se(this,rr,Ei).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(t){var s;const n=this.options;this.options=_(this,Rr).defaultMutationOptions(t),Oi(this.options,n)||_(this,Rr).getMutationCache().notify({type:"observerOptionsUpdated",mutation:_(this,vt),observer:this}),n!=null&&n.mutationKey&&this.options.mutationKey&&fn(n.mutationKey)!==fn(this.options.mutationKey)?this.reset():((s=_(this,vt))==null?void 0:s.state.status)==="pending"&&_(this,vt).setOptions(this.options)}onUnsubscribe(){var t;this.hasListeners()||(t=_(this,vt))==null||t.removeObserver(this)}onMutationUpdate(t){Se(this,rr,Ei).call(this),Se(this,rr,mo).call(this,t)}getCurrentResult(){return _(this,Tr)}reset(){var t;(t=_(this,vt))==null||t.removeObserver(this),K(this,vt,void 0),Se(this,rr,Ei).call(this),Se(this,rr,mo).call(this)}mutate(t,n){var s;return K(this,Xt,n),(s=_(this,vt))==null||s.removeObserver(this),K(this,vt,_(this,Rr).getMutationCache().build(_(this,Rr),this.options)),_(this,vt).addObserver(this),_(this,vt).execute(t)}},Rr=new WeakMap,Tr=new WeakMap,vt=new WeakMap,Xt=new WeakMap,rr=new WeakSet,Ei=function(){var n;const t=((n=_(this,vt))==null?void 0:n.state)??cu();K(this,Tr,{...t,isPending:t.status==="pending",isSuccess:t.status==="success",isError:t.status==="error",isIdle:t.status==="idle",mutate:this.mutate,reset:this.reset})},mo=function(t){Xe.batch(()=>{var n,s,i,a,o,l,d,c;if(_(this,Xt)&&this.hasListeners()){const f=_(this,Tr).variables,h=_(this,Tr).context;(t==null?void 0:t.type)==="success"?((s=(n=_(this,Xt)).onSuccess)==null||s.call(n,t.data,f,h),(a=(i=_(this,Xt)).onSettled)==null||a.call(i,t.data,null,f,h)):(t==null?void 0:t.type)==="error"&&((l=(o=_(this,Xt)).onError)==null||l.call(o,t.error,f,h),(c=(d=_(this,Xt)).onSettled)==null||c.call(d,void 0,t.error,f,h))}this.listeners.forEach(f=>{f(_(this,Tr))})})},Qd),uu=M.createContext(void 0),ar=r=>{const e=M.useContext(uu);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Qg=({client:r,children:e})=>(M.useEffect(()=>(r.mount(),()=>{r.unmount()}),[r]),u.jsx(uu.Provider,{value:r,children:e})),hu=M.createContext(!1),Yg=()=>M.useContext(hu);hu.Provider;function Kg(){let r=!1;return{clearReset:()=>{r=!1},reset:()=>{r=!0},isReset:()=>r}}var Jg=M.createContext(Kg()),Zg=()=>M.useContext(Jg),Xg=(r,e)=>{(r.suspense||r.throwOnError||r.experimental_prefetchInRender)&&(e.isReset()||(r.retryOnMount=!1))},em=r=>{M.useEffect(()=>{r.clearReset()},[r])},tm=({result:r,errorResetBoundary:e,throwOnError:t,query:n,suspense:s})=>r.isError&&!e.isReset()&&!r.isFetching&&n&&(s&&r.data===void 0||nu(t,[r.error,n])),rm=r=>{if(r.suspense){const e=n=>n==="static"?n:Math.max(n??1e3,1e3),t=r.staleTime;r.staleTime=typeof t=="function"?(...n)=>e(t(...n)):e(t),typeof r.gcTime=="number"&&(r.gcTime=Math.max(r.gcTime,1e3))}},nm=(r,e)=>r.isLoading&&r.isFetching&&!e,sm=(r,e)=>(r==null?void 0:r.suspense)&&e.isPending,dc=(r,e,t)=>e.fetchOptimistic(r).catch(()=>{t.clearReset()});function im(r,e,t){var f,h,g,v,y;const n=Yg(),s=Zg(),i=ar(),a=i.defaultQueryOptions(r);(h=(f=i.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||h.call(f,a),a._optimisticResults=n?"isRestoring":"optimistic",rm(a),Xg(a,s),em(s);const o=!i.getQueryCache().get(a.queryHash),[l]=M.useState(()=>new e(i,a)),d=l.getOptimisticResult(a),c=!n&&r.subscribed!==!1;if(M.useSyncExternalStore(M.useCallback(p=>{const S=c?l.subscribe(Xe.batchCalls(p)):ut;return l.updateResult(),S},[l,c]),()=>l.getCurrentResult(),()=>l.getCurrentResult()),M.useEffect(()=>{l.setOptions(a)},[a,l]),sm(a,d))throw dc(a,l,s);if(tm({result:d,errorResetBoundary:s,throwOnError:a.throwOnError,query:i.getQueryCache().get(a.queryHash),suspense:a.suspense}))throw d.error;if((v=(g=i.getDefaultOptions().queries)==null?void 0:g._experimental_afterQuery)==null||v.call(g,a,d),a.experimental_prefetchInRender&&!hn&&nm(d,n)){const p=o?dc(a,l,s):(y=i.getQueryCache().get(a.queryHash))==null?void 0:y.promise;p==null||p.catch(ut).finally(()=>{l.updateResult()})}return a.notifyOnChangeProps?d:l.trackResult(d)}function ft(r,e){return im(r,qg)}function Ke(r,e){const t=ar(),[n]=M.useState(()=>new Gg(t,r));M.useEffect(()=>{n.setOptions(r)},[n,r]);const s=M.useSyncExternalStore(M.useCallback(a=>n.subscribe(Xe.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),i=M.useCallback((a,o)=>{n.mutate(a,o).catch(ut)},[n]);if(s.error&&nu(n.options.throwOnError,[s.error]))throw s.error;return{...s,mutate:i,mutateAsync:s.mutate}}function am(r={}){const{nonce:e,onScriptLoadSuccess:t,onScriptLoadError:n}=r,[s,i]=M.useState(!1),a=M.useRef(t);a.current=t;const o=M.useRef(n);return o.current=n,M.useEffect(()=>{const l=document.createElement("script");return l.src="https://accounts.google.com/gsi/client",l.async=!0,l.defer=!0,l.nonce=e,l.onload=()=>{var d;i(!0),(d=a.current)===null||d===void 0||d.call(a)},l.onerror=()=>{var d;i(!1),(d=o.current)===null||d===void 0||d.call(o)},document.body.appendChild(l),()=>{document.body.removeChild(l)}},[e]),s}const om=M.createContext(null);function lm({clientId:r,nonce:e,onScriptLoadSuccess:t,onScriptLoadError:n,children:s}){const i=am({nonce:e,onScriptLoadSuccess:t,onScriptLoadError:n}),a=M.useMemo(()=>({clientId:r,scriptLoadedSuccessfully:i}),[r,i]);return Jn.createElement(om.Provider,{value:a},s)}let cm={data:""},dm=r=>typeof window=="object"?((r?r.querySelector("#_goober"):window._goober)||Object.assign((r||document.head).appendChild(document.createElement("style")),{innerHTML:" ",id:"_goober"})).firstChild:r||cm,um=/(?:([\u0080-\uFFFF\w-%@]+) *:? *([^{;]+?);|([^;}{]*?) *{)|(}\s*)/g,hm=/\/\*[^]*?\*\/|  +/g,uc=/\n+/g,wr=(r,e)=>{let t="",n="",s="";for(let i in r){let a=r[i];i[0]=="@"?i[1]=="i"?t=i+" "+a+";":n+=i[1]=="f"?wr(a,i):i+"{"+wr(a,i[1]=="k"?"":e)+"}":typeof a=="object"?n+=wr(a,e?e.replace(/([^,])+/g,o=>i.replace(/([^,]*:\S+\([^)]*\))|([^,])+/g,l=>/&/.test(l)?l.replace(/&/g,o):o?o+" "+l:l)):i):a!=null&&(i=/^--/.test(i)?i:i.replace(/[A-Z]/g,"-$&").toLowerCase(),s+=wr.p?wr.p(i,a):i+":"+a+";")}return t+(e&&s?e+"{"+s+"}":s)+n},Yt={},fu=r=>{if(typeof r=="object"){let e="";for(let t in r)e+=t+fu(r[t]);return e}return r},fm=(r,e,t,n,s)=>{let i=fu(r),a=Yt[i]||(Yt[i]=(l=>{let d=0,c=11;for(;d<l.length;)c=101*c+l.charCodeAt(d++)>>>0;return"go"+c})(i));if(!Yt[a]){let l=i!==r?r:(d=>{let c,f,h=[{}];for(;c=um.exec(d.replace(hm,""));)c[4]?h.shift():c[3]?(f=c[3].replace(uc," ").trim(),h.unshift(h[0][f]=h[0][f]||{})):h[0][c[1]]=c[2].replace(uc," ").trim();return h[0]})(r);Yt[a]=wr(s?{["@keyframes "+a]:l}:l,t?"":"."+a)}let o=t&&Yt.g?Yt.g:null;return t&&(Yt.g=Yt[a]),((l,d,c,f)=>{f?d.data=d.data.replace(f,l):d.data.indexOf(l)===-1&&(d.data=c?l+d.data:d.data+l)})(Yt[a],e,n,o),a},gm=(r,e,t)=>r.reduce((n,s,i)=>{let a=e[i];if(a&&a.call){let o=a(t),l=o&&o.props&&o.props.className||/^go/.test(o)&&o;a=l?"."+l:o&&typeof o=="object"?o.props?"":wr(o,""):o===!1?"":o}return n+s+(a??"")},"");function ta(r){let e=this||{},t=r.call?r(e.p):r;return fm(t.unshift?t.raw?gm(t,[].slice.call(arguments,1),e.p):t.reduce((n,s)=>Object.assign(n,s&&s.call?s(e.p):s),{}):t,dm(e.target),e.g,e.o,e.k)}let gu,po,yo;ta.bind({g:1});let nr=ta.bind({k:1});function mm(r,e,t,n){wr.p=e,gu=r,po=t,yo=n}function Br(r,e){let t=this||{};return function(){let n=arguments;function s(i,a){let o=Object.assign({},i),l=o.className||s.className;t.p=Object.assign({theme:po&&po()},o),t.o=/ *go\d+/.test(l),o.className=ta.apply(t,n)+(l?" "+l:"");let d=r;return r[0]&&(d=o.as||r,delete o.as),yo&&d[0]&&yo(o),gu(d,o)}return s}}var pm=r=>typeof r=="function",Mi=(r,e)=>pm(r)?r(e):r,ym=(()=>{let r=0;return()=>(++r).toString()})(),mu=(()=>{let r;return()=>{if(r===void 0&&typeof window<"u"){let e=matchMedia("(prefers-reduced-motion: reduce)");r=!e||e.matches}return r}})(),vm=20,pu=(r,e)=>{switch(e.type){case 0:return{...r,toasts:[e.toast,...r.toasts].slice(0,vm)};case 1:return{...r,toasts:r.toasts.map(i=>i.id===e.toast.id?{...i,...e.toast}:i)};case 2:let{toast:t}=e;return pu(r,{type:r.toasts.find(i=>i.id===t.id)?1:0,toast:t});case 3:let{toastId:n}=e;return{...r,toasts:r.toasts.map(i=>i.id===n||n===void 0?{...i,dismissed:!0,visible:!1}:i)};case 4:return e.toastId===void 0?{...r,toasts:[]}:{...r,toasts:r.toasts.filter(i=>i.id!==e.toastId)};case 5:return{...r,pausedAt:e.time};case 6:let s=e.time-(r.pausedAt||0);return{...r,pausedAt:void 0,toasts:r.toasts.map(i=>({...i,pauseDuration:i.pauseDuration+s}))}}},Ci=[],en={toasts:[],pausedAt:void 0},yn=r=>{en=pu(en,r),Ci.forEach(e=>{e(en)})},bm={blank:4e3,error:4e3,success:2e3,loading:1/0,custom:4e3},wm=(r={})=>{let[e,t]=M.useState(en),n=M.useRef(en);M.useEffect(()=>(n.current!==en&&t(en),Ci.push(t),()=>{let i=Ci.indexOf(t);i>-1&&Ci.splice(i,1)}),[]);let s=e.toasts.map(i=>{var a,o,l;return{...r,...r[i.type],...i,removeDelay:i.removeDelay||((a=r[i.type])==null?void 0:a.removeDelay)||(r==null?void 0:r.removeDelay),duration:i.duration||((o=r[i.type])==null?void 0:o.duration)||(r==null?void 0:r.duration)||bm[i.type],style:{...r.style,...(l=r[i.type])==null?void 0:l.style,...i.style}}});return{...e,toasts:s}},xm=(r,e="blank",t)=>({createdAt:Date.now(),visible:!0,dismissed:!1,type:e,ariaProps:{role:"status","aria-live":"polite"},message:r,pauseDuration:0,...t,id:(t==null?void 0:t.id)||ym()}),Bs=r=>(e,t)=>{let n=xm(e,r,t);return yn({type:2,toast:n}),n.id},ht=(r,e)=>Bs("blank")(r,e);ht.error=Bs("error");ht.success=Bs("success");ht.loading=Bs("loading");ht.custom=Bs("custom");ht.dismiss=r=>{yn({type:3,toastId:r})};ht.remove=r=>yn({type:4,toastId:r});ht.promise=(r,e,t)=>{let n=ht.loading(e.loading,{...t,...t==null?void 0:t.loading});return typeof r=="function"&&(r=r()),r.then(s=>{let i=e.success?Mi(e.success,s):void 0;return i?ht.success(i,{id:n,...t,...t==null?void 0:t.success}):ht.dismiss(n),s}).catch(s=>{let i=e.error?Mi(e.error,s):void 0;i?ht.error(i,{id:n,...t,...t==null?void 0:t.error}):ht.dismiss(n)}),r};var _m=(r,e)=>{yn({type:1,toast:{id:r,height:e}})},Sm=()=>{yn({type:5,time:Date.now()})},xs=new Map,Em=1e3,Cm=(r,e=Em)=>{if(xs.has(r))return;let t=setTimeout(()=>{xs.delete(r),yn({type:4,toastId:r})},e);xs.set(r,t)},km=r=>{let{toasts:e,pausedAt:t}=wm(r);M.useEffect(()=>{if(t)return;let i=Date.now(),a=e.map(o=>{if(o.duration===1/0)return;let l=(o.duration||0)+o.pauseDuration-(i-o.createdAt);if(l<0){o.visible&&ht.dismiss(o.id);return}return setTimeout(()=>ht.dismiss(o.id),l)});return()=>{a.forEach(o=>o&&clearTimeout(o))}},[e,t]);let n=M.useCallback(()=>{t&&yn({type:6,time:Date.now()})},[t]),s=M.useCallback((i,a)=>{let{reverseOrder:o=!1,gutter:l=8,defaultPosition:d}=a||{},c=e.filter(g=>(g.position||d)===(i.position||d)&&g.height),f=c.findIndex(g=>g.id===i.id),h=c.filter((g,v)=>v<f&&g.visible).length;return c.filter(g=>g.visible).slice(...o?[h+1]:[0,h]).reduce((g,v)=>g+(v.height||0)+l,0)},[e]);return M.useEffect(()=>{e.forEach(i=>{if(i.dismissed)Cm(i.id,i.removeDelay);else{let a=xs.get(i.id);a&&(clearTimeout(a),xs.delete(i.id))}})},[e]),{toasts:e,handlers:{updateHeight:_m,startPause:Sm,endPause:n,calculateOffset:s}}},Am=nr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
 transform: scale(1) rotate(45deg);
  opacity: 1;
}`,Dm=nr`
from {
  transform: scale(0);
  opacity: 0;
}
to {
  transform: scale(1);
  opacity: 1;
}`,jm=nr`
from {
  transform: scale(0) rotate(90deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(90deg);
	opacity: 1;
}`,Rm=Br("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#ff4b4b"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Am} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;

  &:after,
  &:before {
    content: '';
    animation: ${Dm} 0.15s ease-out forwards;
    animation-delay: 150ms;
    position: absolute;
    border-radius: 3px;
    opacity: 0;
    background: ${r=>r.secondary||"#fff"};
    bottom: 9px;
    left: 4px;
    height: 2px;
    width: 12px;
  }

  &:before {
    animation: ${jm} 0.15s ease-out forwards;
    animation-delay: 180ms;
    transform: rotate(90deg);
  }
`,Tm=nr`
  from {
    transform: rotate(0deg);
  }
  to {
    transform: rotate(360deg);
  }
`,Nm=Br("div")`
  width: 12px;
  height: 12px;
  box-sizing: border-box;
  border: 2px solid;
  border-radius: 100%;
  border-color: ${r=>r.secondary||"#e0e0e0"};
  border-right-color: ${r=>r.primary||"#616161"};
  animation: ${Tm} 1s linear infinite;
`,Om=nr`
from {
  transform: scale(0) rotate(45deg);
	opacity: 0;
}
to {
  transform: scale(1) rotate(45deg);
	opacity: 1;
}`,Im=nr`
0% {
	height: 0;
	width: 0;
	opacity: 0;
}
40% {
  height: 0;
	width: 6px;
	opacity: 1;
}
100% {
  opacity: 1;
  height: 10px;
}`,Mm=Br("div")`
  width: 20px;
  opacity: 0;
  height: 20px;
  border-radius: 10px;
  background: ${r=>r.primary||"#61d345"};
  position: relative;
  transform: rotate(45deg);

  animation: ${Om} 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
  animation-delay: 100ms;
  &:after {
    content: '';
    box-sizing: border-box;
    animation: ${Im} 0.2s ease-out forwards;
    opacity: 0;
    animation-delay: 200ms;
    position: absolute;
    border-right: 2px solid;
    border-bottom: 2px solid;
    border-color: ${r=>r.secondary||"#fff"};
    bottom: 6px;
    left: 6px;
    height: 10px;
    width: 6px;
  }
`,Pm=Br("div")`
  position: absolute;
`,Lm=Br("div")`
  position: relative;
  display: flex;
  justify-content: center;
  align-items: center;
  min-width: 20px;
  min-height: 20px;
`,Fm=nr`
from {
  transform: scale(0.6);
  opacity: 0.4;
}
to {
  transform: scale(1);
  opacity: 1;
}`,Um=Br("div")`
  position: relative;
  transform: scale(0.6);
  opacity: 0.4;
  min-width: 20px;
  animation: ${Fm} 0.3s 0.12s cubic-bezier(0.175, 0.885, 0.32, 1.275)
    forwards;
`,Hm=({toast:r})=>{let{icon:e,type:t,iconTheme:n}=r;return e!==void 0?typeof e=="string"?M.createElement(Um,null,e):e:t==="blank"?null:M.createElement(Lm,null,M.createElement(Nm,{...n}),t!=="loading"&&M.createElement(Pm,null,t==="error"?M.createElement(Rm,{...n}):M.createElement(Mm,{...n})))},Bm=r=>`
0% {transform: translate3d(0,${r*-200}%,0) scale(.6); opacity:.5;}
100% {transform: translate3d(0,0,0) scale(1); opacity:1;}
`,$m=r=>`
0% {transform: translate3d(0,0,-1px) scale(1); opacity:1;}
100% {transform: translate3d(0,${r*-150}%,-1px) scale(.6); opacity:0;}
`,zm="0%{opacity:0;} 100%{opacity:1;}",qm="0%{opacity:1;} 100%{opacity:0;}",Wm=Br("div")`
  display: flex;
  align-items: center;
  background: #fff;
  color: #363636;
  line-height: 1.3;
  will-change: transform;
  box-shadow: 0 3px 10px rgba(0, 0, 0, 0.1), 0 3px 3px rgba(0, 0, 0, 0.05);
  max-width: 350px;
  pointer-events: auto;
  padding: 8px 10px;
  border-radius: 8px;
`,Vm=Br("div")`
  display: flex;
  justify-content: center;
  margin: 4px 10px;
  color: inherit;
  flex: 1 1 auto;
  white-space: pre-line;
`,Gm=(r,e)=>{let t=r.includes("top")?1:-1,[n,s]=mu()?[zm,qm]:[Bm(t),$m(t)];return{animation:e?`${nr(n)} 0.35s cubic-bezier(.21,1.02,.73,1) forwards`:`${nr(s)} 0.4s forwards cubic-bezier(.06,.71,.55,1)`}},Qm=M.memo(({toast:r,position:e,style:t,children:n})=>{let s=r.height?Gm(r.position||e||"top-center",r.visible):{opacity:0},i=M.createElement(Hm,{toast:r}),a=M.createElement(Vm,{...r.ariaProps},Mi(r.message,r));return M.createElement(Wm,{className:r.className,style:{...s,...t,...r.style}},typeof n=="function"?n({icon:i,message:a}):M.createElement(M.Fragment,null,i,a))});mm(M.createElement);var Ym=({id:r,className:e,style:t,onHeightUpdate:n,children:s})=>{let i=M.useCallback(a=>{if(a){let o=()=>{let l=a.getBoundingClientRect().height;n(r,l)};o(),new MutationObserver(o).observe(a,{subtree:!0,childList:!0,characterData:!0})}},[r,n]);return M.createElement("div",{ref:i,className:e,style:t},s)},Km=(r,e)=>{let t=r.includes("top"),n=t?{top:0}:{bottom:0},s=r.includes("center")?{justifyContent:"center"}:r.includes("right")?{justifyContent:"flex-end"}:{};return{left:0,right:0,display:"flex",position:"absolute",transition:mu()?void 0:"all 230ms cubic-bezier(.21,1.02,.73,1)",transform:`translateY(${e*(t?1:-1)}px)`,...n,...s}},Jm=ta`
  z-index: 9999;
  > * {
    pointer-events: auto;
  }
`,di=16,hc=({reverseOrder:r,position:e="top-center",toastOptions:t,gutter:n,children:s,containerStyle:i,containerClassName:a})=>{let{toasts:o,handlers:l}=km(t);return M.createElement("div",{id:"_rht_toaster",style:{position:"fixed",zIndex:9999,top:di,left:di,right:di,bottom:di,pointerEvents:"none",...i},className:a,onMouseEnter:l.startPause,onMouseLeave:l.endPause},o.map(d=>{let c=d.position||e,f=l.calculateOffset(d,{reverseOrder:r,gutter:n,defaultPosition:e}),h=Km(c,f);return M.createElement(Ym,{id:d.id,key:d.id,onHeightUpdate:l.updateHeight,className:d.visible?Jm:"",style:h},d.type==="custom"?Mi(d.message,d):s?s(d):M.createElement(Qm,{toast:d,position:c}))}))},ee=ht;const Zm={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qaGhpZmtucnVyeHZjY21uZWVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5OTI2MjIsImV4cCI6MjA2NDU2ODYyMn0.pcNOkQBDxMz780LsPceihuEQQgWdsFK1sErkmGhuXLk",VITE_SUPABASE_URL:"https://mjhhifknrurxvccmneeq.supabase.co"},fc=r=>{let e;const t=new Set,n=(c,f)=>{const h=typeof c=="function"?c(e):c;if(!Object.is(h,e)){const g=e;e=f??(typeof h!="object"||h===null)?h:Object.assign({},e,h),t.forEach(v=>v(e,g))}},s=()=>e,l={setState:n,getState:s,getInitialState:()=>d,subscribe:c=>(t.add(c),()=>t.delete(c)),destroy:()=>{(Zm?"production":void 0)!=="production"&&console.warn("[DEPRECATED] The `destroy` method will be unsupported in a future version. Instead use unsubscribe function returned by subscribe. Everything will be garbage-collected if store is garbage-collected."),t.clear()}},d=e=r(n,s,l);return l},Xm=r=>r?fc(r):fc;var yu={exports:{}},vu={},bu={exports:{}},wu={};/**
 * @license React
 * use-sync-external-store-shim.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Zn=M;function ep(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var tp=typeof Object.is=="function"?Object.is:ep,rp=Zn.useState,np=Zn.useEffect,sp=Zn.useLayoutEffect,ip=Zn.useDebugValue;function ap(r,e){var t=e(),n=rp({inst:{value:t,getSnapshot:e}}),s=n[0].inst,i=n[1];return sp(function(){s.value=t,s.getSnapshot=e,Aa(s)&&i({inst:s})},[r,t,e]),np(function(){return Aa(s)&&i({inst:s}),r(function(){Aa(s)&&i({inst:s})})},[r]),ip(t),t}function Aa(r){var e=r.getSnapshot;r=r.value;try{var t=e();return!tp(r,t)}catch{return!0}}function op(r,e){return e()}var lp=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?op:ap;wu.useSyncExternalStore=Zn.useSyncExternalStore!==void 0?Zn.useSyncExternalStore:lp;bu.exports=wu;var cp=bu.exports;/**
 * @license React
 * use-sync-external-store-shim/with-selector.production.js
 *
 * Copyright (c) Meta Platforms, Inc. and affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ra=M,dp=cp;function up(r,e){return r===e&&(r!==0||1/r===1/e)||r!==r&&e!==e}var hp=typeof Object.is=="function"?Object.is:up,fp=dp.useSyncExternalStore,gp=ra.useRef,mp=ra.useEffect,pp=ra.useMemo,yp=ra.useDebugValue;vu.useSyncExternalStoreWithSelector=function(r,e,t,n,s){var i=gp(null);if(i.current===null){var a={hasValue:!1,value:null};i.current=a}else a=i.current;i=pp(function(){function l(g){if(!d){if(d=!0,c=g,g=n(g),s!==void 0&&a.hasValue){var v=a.value;if(s(v,g))return f=v}return f=g}if(v=f,hp(c,g))return v;var y=n(g);return s!==void 0&&s(v,y)?(c=g,v):(c=g,f=y)}var d=!1,c,f,h=t===void 0?null:t;return[function(){return l(e())},h===null?void 0:function(){return l(h())}]},[e,t,n,s]);var o=fp(r,i[0],i[1]);return mp(function(){a.hasValue=!0,a.value=o},[o]),yp(o),o};yu.exports=vu;var vp=yu.exports;const bp=Yd(vp),xu={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qaGhpZmtucnVyeHZjY21uZWVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5OTI2MjIsImV4cCI6MjA2NDU2ODYyMn0.pcNOkQBDxMz780LsPceihuEQQgWdsFK1sErkmGhuXLk",VITE_SUPABASE_URL:"https://mjhhifknrurxvccmneeq.supabase.co"},{useDebugValue:wp}=Jn,{useSyncExternalStoreWithSelector:xp}=bp;let gc=!1;const _p=r=>r;function Sp(r,e=_p,t){(xu?"production":void 0)!=="production"&&t&&!gc&&(console.warn("[DEPRECATED] Use `createWithEqualityFn` instead of `create` or use `useStoreWithEqualityFn` instead of `useStore`. They can be imported from 'zustand/traditional'. https://github.com/pmndrs/zustand/discussions/1937"),gc=!0);const n=xp(r.subscribe,r.getState,r.getServerState||r.getInitialState,e,t);return wp(n),n}const Ep=r=>{(xu?"production":void 0)!=="production"&&typeof r!="function"&&console.warn("[DEPRECATED] Passing a vanilla store will be unsupported in a future version. Instead use `import { useStore } from 'zustand'`.");const e=typeof r=="function"?Xm(r):r,t=(n,s)=>Sp(e,n,s);return Object.assign(t,e),t},_u=r=>Ep,Cp={BASE_URL:"/",DEV:!1,MODE:"production",PROD:!0,SSR:!1,VITE_SUPABASE_ANON_KEY:"eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qaGhpZmtucnVyeHZjY21uZWVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5OTI2MjIsImV4cCI6MjA2NDU2ODYyMn0.pcNOkQBDxMz780LsPceihuEQQgWdsFK1sErkmGhuXLk",VITE_SUPABASE_URL:"https://mjhhifknrurxvccmneeq.supabase.co"};function kp(r,e){let t;try{t=r()}catch{return}return{getItem:s=>{var i;const a=l=>l===null?null:JSON.parse(l,void 0),o=(i=t.getItem(s))!=null?i:null;return o instanceof Promise?o.then(a):a(o)},setItem:(s,i)=>t.setItem(s,JSON.stringify(i,void 0)),removeItem:s=>t.removeItem(s)}}const Rs=r=>e=>{try{const t=r(e);return t instanceof Promise?t:{then(n){return Rs(n)(t)},catch(n){return this}}}catch(t){return{then(n){return this},catch(n){return Rs(n)(t)}}}},Ap=(r,e)=>(t,n,s)=>{let i={getStorage:()=>localStorage,serialize:JSON.stringify,deserialize:JSON.parse,partialize:p=>p,version:0,merge:(p,S)=>({...S,...p}),...e},a=!1;const o=new Set,l=new Set;let d;try{d=i.getStorage()}catch{}if(!d)return r((...p)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...p)},n,s);const c=Rs(i.serialize),f=()=>{const p=i.partialize({...n()});let S;const w=c({state:p,version:i.version}).then(k=>d.setItem(i.name,k)).catch(k=>{S=k});if(S)throw S;return w},h=s.setState;s.setState=(p,S)=>{h(p,S),f()};const g=r((...p)=>{t(...p),f()},n,s);let v;const y=()=>{var p;if(!d)return;a=!1,o.forEach(w=>w(n()));const S=((p=i.onRehydrateStorage)==null?void 0:p.call(i,n()))||void 0;return Rs(d.getItem.bind(d))(i.name).then(w=>{if(w)return i.deserialize(w)}).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate)return i.migrate(w.state,w.version);console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return w.state}).then(w=>{var k;return v=i.merge(w,(k=n())!=null?k:g),t(v,!0),f()}).then(()=>{S==null||S(v,void 0),a=!0,l.forEach(w=>w(v))}).catch(w=>{S==null||S(void 0,w)})};return s.persist={setOptions:p=>{i={...i,...p},p.getStorage&&(d=p.getStorage())},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>y(),hasHydrated:()=>a,onHydrate:p=>(o.add(p),()=>{o.delete(p)}),onFinishHydration:p=>(l.add(p),()=>{l.delete(p)})},y(),v||g},Dp=(r,e)=>(t,n,s)=>{let i={storage:kp(()=>localStorage),partialize:y=>y,version:0,merge:(y,p)=>({...p,...y}),...e},a=!1;const o=new Set,l=new Set;let d=i.storage;if(!d)return r((...y)=>{console.warn(`[zustand persist middleware] Unable to update item '${i.name}', the given storage is currently unavailable.`),t(...y)},n,s);const c=()=>{const y=i.partialize({...n()});return d.setItem(i.name,{state:y,version:i.version})},f=s.setState;s.setState=(y,p)=>{f(y,p),c()};const h=r((...y)=>{t(...y),c()},n,s);s.getInitialState=()=>h;let g;const v=()=>{var y,p;if(!d)return;a=!1,o.forEach(w=>{var k;return w((k=n())!=null?k:h)});const S=((p=i.onRehydrateStorage)==null?void 0:p.call(i,(y=n())!=null?y:h))||void 0;return Rs(d.getItem.bind(d))(i.name).then(w=>{if(w)if(typeof w.version=="number"&&w.version!==i.version){if(i.migrate)return[!0,i.migrate(w.state,w.version)];console.error("State loaded from storage couldn't be migrated since no migrate function was provided")}else return[!1,w.state];return[!1,void 0]}).then(w=>{var k;const[E,T]=w;if(g=i.merge(T,(k=n())!=null?k:h),t(g,!0),E)return c()}).then(()=>{S==null||S(g,void 0),g=n(),a=!0,l.forEach(w=>w(g))}).catch(w=>{S==null||S(void 0,w)})};return s.persist={setOptions:y=>{i={...i,...y},y.storage&&(d=y.storage)},clearStorage:()=>{d==null||d.removeItem(i.name)},getOptions:()=>i,rehydrate:()=>v(),hasHydrated:()=>a,onHydrate:y=>(o.add(y),()=>{o.delete(y)}),onFinishHydration:y=>(l.add(y),()=>{l.delete(y)})},i.skipHydration||v(),g||h},jp=(r,e)=>"getStorage"in e||"serialize"in e||"deserialize"in e?((Cp?"production":void 0)!=="production"&&console.warn("[DEPRECATED] `getStorage`, `serialize` and `deserialize` options are deprecated. Use `storage` option instead."),Ap(r,e)):Dp(r,e),Su=jp,Rp="modulepreload",Tp=function(r){return"/"+r},mc={},is=function(e,t,n){let s=Promise.resolve();if(t&&t.length>0){document.getElementsByTagName("link");const a=document.querySelector("meta[property=csp-nonce]"),o=(a==null?void 0:a.nonce)||(a==null?void 0:a.getAttribute("nonce"));s=Promise.allSettled(t.map(l=>{if(l=Tp(l),l in mc)return;mc[l]=!0;const d=l.endsWith(".css"),c=d?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${l}"]${c}`))return;const f=document.createElement("link");if(f.rel=d?"stylesheet":Rp,d||(f.as="script"),f.crossOrigin="",f.href=l,o&&f.setAttribute("nonce",o),document.head.appendChild(f),d)return new Promise((h,g)=>{f.addEventListener("load",h),f.addEventListener("error",()=>g(new Error(`Unable to preload CSS for ${l}`)))})}))}function i(a){const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=a,window.dispatchEvent(o),!o.defaultPrevented)throw a}return s.then(a=>{for(const o of a||[])o.status==="rejected"&&i(o.reason);return e().catch(i)})},Np=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>is(async()=>{const{default:n}=await Promise.resolve().then(()=>as);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)};class Xo extends Error{constructor(e,t="FunctionsError",n){super(e),this.name=t,this.context=n}}class Op extends Xo{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class Ip extends Xo{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class Mp extends Xo{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var vo;(function(r){r.Any="any",r.ApNortheast1="ap-northeast-1",r.ApNortheast2="ap-northeast-2",r.ApSouth1="ap-south-1",r.ApSoutheast1="ap-southeast-1",r.ApSoutheast2="ap-southeast-2",r.CaCentral1="ca-central-1",r.EuCentral1="eu-central-1",r.EuWest1="eu-west-1",r.EuWest2="eu-west-2",r.EuWest3="eu-west-3",r.SaEast1="sa-east-1",r.UsEast1="us-east-1",r.UsWest1="us-west-1",r.UsWest2="us-west-2"})(vo||(vo={}));var Pp=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function l(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((n=n.apply(r,e||[])).next())})};class Lp{constructor(e,{headers:t={},customFetch:n,region:s=vo.Any}={}){this.url=e,this.headers=t,this.region=s,this.fetch=Np(n)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,t={}){var n;return Pp(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:a}=t;let o={},{region:l}=t;l||(l=this.region),l&&l!=="any"&&(o["x-region"]=l);let d;a&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&a instanceof Blob||a instanceof ArrayBuffer?(o["Content-Type"]="application/octet-stream",d=a):typeof a=="string"?(o["Content-Type"]="text/plain",d=a):typeof FormData<"u"&&a instanceof FormData?d=a:(o["Content-Type"]="application/json",d=JSON.stringify(a)));const c=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},o),this.headers),s),body:d}).catch(v=>{throw new Op(v)}),f=c.headers.get("x-relay-error");if(f&&f==="true")throw new Ip(c);if(!c.ok)throw new Mp(c);let h=((n=c.headers.get("Content-Type"))!==null&&n!==void 0?n:"text/plain").split(";")[0].trim(),g;return h==="application/json"?g=yield c.json():h==="application/octet-stream"?g=yield c.blob():h==="text/event-stream"?g=c:h==="multipart/form-data"?g=yield c.formData():g=yield c.text(),{data:g,error:null}}catch(s){return{data:null,error:s}}})}}var bt={},el={},na={},$s={},sa={},ia={},Fp=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},Xn=Fp();const Up=Xn.fetch,Eu=Xn.fetch.bind(Xn),Cu=Xn.Headers,Hp=Xn.Request,Bp=Xn.Response,as=Object.freeze(Object.defineProperty({__proto__:null,Headers:Cu,Request:Hp,Response:Bp,default:Eu,fetch:Up},Symbol.toStringTag,{value:"Module"})),$p=sg(as);var aa={};Object.defineProperty(aa,"__esModule",{value:!0});let zp=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};aa.default=zp;var ku=jt&&jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(ia,"__esModule",{value:!0});const qp=ku($p),Wp=ku(aa);let Vp=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=qp.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,t){return this.headers=Object.assign({},this.headers),this.headers[e]=t,this}then(e,t){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const n=this.fetch;let s=n(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var a,o,l;let d=null,c=null,f=null,h=i.status,g=i.statusText;if(i.ok){if(this.method!=="HEAD"){const S=await i.text();S===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?c=S:c=JSON.parse(S))}const y=(a=this.headers.Prefer)===null||a===void 0?void 0:a.match(/count=(exact|planned|estimated)/),p=(o=i.headers.get("content-range"))===null||o===void 0?void 0:o.split("/");y&&p&&p.length>1&&(f=parseInt(p[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(c)&&(c.length>1?(d={code:"PGRST116",details:`Results contain ${c.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},c=null,f=null,h=406,g="Not Acceptable"):c.length===1?c=c[0]:c=null)}else{const y=await i.text();try{d=JSON.parse(y),Array.isArray(d)&&i.status===404&&(c=[],d=null,h=200,g="OK")}catch{i.status===404&&y===""?(h=204,g="No Content"):d={message:y}}if(d&&this.isMaybeSingle&&(!((l=d==null?void 0:d.details)===null||l===void 0)&&l.includes("0 rows"))&&(d=null,h=200,g="OK"),d&&this.shouldThrowOnError)throw new Wp.default(d)}return{error:d,data:c,count:f,status:h,statusText:g}});return this.shouldThrowOnError||(s=s.catch(i=>{var a,o,l;return{error:{message:`${(a=i==null?void 0:i.name)!==null&&a!==void 0?a:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(o=i==null?void 0:i.stack)!==null&&o!==void 0?o:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,t)}returns(){return this}overrideTypes(){return this}};ia.default=Vp;var Gp=jt&&jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(sa,"__esModule",{value:!0});const Qp=Gp(ia);let Yp=class extends Qp.default{select(e){let t=!1;const n=(e??"*").split("").map(s=>/\s/.test(s)&&!t?"":(s==='"'&&(t=!t),s)).join("");return this.url.searchParams.set("select",n),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:t=!0,nullsFirst:n,foreignTable:s,referencedTable:i=s}={}){const a=i?`${i}.order`:"order",o=this.url.searchParams.get(a);return this.url.searchParams.set(a,`${o?`${o},`:""}${e}.${t?"asc":"desc"}${n===void 0?"":n?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:t,referencedTable:n=t}={}){const s=typeof n>"u"?"limit":`${n}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,t,{foreignTable:n,referencedTable:s=n}={}){const i=typeof s>"u"?"offset":`${s}.offset`,a=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(a,`${t-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:t=!1,settings:n=!1,buffers:s=!1,wal:i=!1,format:a="text"}={}){var o;const l=[e?"analyze":null,t?"verbose":null,n?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),d=(o=this.headers.Accept)!==null&&o!==void 0?o:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${a}; for="${d}"; options=${l};`,a==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};sa.default=Yp;var Kp=jt&&jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty($s,"__esModule",{value:!0});const Jp=Kp(sa);let Zp=class extends Jp.default{eq(e,t){return this.url.searchParams.append(e,`eq.${t}`),this}neq(e,t){return this.url.searchParams.append(e,`neq.${t}`),this}gt(e,t){return this.url.searchParams.append(e,`gt.${t}`),this}gte(e,t){return this.url.searchParams.append(e,`gte.${t}`),this}lt(e,t){return this.url.searchParams.append(e,`lt.${t}`),this}lte(e,t){return this.url.searchParams.append(e,`lte.${t}`),this}like(e,t){return this.url.searchParams.append(e,`like.${t}`),this}likeAllOf(e,t){return this.url.searchParams.append(e,`like(all).{${t.join(",")}}`),this}likeAnyOf(e,t){return this.url.searchParams.append(e,`like(any).{${t.join(",")}}`),this}ilike(e,t){return this.url.searchParams.append(e,`ilike.${t}`),this}ilikeAllOf(e,t){return this.url.searchParams.append(e,`ilike(all).{${t.join(",")}}`),this}ilikeAnyOf(e,t){return this.url.searchParams.append(e,`ilike(any).{${t.join(",")}}`),this}is(e,t){return this.url.searchParams.append(e,`is.${t}`),this}in(e,t){const n=Array.from(new Set(t)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${n})`),this}contains(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cs.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cs.{${t.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(t)}`),this}containedBy(e,t){return typeof t=="string"?this.url.searchParams.append(e,`cd.${t}`):Array.isArray(t)?this.url.searchParams.append(e,`cd.{${t.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(t)}`),this}rangeGt(e,t){return this.url.searchParams.append(e,`sr.${t}`),this}rangeGte(e,t){return this.url.searchParams.append(e,`nxl.${t}`),this}rangeLt(e,t){return this.url.searchParams.append(e,`sl.${t}`),this}rangeLte(e,t){return this.url.searchParams.append(e,`nxr.${t}`),this}rangeAdjacent(e,t){return this.url.searchParams.append(e,`adj.${t}`),this}overlaps(e,t){return typeof t=="string"?this.url.searchParams.append(e,`ov.${t}`):this.url.searchParams.append(e,`ov.{${t.join(",")}}`),this}textSearch(e,t,{config:n,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const a=n===void 0?"":`(${n})`;return this.url.searchParams.append(e,`${i}fts${a}.${t}`),this}match(e){return Object.entries(e).forEach(([t,n])=>{this.url.searchParams.append(t,`eq.${n}`)}),this}not(e,t,n){return this.url.searchParams.append(e,`not.${t}.${n}`),this}or(e,{foreignTable:t,referencedTable:n=t}={}){const s=n?`${n}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,t,n){return this.url.searchParams.append(e,`${t}.${n}`),this}};$s.default=Zp;var Xp=jt&&jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(na,"__esModule",{value:!0});const gs=Xp($s);let ey=class{constructor(e,{headers:t={},schema:n,fetch:s}){this.url=e,this.headers=t,this.schema=n,this.fetch=s}select(e,{head:t=!1,count:n}={}){const s=t?"HEAD":"GET";let i=!1;const a=(e??"*").split("").map(o=>/\s/.test(o)&&!i?"":(o==='"'&&(i=!i),o)).join("");return this.url.searchParams.set("select",a),n&&(this.headers.Prefer=`count=${n}`),new gs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:t,defaultToNull:n=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),t&&i.push(`count=${t}`),n||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const a=e.reduce((o,l)=>o.concat(Object.keys(l)),[]);if(a.length>0){const o=[...new Set(a)].map(l=>`"${l}"`);this.url.searchParams.set("columns",o.join(","))}}return new gs.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:t,ignoreDuplicates:n=!1,count:s,defaultToNull:i=!0}={}){const a="POST",o=[`resolution=${n?"ignore":"merge"}-duplicates`];if(t!==void 0&&this.url.searchParams.set("on_conflict",t),this.headers.Prefer&&o.push(this.headers.Prefer),s&&o.push(`count=${s}`),i||o.push("missing=default"),this.headers.Prefer=o.join(","),Array.isArray(e)){const l=e.reduce((d,c)=>d.concat(Object.keys(c)),[]);if(l.length>0){const d=[...new Set(l)].map(c=>`"${c}"`);this.url.searchParams.set("columns",d.join(","))}}return new gs.default({method:a,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:t}={}){const n="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),t&&s.push(`count=${t}`),this.headers.Prefer=s.join(","),new gs.default({method:n,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const t="DELETE",n=[];return e&&n.push(`count=${e}`),this.headers.Prefer&&n.unshift(this.headers.Prefer),this.headers.Prefer=n.join(","),new gs.default({method:t,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};na.default=ey;var oa={},la={};Object.defineProperty(la,"__esModule",{value:!0});la.version=void 0;la.version="0.0.0-automated";Object.defineProperty(oa,"__esModule",{value:!0});oa.DEFAULT_HEADERS=void 0;const ty=la;oa.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${ty.version}`};var Au=jt&&jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(el,"__esModule",{value:!0});const ry=Au(na),ny=Au($s),sy=oa;let iy=class Du{constructor(e,{headers:t={},schema:n,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},sy.DEFAULT_HEADERS),t),this.schemaName=n,this.fetch=s}from(e){const t=new URL(`${this.url}/${e}`);return new ry.default(t,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Du(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,t={},{head:n=!1,get:s=!1,count:i}={}){let a;const o=new URL(`${this.url}/rpc/${e}`);let l;n||s?(a=n?"HEAD":"GET",Object.entries(t).filter(([c,f])=>f!==void 0).map(([c,f])=>[c,Array.isArray(f)?`{${f.join(",")}}`:`${f}`]).forEach(([c,f])=>{o.searchParams.append(c,f)})):(a="POST",l=t);const d=Object.assign({},this.headers);return i&&(d.Prefer=`count=${i}`),new ny.default({method:a,url:o,headers:d,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};el.default=iy;var os=jt&&jt.__importDefault||function(r){return r&&r.__esModule?r:{default:r}};Object.defineProperty(bt,"__esModule",{value:!0});bt.PostgrestError=bt.PostgrestBuilder=bt.PostgrestTransformBuilder=bt.PostgrestFilterBuilder=bt.PostgrestQueryBuilder=bt.PostgrestClient=void 0;const ju=os(el);bt.PostgrestClient=ju.default;const Ru=os(na);bt.PostgrestQueryBuilder=Ru.default;const Tu=os($s);bt.PostgrestFilterBuilder=Tu.default;const Nu=os(sa);bt.PostgrestTransformBuilder=Nu.default;const Ou=os(ia);bt.PostgrestBuilder=Ou.default;const Iu=os(aa);bt.PostgrestError=Iu.default;var ay=bt.default={PostgrestClient:ju.default,PostgrestQueryBuilder:Ru.default,PostgrestFilterBuilder:Tu.default,PostgrestTransformBuilder:Nu.default,PostgrestBuilder:Ou.default,PostgrestError:Iu.default};const{PostgrestClient:oy,PostgrestQueryBuilder:kk,PostgrestFilterBuilder:Ak,PostgrestTransformBuilder:Dk,PostgrestBuilder:jk,PostgrestError:Rk}=ay;let bo;typeof window>"u"?bo=require("ws"):bo=window.WebSocket;const ly=bo,cy="2.11.9",dy={"X-Client-Info":`realtime-js/${cy}`},uy="1.0.0",Mu=1e4,hy=1e3;var In;(function(r){r[r.connecting=0]="connecting",r[r.open=1]="open",r[r.closing=2]="closing",r[r.closed=3]="closed"})(In||(In={}));var lt;(function(r){r.closed="closed",r.errored="errored",r.joined="joined",r.joining="joining",r.leaving="leaving"})(lt||(lt={}));var It;(function(r){r.close="phx_close",r.error="phx_error",r.join="phx_join",r.reply="phx_reply",r.leave="phx_leave",r.access_token="access_token"})(It||(It={}));var wo;(function(r){r.websocket="websocket"})(wo||(wo={}));var Zr;(function(r){r.Connecting="connecting",r.Open="open",r.Closing="closing",r.Closed="closed"})(Zr||(Zr={}));class fy{constructor(){this.HEADER_LENGTH=1}decode(e,t){return e.constructor===ArrayBuffer?t(this._binaryDecode(e)):t(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const t=new DataView(e),n=new TextDecoder;return this._decodeBroadcast(e,t,n)}_decodeBroadcast(e,t,n){const s=t.getUint8(1),i=t.getUint8(2);let a=this.HEADER_LENGTH+2;const o=n.decode(e.slice(a,a+s));a=a+s;const l=n.decode(e.slice(a,a+i));a=a+i;const d=JSON.parse(n.decode(e.slice(a,e.byteLength)));return{ref:null,topic:o,event:l,payload:d}}}class Pu{constructor(e,t){this.callback=e,this.timerCalc=t,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=t}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var He;(function(r){r.abstime="abstime",r.bool="bool",r.date="date",r.daterange="daterange",r.float4="float4",r.float8="float8",r.int2="int2",r.int4="int4",r.int4range="int4range",r.int8="int8",r.int8range="int8range",r.json="json",r.jsonb="jsonb",r.money="money",r.numeric="numeric",r.oid="oid",r.reltime="reltime",r.text="text",r.time="time",r.timestamp="timestamp",r.timestamptz="timestamptz",r.timetz="timetz",r.tsrange="tsrange",r.tstzrange="tstzrange"})(He||(He={}));const pc=(r,e,t={})=>{var n;const s=(n=t.skipTypes)!==null&&n!==void 0?n:[];return Object.keys(e).reduce((i,a)=>(i[a]=gy(a,r,e,s),i),{})},gy=(r,e,t,n)=>{const s=e.find(o=>o.name===r),i=s==null?void 0:s.type,a=t[r];return i&&!n.includes(i)?Lu(i,a):xo(a)},Lu=(r,e)=>{if(r.charAt(0)==="_"){const t=r.slice(1,r.length);return vy(e,t)}switch(r){case He.bool:return my(e);case He.float4:case He.float8:case He.int2:case He.int4:case He.int8:case He.numeric:case He.oid:return py(e);case He.json:case He.jsonb:return yy(e);case He.timestamp:return by(e);case He.abstime:case He.date:case He.daterange:case He.int4range:case He.int8range:case He.money:case He.reltime:case He.text:case He.time:case He.timestamptz:case He.timetz:case He.tsrange:case He.tstzrange:return xo(e);default:return xo(e)}},xo=r=>r,my=r=>{switch(r){case"t":return!0;case"f":return!1;default:return r}},py=r=>{if(typeof r=="string"){const e=parseFloat(r);if(!Number.isNaN(e))return e}return r},yy=r=>{if(typeof r=="string")try{return JSON.parse(r)}catch(e){return console.log(`JSON parse error: ${e}`),r}return r},vy=(r,e)=>{if(typeof r!="string")return r;const t=r.length-1,n=r[t];if(r[0]==="{"&&n==="}"){let i;const a=r.slice(1,t);try{i=JSON.parse("["+a+"]")}catch{i=a?a.split(","):[]}return i.map(o=>Lu(e,o))}return r},by=r=>typeof r=="string"?r.replace(" ","T"):r,Fu=r=>{let e=r;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class Da{constructor(e,t,n={},s=Mu){this.channel=e,this.event=t,this.payload=n,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,t){var n;return this._hasReceived(e)&&t((n=this.receivedResp)===null||n===void 0?void 0:n.response),this.recHooks.push({status:e,callback:t}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=t=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=t,this._matchReceive(t)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,t){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:t})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:t}){this.recHooks.filter(n=>n.status===e).forEach(n=>n.callback(t))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var yc;(function(r){r.SYNC="sync",r.JOIN="join",r.LEAVE="leave"})(yc||(yc={}));class _s{constructor(e,t){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const n=(t==null?void 0:t.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(n.state,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.joinRef=this.channel._joinRef(),this.state=_s.syncState(this.state,s,i,a),this.pendingDiffs.forEach(l=>{this.state=_s.syncDiff(this.state,l,i,a)}),this.pendingDiffs=[],o()}),this.channel._on(n.diff,{},s=>{const{onJoin:i,onLeave:a,onSync:o}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=_s.syncDiff(this.state,s,i,a),o())}),this.onJoin((s,i,a)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:a})}),this.onLeave((s,i,a)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:a})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,t,n,s){const i=this.cloneDeep(e),a=this.transformState(t),o={},l={};return this.map(i,(d,c)=>{a[d]||(l[d]=c)}),this.map(a,(d,c)=>{const f=i[d];if(f){const h=c.map(p=>p.presence_ref),g=f.map(p=>p.presence_ref),v=c.filter(p=>g.indexOf(p.presence_ref)<0),y=f.filter(p=>h.indexOf(p.presence_ref)<0);v.length>0&&(o[d]=v),y.length>0&&(l[d]=y)}else o[d]=c}),this.syncDiff(i,{joins:o,leaves:l},n,s)}static syncDiff(e,t,n,s){const{joins:i,leaves:a}={joins:this.transformState(t.joins),leaves:this.transformState(t.leaves)};return n||(n=()=>{}),s||(s=()=>{}),this.map(i,(o,l)=>{var d;const c=(d=e[o])!==null&&d!==void 0?d:[];if(e[o]=this.cloneDeep(l),c.length>0){const f=e[o].map(g=>g.presence_ref),h=c.filter(g=>f.indexOf(g.presence_ref)<0);e[o].unshift(...h)}n(o,c,l)}),this.map(a,(o,l)=>{let d=e[o];if(!d)return;const c=l.map(f=>f.presence_ref);d=d.filter(f=>c.indexOf(f.presence_ref)<0),e[o]=d,s(o,d,l),d.length===0&&delete e[o]}),e}static map(e,t){return Object.getOwnPropertyNames(e).map(n=>t(n,e[n]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((t,n)=>{const s=e[n];return"metas"in s?t[n]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):t[n]=s,t},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var vc;(function(r){r.ALL="*",r.INSERT="INSERT",r.UPDATE="UPDATE",r.DELETE="DELETE"})(vc||(vc={}));var bc;(function(r){r.BROADCAST="broadcast",r.PRESENCE="presence",r.POSTGRES_CHANGES="postgres_changes",r.SYSTEM="system"})(bc||(bc={}));var Jt;(function(r){r.SUBSCRIBED="SUBSCRIBED",r.TIMED_OUT="TIMED_OUT",r.CLOSED="CLOSED",r.CHANNEL_ERROR="CHANNEL_ERROR"})(Jt||(Jt={}));class tl{constructor(e,t={config:{}},n){this.topic=e,this.params=t,this.socket=n,this.bindings={},this.state=lt.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},t.config),this.timeout=this.socket.timeout,this.joinPush=new Da(this,It.join,this.params,this.timeout),this.rejoinTimer=new Pu(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=lt.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=lt.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=lt.errored,this.rejoinTimer.scheduleTimeout())}),this._on(It.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new _s(this),this.broadcastEndpointURL=Fu(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,t=this.timeout){var n,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:a,private:o}}=this.params;this._onError(c=>e==null?void 0:e(Jt.CHANNEL_ERROR,c)),this._onClose(()=>e==null?void 0:e(Jt.CLOSED));const l={},d={broadcast:i,presence:a,postgres_changes:(s=(n=this.bindings.postgres_changes)===null||n===void 0?void 0:n.map(c=>c.filter))!==null&&s!==void 0?s:[],private:o};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:d},l)),this.joinedOnce=!0,this._rejoin(t),this.joinPush.receive("ok",async({postgres_changes:c})=>{var f;if(this.socket.setAuth(),c===void 0){e==null||e(Jt.SUBSCRIBED);return}else{const h=this.bindings.postgres_changes,g=(f=h==null?void 0:h.length)!==null&&f!==void 0?f:0,v=[];for(let y=0;y<g;y++){const p=h[y],{filter:{event:S,schema:w,table:k,filter:E}}=p,T=c&&c[y];if(T&&T.event===S&&T.schema===w&&T.table===k&&T.filter===E)v.push(Object.assign(Object.assign({},p),{id:T.id}));else{this.unsubscribe(),this.state=lt.errored,e==null||e(Jt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=v,e&&e(Jt.SUBSCRIBED);return}}).receive("error",c=>{this.state=lt.errored,e==null||e(Jt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(c).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(Jt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,t={}){return await this.send({type:"presence",event:"track",payload:e},t.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,t,n){return this._on(e,t,n)}async send(e,t={}){var n,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:a}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:a,private:this.private}]})};try{const d=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(n=t.timeout)!==null&&n!==void 0?n:this.timeout);return await((s=d.body)===null||s===void 0?void 0:s.cancel()),d.ok?"ok":"error"}catch(d){return d.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var a,o,l;const d=this._push(e.type,e,t.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(o=(a=this.params)===null||a===void 0?void 0:a.config)===null||o===void 0?void 0:o.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),d.receive("ok",()=>i("ok")),d.receive("error",()=>i("error")),d.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=lt.leaving;const t=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(It.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(n=>{const s=new Da(this,It.leave,{},e);s.receive("ok",()=>{t(),n("ok")}).receive("timeout",()=>{t(),n("timed out")}).receive("error",()=>{n("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,t,n){const s=new AbortController,i=setTimeout(()=>s.abort(),n),a=await this.socket.fetch(e,Object.assign(Object.assign({},t),{signal:s.signal}));return clearTimeout(i),a}_push(e,t,n=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new Da(this,e,t,n);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,t,n){return t}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,t,n){var s,i;const a=e.toLocaleLowerCase(),{close:o,error:l,leave:d,join:c}=It;if(n&&[o,l,d,c].indexOf(a)>=0&&n!==this._joinRef())return;let h=this._onMessage(a,t,n);if(t&&!h)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(a)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(g=>{var v,y,p;return((v=g.filter)===null||v===void 0?void 0:v.event)==="*"||((p=(y=g.filter)===null||y===void 0?void 0:y.event)===null||p===void 0?void 0:p.toLocaleLowerCase())===a}).map(g=>g.callback(h,n)):(i=this.bindings[a])===null||i===void 0||i.filter(g=>{var v,y,p,S,w,k;if(["broadcast","presence","postgres_changes"].includes(a))if("id"in g){const E=g.id,T=(v=g.filter)===null||v===void 0?void 0:v.event;return E&&((y=t.ids)===null||y===void 0?void 0:y.includes(E))&&(T==="*"||(T==null?void 0:T.toLocaleLowerCase())===((p=t.data)===null||p===void 0?void 0:p.type.toLocaleLowerCase()))}else{const E=(w=(S=g==null?void 0:g.filter)===null||S===void 0?void 0:S.event)===null||w===void 0?void 0:w.toLocaleLowerCase();return E==="*"||E===((k=t==null?void 0:t.event)===null||k===void 0?void 0:k.toLocaleLowerCase())}else return g.type.toLocaleLowerCase()===a}).map(g=>{if(typeof h=="object"&&"ids"in h){const v=h.data,{schema:y,table:p,commit_timestamp:S,type:w,errors:k}=v;h=Object.assign(Object.assign({},{schema:y,table:p,commit_timestamp:S,eventType:w,new:{},old:{},errors:k}),this._getPayloadRecords(v))}g.callback(h,n)})}_isClosed(){return this.state===lt.closed}_isJoined(){return this.state===lt.joined}_isJoining(){return this.state===lt.joining}_isLeaving(){return this.state===lt.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,t,n){const s=e.toLocaleLowerCase(),i={type:s,filter:t,callback:n};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,t){const n=e.toLocaleLowerCase();return this.bindings[n]=this.bindings[n].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===n&&tl.isEqual(s.filter,t))}),this}static isEqual(e,t){if(Object.keys(e).length!==Object.keys(t).length)return!1;for(const n in e)if(e[n]!==t[n])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(It.close,{},e)}_onError(e){this._on(It.error,{},t=>e(t))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=lt.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const t={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(t.new=pc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(t.old=pc(e.columns,e.old_record)),t}}const wc=()=>{},wy=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class xy{constructor(e,t){var n;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=dy,this.params={},this.timeout=Mu,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=wc,this.ref=0,this.logger=wc,this.conn=null,this.sendBuffer=[],this.serializer=new fy,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let a;return i?a=i:typeof fetch>"u"?a=(...o)=>is(async()=>{const{default:l}=await Promise.resolve().then(()=>as);return{default:l}},void 0).then(({default:l})=>l(...o)):a=fetch,(...o)=>a(...o)},this.endPoint=`${e}/${wo.websocket}`,this.httpEndpoint=Fu(e),t!=null&&t.transport?this.transport=t.transport:this.transport=null,t!=null&&t.params&&(this.params=t.params),t!=null&&t.headers&&(this.headers=Object.assign(Object.assign({},this.headers),t.headers)),t!=null&&t.timeout&&(this.timeout=t.timeout),t!=null&&t.logger&&(this.logger=t.logger),(t!=null&&t.logLevel||t!=null&&t.log_level)&&(this.logLevel=t.logLevel||t.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),t!=null&&t.heartbeatIntervalMs&&(this.heartbeatIntervalMs=t.heartbeatIntervalMs);const s=(n=t==null?void 0:t.params)===null||n===void 0?void 0:n.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=t!=null&&t.reconnectAfterMs?t.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=t!=null&&t.encode?t.encode:(i,a)=>a(JSON.stringify(i)),this.decode=t!=null&&t.decode?t.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new Pu(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(t==null?void 0:t.fetch),t!=null&&t.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(t==null?void 0:t.worker)||!1,this.workerUrl=t==null?void 0:t.workerUrl}this.accessToken=(t==null?void 0:t.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=ly),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new _y(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:uy}))}disconnect(e,t){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,t??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(n=>n.teardown()))}getChannels(){return this.channels}async removeChannel(e){const t=await e.unsubscribe();return this.channels=this.channels.filter(n=>n._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),t}async removeAllChannels(){const e=await Promise.all(this.channels.map(t=>t.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,t,n){this.logger(e,t,n)}connectionState(){switch(this.conn&&this.conn.readyState){case In.connecting:return Zr.Connecting;case In.open:return Zr.Open;case In.closing:return Zr.Closing;default:return Zr.Closed}}isConnected(){return this.connectionState()===Zr.Open}channel(e,t={config:{}}){const n=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===n);if(s)return s;{const i=new tl(`realtime:${e}`,t,this);return this.channels.push(i),i}}push(e){const{topic:t,event:n,payload:s,ref:i}=e,a=()=>{this.encode(e,o=>{var l;(l=this.conn)===null||l===void 0||l.send(o)})};this.log("push",`${t} ${n} (${i})`,s),this.isConnected()?a():this.sendBuffer.push(a)}async setAuth(e=null){let t=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=t&&(this.accessTokenValue=t,this.channels.forEach(n=>{t&&n.updateJoinPayload({access_token:t,version:this.headers&&this.headers["X-Client-Info"]}),n.joinedOnce&&n._isJoined()&&n._push(It.access_token,{access_token:t})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(hy,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let t=this.channels.find(n=>n.topic===e&&(n._isJoined()||n._isJoining()));t&&(this.log("transport",`leaving duplicate topic "${e}"`),t.unsubscribe())}_remove(e){this.channels=this.channels.filter(t=>t.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,t=>{let{topic:n,event:s,payload:i,ref:a}=t;n==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(t.payload.status=="ok"?"ok":"error"),a&&a===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${n} ${s} ${a&&"("+a+")"||""}`,i),Array.from(this.channels).filter(o=>o._isMember(n)).forEach(o=>o._trigger(s,i,a)),this.stateChangeCallbacks.message.forEach(o=>o(t))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=t=>{this.log("worker","worker error",t.message),this.workerRef.terminate()},this.workerRef.onmessage=t=>{t.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(t=>t(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(t=>t(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(It.error))}_appendParams(e,t){if(Object.keys(t).length===0)return e;const n=e.match(/\?/)?"&":"?",s=new URLSearchParams(t);return`${e}${n}${s}`}_workerObjectUrl(e){let t;if(e)t=e;else{const n=new Blob([wy],{type:"application/javascript"});t=URL.createObjectURL(n)}return t}}class _y{constructor(e,t,n){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=In.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=n.close}}class rl extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function tt(r){return typeof r=="object"&&r!==null&&"__isStorageError"in r}class Sy extends rl{constructor(e,t){super(e),this.name="StorageApiError",this.status=t}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class _o extends rl{constructor(e,t){super(e),this.name="StorageUnknownError",this.originalError=t}}var Ey=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function l(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((n=n.apply(r,e||[])).next())})};const Uu=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>is(async()=>{const{default:n}=await Promise.resolve().then(()=>as);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},Cy=()=>Ey(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield is(()=>Promise.resolve().then(()=>as),void 0)).Response:Response}),So=r=>{if(Array.isArray(r))return r.map(t=>So(t));if(typeof r=="function"||r!==Object(r))return r;const e={};return Object.entries(r).forEach(([t,n])=>{const s=t.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=So(n)}),e};var vn=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function l(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((n=n.apply(r,e||[])).next())})};const ja=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),ky=(r,e,t)=>vn(void 0,void 0,void 0,function*(){const n=yield Cy();r instanceof n&&!(t!=null&&t.noResolveJson)?r.json().then(s=>{e(new Sy(ja(s),r.status||500))}).catch(s=>{e(new _o(ja(s),s))}):e(new _o(ja(r),r))}),Ay=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),n&&(s.body=JSON.stringify(n)),Object.assign(Object.assign({},s),t))};function zs(r,e,t,n,s,i){return vn(this,void 0,void 0,function*(){return new Promise((a,o)=>{r(t,Ay(e,n,s,i)).then(l=>{if(!l.ok)throw l;return n!=null&&n.noResolveJson?l:l.json()}).then(l=>a(l)).catch(l=>ky(l,o,n))})})}function Pi(r,e,t,n){return vn(this,void 0,void 0,function*(){return zs(r,"GET",e,t,n)})}function br(r,e,t,n,s){return vn(this,void 0,void 0,function*(){return zs(r,"POST",e,n,s,t)})}function Dy(r,e,t,n,s){return vn(this,void 0,void 0,function*(){return zs(r,"PUT",e,n,s,t)})}function jy(r,e,t,n){return vn(this,void 0,void 0,function*(){return zs(r,"HEAD",e,Object.assign(Object.assign({},t),{noResolveJson:!0}),n)})}function Hu(r,e,t,n,s){return vn(this,void 0,void 0,function*(){return zs(r,"DELETE",e,n,s,t)})}var pt=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function l(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((n=n.apply(r,e||[])).next())})};const Ry={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},xc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class Ty{constructor(e,t={},n,s){this.url=e,this.headers=t,this.bucketId=n,this.fetch=Uu(s)}uploadOrUpdate(e,t,n,s){return pt(this,void 0,void 0,function*(){try{let i;const a=Object.assign(Object.assign({},xc),s);let o=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(a.upsert)});const l=a.metadata;typeof Blob<"u"&&n instanceof Blob?(i=new FormData,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",n)):typeof FormData<"u"&&n instanceof FormData?(i=n,i.append("cacheControl",a.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=n,o["cache-control"]=`max-age=${a.cacheControl}`,o["content-type"]=a.contentType,l&&(o["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(o=Object.assign(Object.assign({},o),s.headers));const d=this._removeEmptyFolders(t),c=this._getFinalPath(d),f=yield this.fetch(`${this.url}/object/${c}`,Object.assign({method:e,body:i,headers:o},a!=null&&a.duplex?{duplex:a.duplex}:{})),h=yield f.json();return f.ok?{data:{path:d,id:h.Id,fullPath:h.Key},error:null}:{data:null,error:h}}catch(i){if(tt(i))return{data:null,error:i};throw i}})}upload(e,t,n){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,t,n)})}uploadToSignedUrl(e,t,n,s){return pt(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),a=this._getFinalPath(i),o=new URL(this.url+`/object/upload/sign/${a}`);o.searchParams.set("token",t);try{let l;const d=Object.assign({upsert:xc.upsert},s),c=Object.assign(Object.assign({},this.headers),{"x-upsert":String(d.upsert)});typeof Blob<"u"&&n instanceof Blob?(l=new FormData,l.append("cacheControl",d.cacheControl),l.append("",n)):typeof FormData<"u"&&n instanceof FormData?(l=n,l.append("cacheControl",d.cacheControl)):(l=n,c["cache-control"]=`max-age=${d.cacheControl}`,c["content-type"]=d.contentType);const f=yield this.fetch(o.toString(),{method:"PUT",body:l,headers:c}),h=yield f.json();return f.ok?{data:{path:i,fullPath:h.Key},error:null}:{data:null,error:h}}catch(l){if(tt(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,t){return pt(this,void 0,void 0,function*(){try{let n=this._getFinalPath(e);const s=Object.assign({},this.headers);t!=null&&t.upsert&&(s["x-upsert"]="true");const i=yield br(this.fetch,`${this.url}/object/upload/sign/${n}`,{},{headers:s}),a=new URL(this.url+i.url),o=a.searchParams.get("token");if(!o)throw new rl("No token returned by API");return{data:{signedUrl:a.toString(),path:e,token:o},error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}})}update(e,t,n){return pt(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,t,n)})}move(e,t,n){return pt(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(tt(s))return{data:null,error:s};throw s}})}copy(e,t,n){return pt(this,void 0,void 0,function*(){try{return{data:{path:(yield br(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:t,destinationBucket:n==null?void 0:n.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(tt(s))return{data:null,error:s};throw s}})}createSignedUrl(e,t,n){return pt(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield br(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:t},n!=null&&n.transform?{transform:n.transform}:{}),{headers:this.headers});const a=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${a}`)},{data:i,error:null}}catch(s){if(tt(s))return{data:null,error:s};throw s}})}createSignedUrls(e,t,n){return pt(this,void 0,void 0,function*(){try{const s=yield br(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:t,paths:e},{headers:this.headers}),i=n!=null&&n.download?`&download=${n.download===!0?"":n.download}`:"";return{data:s.map(a=>Object.assign(Object.assign({},a),{signedUrl:a.signedURL?encodeURI(`${this.url}${a.signedURL}${i}`):null})),error:null}}catch(s){if(tt(s))return{data:null,error:s};throw s}})}download(e,t){return pt(this,void 0,void 0,function*(){const s=typeof(t==null?void 0:t.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((t==null?void 0:t.transform)||{}),a=i?`?${i}`:"";try{const o=this._getFinalPath(e);return{data:yield(yield Pi(this.fetch,`${this.url}/${s}/${o}${a}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(o){if(tt(o))return{data:null,error:o};throw o}})}info(e){return pt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{const n=yield Pi(this.fetch,`${this.url}/object/info/${t}`,{headers:this.headers});return{data:So(n),error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}})}exists(e){return pt(this,void 0,void 0,function*(){const t=this._getFinalPath(e);try{return yield jy(this.fetch,`${this.url}/object/${t}`,{headers:this.headers}),{data:!0,error:null}}catch(n){if(tt(n)&&n instanceof _o){const s=n.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:n}}throw n}})}getPublicUrl(e,t){const n=this._getFinalPath(e),s=[],i=t!=null&&t.download?`download=${t.download===!0?"":t.download}`:"";i!==""&&s.push(i);const o=typeof(t==null?void 0:t.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((t==null?void 0:t.transform)||{});l!==""&&s.push(l);let d=s.join("&");return d!==""&&(d=`?${d}`),{data:{publicUrl:encodeURI(`${this.url}/${o}/public/${n}${d}`)}}}remove(e){return pt(this,void 0,void 0,function*(){try{return{data:yield Hu(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(t){if(tt(t))return{data:null,error:t};throw t}})}list(e,t,n){return pt(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},Ry),t),{prefix:e||""});return{data:yield br(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},n),error:null}}catch(s){if(tt(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const t=[];return e.width&&t.push(`width=${e.width}`),e.height&&t.push(`height=${e.height}`),e.resize&&t.push(`resize=${e.resize}`),e.format&&t.push(`format=${e.format}`),e.quality&&t.push(`quality=${e.quality}`),t.join("&")}}const Ny="2.7.1",Oy={"X-Client-Info":`storage-js/${Ny}`};var An=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function l(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((n=n.apply(r,e||[])).next())})};class Iy{constructor(e,t={},n){this.url=e,this.headers=Object.assign(Object.assign({},Oy),t),this.fetch=Uu(n)}listBuckets(){return An(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(tt(e))return{data:null,error:e};throw e}})}getBucket(e){return An(this,void 0,void 0,function*(){try{return{data:yield Pi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(t){if(tt(t))return{data:null,error:t};throw t}})}createBucket(e,t={public:!1}){return An(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}})}updateBucket(e,t){return An(this,void 0,void 0,function*(){try{return{data:yield Dy(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:t.public,file_size_limit:t.fileSizeLimit,allowed_mime_types:t.allowedMimeTypes},{headers:this.headers}),error:null}}catch(n){if(tt(n))return{data:null,error:n};throw n}})}emptyBucket(e){return An(this,void 0,void 0,function*(){try{return{data:yield br(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(t){if(tt(t))return{data:null,error:t};throw t}})}deleteBucket(e){return An(this,void 0,void 0,function*(){try{return{data:yield Hu(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(t){if(tt(t))return{data:null,error:t};throw t}})}}class My extends Iy{constructor(e,t={},n){super(e,t,n)}from(e){return new Ty(this.url,this.headers,e,this.fetch)}}const Py="2.49.9";let ws="";typeof Deno<"u"?ws="deno":typeof document<"u"?ws="web":typeof navigator<"u"&&navigator.product==="ReactNative"?ws="react-native":ws="node";const Ly={"X-Client-Info":`supabase-js-${ws}/${Py}`},Fy={headers:Ly},Uy={schema:"public"},Hy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},By={};var $y=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function l(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((n=n.apply(r,e||[])).next())})};const zy=r=>{let e;return r?e=r:typeof fetch>"u"?e=Eu:e=fetch,(...t)=>e(...t)},qy=()=>typeof Headers>"u"?Cu:Headers,Wy=(r,e,t)=>{const n=zy(t),s=qy();return(i,a)=>$y(void 0,void 0,void 0,function*(){var o;const l=(o=yield e())!==null&&o!==void 0?o:r;let d=new s(a==null?void 0:a.headers);return d.has("apikey")||d.set("apikey",r),d.has("Authorization")||d.set("Authorization",`Bearer ${l}`),n(i,Object.assign(Object.assign({},a),{headers:d}))})};var Vy=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function l(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((n=n.apply(r,e||[])).next())})};function Gy(r){return r.endsWith("/")?r:r+"/"}function Qy(r,e){var t,n;const{db:s,auth:i,realtime:a,global:o}=r,{db:l,auth:d,realtime:c,global:f}=e,h={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},d),i),realtime:Object.assign(Object.assign({},c),a),global:Object.assign(Object.assign(Object.assign({},f),o),{headers:Object.assign(Object.assign({},(t=f==null?void 0:f.headers)!==null&&t!==void 0?t:{}),(n=o==null?void 0:o.headers)!==null&&n!==void 0?n:{})}),accessToken:()=>Vy(this,void 0,void 0,function*(){return""})};return r.accessToken?h.accessToken=r.accessToken:delete h.accessToken,h}const Bu="2.69.1",Tn=30*1e3,Eo=3,Ra=Eo*Tn,Yy="http://localhost:9999",Ky="supabase.auth.token",Jy={"X-Client-Info":`gotrue-js/${Bu}`},Co="X-Supabase-Api-Version",$u={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},Zy=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Xy=6e5;class nl extends Error{constructor(e,t,n){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=t,this.code=n}}function xe(r){return typeof r=="object"&&r!==null&&"__isAuthError"in r}class ev extends nl{constructor(e,t,n){super(e,t,n),this.name="AuthApiError",this.status=t,this.code=n}}function tv(r){return xe(r)&&r.name==="AuthApiError"}class zu extends nl{constructor(e,t){super(e),this.name="AuthUnknownError",this.originalError=t}}class $r extends nl{constructor(e,t,n,s){super(e,n,s),this.name=t,this.status=n}}class yr extends $r{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function rv(r){return xe(r)&&r.name==="AuthSessionMissingError"}class Ta extends $r{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class ui extends $r{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class hi extends $r{constructor(e,t=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function nv(r){return xe(r)&&r.name==="AuthImplicitGrantRedirectError"}class _c extends $r{constructor(e,t=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=t}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class ko extends $r{constructor(e,t){super(e,"AuthRetryableFetchError",t,void 0)}}function Na(r){return xe(r)&&r.name==="AuthRetryableFetchError"}class Sc extends $r{constructor(e,t,n){super(e,"AuthWeakPasswordError",t,"weak_password"),this.reasons=n}}class Ss extends $r{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const Ec="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),Cc=` 	
\r=`.split(""),sv=(()=>{const r=new Array(128);for(let e=0;e<r.length;e+=1)r[e]=-1;for(let e=0;e<Cc.length;e+=1)r[Cc[e].charCodeAt(0)]=-2;for(let e=0;e<Ec.length;e+=1)r[Ec[e].charCodeAt(0)]=e;return r})();function qu(r,e,t){const n=sv[r];if(n>-1)for(e.queue=e.queue<<6|n,e.queuedBits+=6;e.queuedBits>=8;)t(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(n===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(r)}"`)}}function kc(r){const e=[],t=a=>{e.push(String.fromCodePoint(a))},n={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=a=>{ov(a,n,t)};for(let a=0;a<r.length;a+=1)qu(r.charCodeAt(a),s,i);return e.join("")}function iv(r,e){if(r<=127){e(r);return}else if(r<=2047){e(192|r>>6),e(128|r&63);return}else if(r<=65535){e(224|r>>12),e(128|r>>6&63),e(128|r&63);return}else if(r<=1114111){e(240|r>>18),e(128|r>>12&63),e(128|r>>6&63),e(128|r&63);return}throw new Error(`Unrecognized Unicode codepoint: ${r.toString(16)}`)}function av(r,e){for(let t=0;t<r.length;t+=1){let n=r.charCodeAt(t);if(n>55295&&n<=56319){const s=(n-55296)*1024&65535;n=(r.charCodeAt(t+1)-56320&65535|s)+65536,t+=1}iv(n,e)}}function ov(r,e,t){if(e.utf8seq===0){if(r<=127){t(r);return}for(let n=1;n<6;n+=1)if(!(r>>7-n&1)){e.utf8seq=n;break}if(e.utf8seq===2)e.codepoint=r&31;else if(e.utf8seq===3)e.codepoint=r&15;else if(e.utf8seq===4)e.codepoint=r&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(r<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|r&63,e.utf8seq-=1,e.utf8seq===0&&t(e.codepoint)}}function lv(r){const e=[],t={queue:0,queuedBits:0},n=s=>{e.push(s)};for(let s=0;s<r.length;s+=1)qu(r.charCodeAt(s),t,n);return new Uint8Array(e)}function cv(r){const e=[];return av(r,t=>e.push(t)),new Uint8Array(e)}function dv(r){return Math.round(Date.now()/1e3)+r}function uv(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(r){const e=Math.random()*16|0;return(r=="x"?e:e&3|8).toString(16)})}const Ht=()=>typeof window<"u"&&typeof document<"u",Gr={tested:!1,writable:!1},Es=()=>{if(!Ht())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(Gr.tested)return Gr.writable;const r=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(r,r),globalThis.localStorage.removeItem(r),Gr.tested=!0,Gr.writable=!0}catch{Gr.tested=!0,Gr.writable=!1}return Gr.writable};function hv(r){const e={},t=new URL(r);if(t.hash&&t.hash[0]==="#")try{new URLSearchParams(t.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return t.searchParams.forEach((n,s)=>{e[s]=n}),e}const Wu=r=>{let e;return r?e=r:typeof fetch>"u"?e=(...t)=>is(async()=>{const{default:n}=await Promise.resolve().then(()=>as);return{default:n}},void 0).then(({default:n})=>n(...t)):e=fetch,(...t)=>e(...t)},fv=r=>typeof r=="object"&&r!==null&&"status"in r&&"ok"in r&&"json"in r&&typeof r.json=="function",Vu=async(r,e,t)=>{await r.setItem(e,JSON.stringify(t))},fi=async(r,e)=>{const t=await r.getItem(e);if(!t)return null;try{return JSON.parse(t)}catch{return t}},gi=async(r,e)=>{await r.removeItem(e)};class ca{constructor(){this.promise=new ca.promiseConstructor((e,t)=>{this.resolve=e,this.reject=t})}}ca.promiseConstructor=Promise;function Oa(r){const e=r.split(".");if(e.length!==3)throw new Ss("Invalid JWT structure");for(let n=0;n<e.length;n++)if(!Zy.test(e[n]))throw new Ss("JWT not in base64url format");return{header:JSON.parse(kc(e[0])),payload:JSON.parse(kc(e[1])),signature:lv(e[2]),raw:{header:e[0],payload:e[1]}}}async function gv(r){return await new Promise(e=>{setTimeout(()=>e(null),r)})}function mv(r,e){return new Promise((n,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const a=await r(i);if(!e(i,null,a)){n(a);return}}catch(a){if(!e(i,a)){s(a);return}}})()})}function pv(r){return("0"+r.toString(16)).substr(-2)}function yv(){const e=new Uint32Array(56);if(typeof crypto>"u"){const t="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",n=t.length;let s="";for(let i=0;i<56;i++)s+=t.charAt(Math.floor(Math.random()*n));return s}return crypto.getRandomValues(e),Array.from(e,pv).join("")}async function vv(r){const t=new TextEncoder().encode(r),n=await crypto.subtle.digest("SHA-256",t),s=new Uint8Array(n);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function bv(r){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),r;const t=await vv(r);return btoa(t).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function Dn(r,e,t=!1){const n=yv();let s=n;t&&(s+="/PASSWORD_RECOVERY"),await Vu(r,`${e}-code-verifier`,s);const i=await bv(n);return[i,n===i?"plain":"s256"]}const wv=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function xv(r){const e=r.headers.get(Co);if(!e||!e.match(wv))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function _v(r){if(!r)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(r<=e)throw new Error("JWT has expired")}function Sv(r){switch(r){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}var Ev=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};const Qr=r=>r.msg||r.message||r.error_description||r.error||JSON.stringify(r),Cv=[502,503,504];async function Ac(r){var e;if(!fv(r))throw new ko(Qr(r),0);if(Cv.includes(r.status))throw new ko(Qr(r),r.status);let t;try{t=await r.json()}catch(i){throw new zu(Qr(i),i)}let n;const s=xv(r);if(s&&s.getTime()>=$u["2024-01-01"].timestamp&&typeof t=="object"&&t&&typeof t.code=="string"?n=t.code:typeof t=="object"&&t&&typeof t.error_code=="string"&&(n=t.error_code),n){if(n==="weak_password")throw new Sc(Qr(t),r.status,((e=t.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(n==="session_not_found")throw new yr}else if(typeof t=="object"&&t&&typeof t.weak_password=="object"&&t.weak_password&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.reasons.reduce((i,a)=>i&&typeof a=="string",!0))throw new Sc(Qr(t),r.status,t.weak_password.reasons);throw new ev(Qr(t),r.status||500,n)}const kv=(r,e,t,n)=>{const s={method:r,headers:(e==null?void 0:e.headers)||{}};return r==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(n),Object.assign(Object.assign({},s),t))};async function Ae(r,e,t,n){var s;const i=Object.assign({},n==null?void 0:n.headers);i[Co]||(i[Co]=$u["2024-01-01"].name),n!=null&&n.jwt&&(i.Authorization=`Bearer ${n.jwt}`);const a=(s=n==null?void 0:n.query)!==null&&s!==void 0?s:{};n!=null&&n.redirectTo&&(a.redirect_to=n.redirectTo);const o=Object.keys(a).length?"?"+new URLSearchParams(a).toString():"",l=await Av(r,e,t+o,{headers:i,noResolveJson:n==null?void 0:n.noResolveJson},{},n==null?void 0:n.body);return n!=null&&n.xform?n==null?void 0:n.xform(l):{data:Object.assign({},l),error:null}}async function Av(r,e,t,n,s,i){const a=kv(e,n,s,i);let o;try{o=await r(t,Object.assign({},a))}catch(l){throw console.error(l),new ko(Qr(l),0)}if(o.ok||await Ac(o),n!=null&&n.noResolveJson)return o;try{return await o.json()}catch(l){await Ac(l)}}function vr(r){var e;let t=null;Tv(r)&&(t=Object.assign({},r),r.expires_at||(t.expires_at=dv(r.expires_in)));const n=(e=r.user)!==null&&e!==void 0?e:r;return{data:{session:t,user:n},error:null}}function Dc(r){const e=vr(r);return!e.error&&r.weak_password&&typeof r.weak_password=="object"&&Array.isArray(r.weak_password.reasons)&&r.weak_password.reasons.length&&r.weak_password.message&&typeof r.weak_password.message=="string"&&r.weak_password.reasons.reduce((t,n)=>t&&typeof n=="string",!0)&&(e.data.weak_password=r.weak_password),e}function xr(r){var e;return{data:{user:(e=r.user)!==null&&e!==void 0?e:r},error:null}}function Dv(r){return{data:r,error:null}}function jv(r){const{action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i}=r,a=Ev(r,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),o={action_link:e,email_otp:t,hashed_token:n,redirect_to:s,verification_type:i},l=Object.assign({},a);return{data:{properties:o,user:l},error:null}}function Rv(r){return r}function Tv(r){return r.access_token&&r.refresh_token&&r.expires_in}var Nv=function(r,e){var t={};for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&e.indexOf(n)<0&&(t[n]=r[n]);if(r!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,n=Object.getOwnPropertySymbols(r);s<n.length;s++)e.indexOf(n[s])<0&&Object.prototype.propertyIsEnumerable.call(r,n[s])&&(t[n[s]]=r[n[s]]);return t};class Ov{constructor({url:e="",headers:t={},fetch:n}){this.url=e,this.headers=t,this.fetch=Wu(n),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,t="global"){try{return await Ae(this.fetch,"POST",`${this.url}/logout?scope=${t}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}async inviteUserByEmail(e,t={}){try{return await Ae(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:t.data},headers:this.headers,redirectTo:t.redirectTo,xform:xr})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async generateLink(e){try{const{options:t}=e,n=Nv(e,["options"]),s=Object.assign(Object.assign({},n),t);return"newEmail"in n&&(s.new_email=n==null?void 0:n.newEmail,delete s.newEmail),await Ae(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:jv,redirectTo:t==null?void 0:t.redirectTo})}catch(t){if(xe(t))return{data:{properties:null,user:null},error:t};throw t}}async createUser(e){try{return await Ae(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:xr})}catch(t){if(xe(t))return{data:{user:null},error:t};throw t}}async listUsers(e){var t,n,s,i,a,o,l;try{const d={nextPage:null,lastPage:0,total:0},c=await Ae(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(n=(t=e==null?void 0:e.page)===null||t===void 0?void 0:t.toString())!==null&&n!==void 0?n:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:Rv});if(c.error)throw c.error;const f=await c.json(),h=(a=c.headers.get("x-total-count"))!==null&&a!==void 0?a:0,g=(l=(o=c.headers.get("link"))===null||o===void 0?void 0:o.split(","))!==null&&l!==void 0?l:[];return g.length>0&&(g.forEach(v=>{const y=parseInt(v.split(";")[0].split("=")[1].substring(0,1)),p=JSON.parse(v.split(";")[1].split("=")[1]);d[`${p}Page`]=y}),d.total=parseInt(h)),{data:Object.assign(Object.assign({},f),d),error:null}}catch(d){if(xe(d))return{data:{users:[]},error:d};throw d}}async getUserById(e){try{return await Ae(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:xr})}catch(t){if(xe(t))return{data:{user:null},error:t};throw t}}async updateUserById(e,t){try{return await Ae(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:t,headers:this.headers,xform:xr})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async deleteUser(e,t=!1){try{return await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:t},xform:xr})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async _listFactors(e){try{const{data:t,error:n}=await Ae(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:t,error:n}}catch(t){if(xe(t))return{data:null,error:t};throw t}}async _deleteFactor(e){try{return{data:await Ae(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(t){if(xe(t))return{data:null,error:t};throw t}}}const Iv={getItem:r=>Es()?globalThis.localStorage.getItem(r):null,setItem:(r,e)=>{Es()&&globalThis.localStorage.setItem(r,e)},removeItem:r=>{Es()&&globalThis.localStorage.removeItem(r)}};function jc(r={}){return{getItem:e=>r[e]||null,setItem:(e,t)=>{r[e]=t},removeItem:e=>{delete r[e]}}}function Mv(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const jn={debug:!!(globalThis&&Es()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class Gu extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class Pv extends Gu{}async function Lv(r,e,t){jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",r,e);const n=new globalThis.AbortController;return e>0&&setTimeout(()=>{n.abort(),jn.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",r)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(r,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:n.signal},async s=>{if(s){jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",r,s.name);try{return await t()}finally{jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",r,s.name)}}else{if(e===0)throw jn.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",r),new Pv(`Acquiring an exclusive Navigator LockManager lock "${r}" immediately failed`);if(jn.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await t()}}))}Mv();const Fv={url:Yy,storageKey:Ky,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Jy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function Rc(r,e,t){return await t()}class Ts{constructor(e){var t,n;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=Ts.nextInstanceID,Ts.nextInstanceID+=1,this.instanceID>0&&Ht()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},Fv),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new Ov({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=Wu(s.fetch),this.lock=s.lock||Rc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ht()&&(!((t=globalThis==null?void 0:globalThis.navigator)===null||t===void 0)&&t.locks)?this.lock=Lv:this.lock=Rc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Es()?this.storage=Iv:(this.memoryStorage={},this.storage=jc(this.memoryStorage)):(this.memoryStorage={},this.storage=jc(this.memoryStorage)),Ht()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(n=this.broadcastChannel)===null||n===void 0||n.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${Bu}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const t=hv(window.location.href);let n="none";if(this._isImplicitGrantCallback(t)?n="implicit":await this._isPKCECallback(t)&&(n="pkce"),Ht()&&this.detectSessionInUrl&&n!=="none"){const{data:s,error:i}=await this._getSessionFromURL(t,n);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),nv(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:a,redirectType:o}=s;return this._debug("#_initialize()","detected session in URL",a,"redirect type",o),await this._saveSession(a),setTimeout(async()=>{o==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",a):await this._notifyAllSubscribers("SIGNED_IN",a)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(t){return xe(t)?{error:t}:{error:new zu("Unexpected error during initialization",t)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var t,n,s;try{const i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(n=(t=e==null?void 0:e.options)===null||t===void 0?void 0:t.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:vr}),{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var t,n,s;try{let i;if("email"in e){const{email:c,password:f,options:h}=e;let g=null,v=null;this.flowType==="pkce"&&([g,v]=await Dn(this.storage,this.storageKey)),i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:h==null?void 0:h.emailRedirectTo,body:{email:c,password:f,data:(t=h==null?void 0:h.data)!==null&&t!==void 0?t:{},gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken},code_challenge:g,code_challenge_method:v},xform:vr})}else if("phone"in e){const{phone:c,password:f,options:h}=e;i=await Ae(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:c,password:f,data:(n=h==null?void 0:h.data)!==null&&n!==void 0?n:{},channel:(s=h==null?void 0:h.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:h==null?void 0:h.captchaToken}},xform:vr})}else throw new ui("You must provide either an email or phone number and a password");const{data:a,error:o}=i;if(o||!a)return{data:{user:null,session:null},error:o};const l=a.session,d=a.user;return a.session&&(await this._saveSession(a.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(i){if(xe(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let t;if("email"in e){const{email:i,password:a,options:o}=e;t=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Dc})}else if("phone"in e){const{phone:i,password:a,options:o}=e;t=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:a,gotrue_meta_security:{captcha_token:o==null?void 0:o.captchaToken}},xform:Dc})}else throw new ui("You must provide either an email or phone number and a password");const{data:n,error:s}=t;return s?{data:{user:null,session:null},error:s}:!n||!n.session||!n.user?{data:{user:null,session:null},error:new Ta}:(n.session&&(await this._saveSession(n.session),await this._notifyAllSubscribers("SIGNED_IN",n.session)),{data:Object.assign({user:n.user,session:n.session},n.weak_password?{weakPassword:n.weak_password}:null),error:s})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOAuth(e){var t,n,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(t=e.options)===null||t===void 0?void 0:t.redirectTo,scopes:(n=e.options)===null||n===void 0?void 0:n.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async _exchangeCodeForSession(e){const t=await fi(this.storage,`${this.storageKey}-code-verifier`),[n,s]=(t??"").split("/");try{const{data:i,error:a}=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:n},xform:vr});if(await gi(this.storage,`${this.storageKey}-code-verifier`),a)throw a;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Ta}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:a})}catch(i){if(xe(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:t,provider:n,token:s,access_token:i,nonce:a}=e,o=await Ae(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:n,id_token:s,access_token:i,nonce:a,gotrue_meta_security:{captcha_token:t==null?void 0:t.captchaToken}},xform:vr}),{data:l,error:d}=o;return d?{data:{user:null,session:null},error:d}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Ta}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:d})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async signInWithOtp(e){var t,n,s,i,a;try{if("email"in e){const{email:o,options:l}=e;let d=null,c=null;this.flowType==="pkce"&&([d,c]=await Dn(this.storage,this.storageKey));const{error:f}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:o,data:(t=l==null?void 0:l.data)!==null&&t!==void 0?t:{},create_user:(n=l==null?void 0:l.shouldCreateUser)!==null&&n!==void 0?n:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:d,code_challenge_method:c},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:f}}if("phone"in e){const{phone:o,options:l}=e,{data:d,error:c}=await Ae(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:o,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(a=l==null?void 0:l.channel)!==null&&a!==void 0?a:"sms"}});return{data:{user:null,session:null,messageId:d==null?void 0:d.message_id},error:c}}throw new ui("You must provide either an email or phone number.")}catch(o){if(xe(o))return{data:{user:null,session:null},error:o};throw o}}async verifyOtp(e){var t,n;try{let s,i;"options"in e&&(s=(t=e.options)===null||t===void 0?void 0:t.redirectTo,i=(n=e.options)===null||n===void 0?void 0:n.captchaToken);const{data:a,error:o}=await Ae(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:vr});if(o)throw o;if(!a)throw new Error("An error occurred on token verification.");const l=a.session,d=a.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:d,session:l},error:null}}catch(s){if(xe(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var t,n,s;try{let i=null,a=null;return this.flowType==="pkce"&&([i,a]=await Dn(this.storage,this.storageKey)),await Ae(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(n=(t=e.options)===null||t===void 0?void 0:t.redirectTo)!==null&&n!==void 0?n:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:a}),headers:this.headers,xform:Dv})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:t},error:n}=e;if(n)throw n;if(!t)throw new yr;const{error:s}=await Ae(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:t.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(xe(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const t=`${this.url}/resend`;if("email"in e){const{email:n,type:s,options:i}=e,{error:a}=await Ae(this.fetch,"POST",t,{headers:this.headers,body:{email:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:a}}else if("phone"in e){const{phone:n,type:s,options:i}=e,{data:a,error:o}=await Ae(this.fetch,"POST",t,{headers:this.headers,body:{phone:n,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:a==null?void 0:a.message_id},error:o}}throw new ui("You must provide either an email or phone number and a type")}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async t=>t))}async _acquireLock(e,t){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const n=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await n,await t()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const n=t();for(this.pendingInLock.push((async()=>{try{await n}catch{}})()),await n;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await n}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const t=await this.__loadSession();return await e(t)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const t=await fi(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",t),t!==null&&(this._isValidSession(t)?e=t:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const n=e.expires_at?e.expires_at*1e3-Date.now()<Ra:!1;if(this._debug("#__loadSession()",`session has${n?"":" not"} expired`,"expires_at",e.expires_at),!n){if(this.storage.isServer){let a=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,d,c)=>(!a&&d==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),a=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,d,c))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:xr}):await this._useSession(async t=>{var n,s,i;const{data:a,error:o}=t;if(o)throw o;return!(!((n=a.session)===null||n===void 0)&&n.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new yr}:await Ae(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=a.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:xr})})}catch(t){if(xe(t))return rv(t)&&(await this._removeSession(),await gi(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:t};throw t}}async updateUser(e,t={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,t))}async _updateUser(e,t={}){try{return await this._useSession(async n=>{const{data:s,error:i}=n;if(i)throw i;if(!s.session)throw new yr;const a=s.session;let o=null,l=null;this.flowType==="pkce"&&e.email!=null&&([o,l]=await Dn(this.storage,this.storageKey));const{data:d,error:c}=await Ae(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:t==null?void 0:t.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:o,code_challenge_method:l}),jwt:a.access_token,xform:xr});if(c)throw c;return a.user=d.user,await this._saveSession(a),await this._notifyAllSubscribers("USER_UPDATED",a),{data:{user:a.user},error:null}})}catch(n){if(xe(n))return{data:{user:null},error:n};throw n}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new yr;const t=Date.now()/1e3;let n=t,s=!0,i=null;const{payload:a}=Oa(e.access_token);if(a.exp&&(n=a.exp,s=n<=t),s){const{session:o,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!o)return{data:{user:null,session:null},error:null};i=o}else{const{data:o,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:o.user,token_type:"bearer",expires_in:n-t,expires_at:n},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(t){if(xe(t))return{data:{session:null,user:null},error:t};throw t}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async t=>{var n;if(!e){const{data:a,error:o}=t;if(o)throw o;e=(n=a.session)!==null&&n!==void 0?n:void 0}if(!(e!=null&&e.refresh_token))throw new yr;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(t){if(xe(t))return{data:{user:null,session:null},error:t};throw t}}async _getSessionFromURL(e,t){try{if(!Ht())throw new hi("No browser detected.");if(e.error||e.error_description||e.error_code)throw new hi(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(t){case"implicit":if(this.flowType==="pkce")throw new _c("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new hi("Not a valid implicit grant flow url.");break;default:}if(t==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new _c("No code detected.");const{data:w,error:k}=await this._exchangeCodeForSession(e.code);if(k)throw k;const E=new URL(window.location.href);return E.searchParams.delete("code"),window.history.replaceState(window.history.state,"",E.toString()),{data:{session:w.session,redirectType:null},error:null}}const{provider_token:n,provider_refresh_token:s,access_token:i,refresh_token:a,expires_in:o,expires_at:l,token_type:d}=e;if(!i||!o||!a||!d)throw new hi("No session defined in URL");const c=Math.round(Date.now()/1e3),f=parseInt(o);let h=c+f;l&&(h=parseInt(l));const g=h-c;g*1e3<=Tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${g}s, should have been closer to ${f}s`);const v=h-f;c-v>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",v,h,c):c-v<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",v,h,c);const{data:y,error:p}=await this._getUser(i);if(p)throw p;const S={provider_token:n,provider_refresh_token:s,access_token:i,expires_in:f,expires_at:h,refresh_token:a,token_type:d,user:y.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:S,redirectType:e.type},error:null}}catch(n){if(xe(n))return{data:{session:null,redirectType:null},error:n};throw n}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const t=await fi(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&t)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{error:i};const a=(n=s.session)===null||n===void 0?void 0:n.access_token;if(a){const{error:o}=await this.admin.signOut(a,e);if(o&&!(tv(o)&&(o.status===404||o.status===401||o.status===403)))return{error:o}}return e!=="others"&&(await this._removeSession(),await gi(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const t=uv(),n={id:t,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",t),this.stateChangeEmitters.delete(t)}};return this._debug("#onAuthStateChange()","registered callback with id",t),this.stateChangeEmitters.set(t,n),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(t)})))(),{data:{subscription:n}}}async _emitInitialSession(e){return await this._useSession(async t=>{var n,s;try{const{data:{session:i},error:a}=t;if(a)throw a;await((n=this.stateChangeEmitters.get(e))===null||n===void 0?void 0:n.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,t={}){let n=null,s=null;this.flowType==="pkce"&&([n,s]=await Dn(this.storage,this.storageKey,!0));try{return await Ae(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:n,code_challenge_method:s,gotrue_meta_security:{captcha_token:t.captchaToken}},headers:this.headers,redirectTo:t.redirectTo})}catch(i){if(xe(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:t,error:n}=await this.getUser();if(n)throw n;return{data:{identities:(e=t.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(t){if(xe(t))return{data:null,error:t};throw t}}async linkIdentity(e){var t;try{const{data:n,error:s}=await this._useSession(async i=>{var a,o,l,d,c;const{data:f,error:h}=i;if(h)throw h;const g=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(a=e.options)===null||a===void 0?void 0:a.redirectTo,scopes:(o=e.options)===null||o===void 0?void 0:o.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await Ae(this.fetch,"GET",g,{headers:this.headers,jwt:(c=(d=f.session)===null||d===void 0?void 0:d.access_token)!==null&&c!==void 0?c:void 0})});if(s)throw s;return Ht()&&!(!((t=e.options)===null||t===void 0)&&t.skipBrowserRedirect)&&window.location.assign(n==null?void 0:n.url),{data:{provider:e.provider,url:n==null?void 0:n.url},error:null}}catch(n){if(xe(n))return{data:{provider:e.provider,url:null},error:n};throw n}}async unlinkIdentity(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)throw a;return await Ae(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(n=i.session)===null||n===void 0?void 0:n.access_token)!==null&&s!==void 0?s:void 0})})}catch(t){if(xe(t))return{data:null,error:t};throw t}}async _refreshAccessToken(e){const t=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(t,"begin");try{const n=Date.now();return await mv(async s=>(s>0&&await gv(200*Math.pow(2,s-1)),this._debug(t,"refreshing attempt",s),await Ae(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:vr})),(s,i)=>{const a=200*Math.pow(2,s);return i&&Na(i)&&Date.now()+a-n<Tn})}catch(n){if(this._debug(t,"error",n),xe(n))return{data:{session:null,user:null},error:n};throw n}finally{this._debug(t,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,t){const n=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:t.redirectTo,scopes:t.scopes,queryParams:t.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",t,"url",n),Ht()&&!t.skipBrowserRedirect&&window.location.assign(n),{data:{provider:e,url:n},error:null}}async _recoverAndRefresh(){var e;const t="#_recoverAndRefresh()";this._debug(t,"begin");try{const n=await fi(this.storage,this.storageKey);if(this._debug(t,"session from storage",n),!this._isValidSession(n)){this._debug(t,"session is not valid"),n!==null&&await this._removeSession();return}const s=((e=n.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<Ra;if(this._debug(t,`session has${s?"":" not"} expired with margin of ${Ra}s`),s){if(this.autoRefreshToken&&n.refresh_token){const{error:i}=await this._callRefreshToken(n.refresh_token);i&&(console.error(i),Na(i)||(this._debug(t,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",n)}catch(n){this._debug(t,"error",n),console.error(n);return}finally{this._debug(t,"end")}}async _callRefreshToken(e){var t,n;if(!e)throw new yr;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new ca;const{data:i,error:a}=await this._refreshAccessToken(e);if(a)throw a;if(!i.session)throw new yr;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const o={session:i.session,error:null};return this.refreshingDeferred.resolve(o),o}catch(i){if(this._debug(s,"error",i),xe(i)){const a={session:null,error:i};return Na(i)||await this._removeSession(),(t=this.refreshingDeferred)===null||t===void 0||t.resolve(a),a}throw(n=this.refreshingDeferred)===null||n===void 0||n.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,t,n=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",t,`broadcast = ${n}`);try{this.broadcastChannel&&n&&this.broadcastChannel.postMessage({event:e,session:t});const i=[],a=Array.from(this.stateChangeEmitters.values()).map(async o=>{try{await o.callback(e,t)}catch(l){i.push(l)}});if(await Promise.all(a),i.length>0){for(let o=0;o<i.length;o+=1)console.error(i[o]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await Vu(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await gi(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ht()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(t){console.error("removing visibilitychange callback failed",t)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Tn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async t=>{const{data:{session:n}}=t;if(!n||!n.refresh_token||!n.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((n.expires_at*1e3-e)/Tn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Tn}ms, refresh threshold is ${Eo} ticks`),s<=Eo&&await this._callRefreshToken(n.refresh_token)})}catch(t){console.error("Auto refresh tick failed with error. This is likely a transient error.",t)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof Gu)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ht()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const t=`#_onVisibilityChanged(${e})`;this._debug(t,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(t,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,t,n){const s=[`provider=${encodeURIComponent(t)}`];if(n!=null&&n.redirectTo&&s.push(`redirect_to=${encodeURIComponent(n.redirectTo)}`),n!=null&&n.scopes&&s.push(`scopes=${encodeURIComponent(n.scopes)}`),this.flowType==="pkce"){const[i,a]=await Dn(this.storage,this.storageKey),o=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(a)}`});s.push(o.toString())}if(n!=null&&n.queryParams){const i=new URLSearchParams(n.queryParams);s.push(i.toString())}return n!=null&&n.skipBrowserRedirect&&s.push(`skip_http_redirect=${n.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await Ae(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(xe(t))return{data:null,error:t};throw t}}async _enroll(e){try{return await this._useSession(async t=>{var n,s;const{data:i,error:a}=t;if(a)return{data:null,error:a};const o=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:d}=await Ae(this.fetch,"POST",`${this.url}/factors`,{body:o,headers:this.headers,jwt:(n=i==null?void 0:i.session)===null||n===void 0?void 0:n.access_token});return d?{data:null,error:d}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(t){if(xe(t))return{data:null,error:t};throw t}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;if(i)return{data:null,error:i};const{data:a,error:o}=await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token});return o?{data:null,error:o}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+a.expires_in},a)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",a),{data:a,error:o})})}catch(t){if(xe(t))return{data:null,error:t};throw t}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async t=>{var n;const{data:s,error:i}=t;return i?{data:null,error:i}:await Ae(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(n=s==null?void 0:s.session)===null||n===void 0?void 0:n.access_token})})}catch(t){if(xe(t))return{data:null,error:t};throw t}})}async _challengeAndVerify(e){const{data:t,error:n}=await this._challenge({factorId:e.factorId});return n?{data:null,error:n}:await this._verify({factorId:e.factorId,challengeId:t.id,code:e.code})}async _listFactors(){const{data:{user:e},error:t}=await this.getUser();if(t)return{data:null,error:t};const n=(e==null?void 0:e.factors)||[],s=n.filter(a=>a.factor_type==="totp"&&a.status==="verified"),i=n.filter(a=>a.factor_type==="phone"&&a.status==="verified");return{data:{all:n,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var t,n;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:a}=Oa(s.access_token);let o=null;a.aal&&(o=a.aal);let l=o;((n=(t=s.user.factors)===null||t===void 0?void 0:t.filter(f=>f.status==="verified"))!==null&&n!==void 0?n:[]).length>0&&(l="aal2");const c=a.amr||[];return{data:{currentLevel:o,nextLevel:l,currentAuthenticationMethods:c},error:null}}))}async fetchJwk(e,t={keys:[]}){let n=t.keys.find(a=>a.kid===e);if(n||(n=this.jwks.keys.find(a=>a.kid===e),n&&this.jwks_cached_at+Xy>Date.now()))return n;const{data:s,error:i}=await Ae(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Ss("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),n=s.keys.find(a=>a.kid===e),!n)throw new Ss("No matching signing key found in JWKS");return n}async getClaims(e,t={keys:[]}){try{let n=e;if(!n){const{data:g,error:v}=await this.getSession();if(v||!g.session)return{data:null,error:v};n=g.session.access_token}const{header:s,payload:i,signature:a,raw:{header:o,payload:l}}=Oa(n);if(_v(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:g}=await this.getUser(n);if(g)throw g;return{data:{claims:i,header:s,signature:a},error:null}}const d=Sv(s.alg),c=await this.fetchJwk(s.kid,t),f=await crypto.subtle.importKey("jwk",c,d,!0,["verify"]);if(!await crypto.subtle.verify(d,f,a,cv(`${o}.${l}`)))throw new Ss("Invalid JWT signature");return{data:{claims:i,header:s,signature:a},error:null}}catch(n){if(xe(n))return{data:null,error:n};throw n}}}Ts.nextInstanceID=0;const Uv=Ts;class Hv extends Uv{constructor(e){super(e)}}var Bv=function(r,e,t,n){function s(i){return i instanceof t?i:new t(function(a){a(i)})}return new(t||(t=Promise))(function(i,a){function o(c){try{d(n.next(c))}catch(f){a(f)}}function l(c){try{d(n.throw(c))}catch(f){a(f)}}function d(c){c.done?i(c.value):s(c.value).then(o,l)}d((n=n.apply(r,e||[])).next())})};class $v{constructor(e,t,n){var s,i,a;if(this.supabaseUrl=e,this.supabaseKey=t,!e)throw new Error("supabaseUrl is required.");if(!t)throw new Error("supabaseKey is required.");const o=Gy(e),l=new URL(o);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const d=`sb-${l.hostname.split(".")[0]}-auth-token`,c={db:Uy,realtime:By,auth:Object.assign(Object.assign({},Hy),{storageKey:d}),global:Fy},f=Qy(n??{},c);this.storageKey=(s=f.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=f.global.headers)!==null&&i!==void 0?i:{},f.accessToken?(this.accessToken=f.accessToken,this.auth=new Proxy({},{get:(h,g)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(g)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((a=f.auth)!==null&&a!==void 0?a:{},this.headers,f.global.fetch),this.fetch=Wy(t,this._getAccessToken.bind(this),f.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},f.realtime)),this.rest=new oy(new URL("rest/v1",l).href,{headers:this.headers,schema:f.db.schema,fetch:this.fetch}),f.accessToken||this._listenForAuthEvents()}get functions(){return new Lp(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new My(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,t={},n={}){return this.rest.rpc(e,t,n)}channel(e,t={config:{}}){return this.realtime.channel(e,t)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,t;return Bv(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:n}=yield this.auth.getSession();return(t=(e=n.session)===null||e===void 0?void 0:e.access_token)!==null&&t!==void 0?t:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,storageKey:i,flowType:a,lock:o,debug:l},d,c){const f={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new Hv({url:this.authUrl.href,headers:Object.assign(Object.assign({},f),d),storageKey:i,autoRefreshToken:e,persistSession:t,detectSessionInUrl:n,storage:s,flowType:a,lock:o,debug:l,fetch:c,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new xy(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((t,n)=>{this._handleTokenChanged(t,"CLIENT",n==null?void 0:n.access_token)})}_handleTokenChanged(e,t,n){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==n?this.changedAccessToken=n:e==="SIGNED_OUT"&&(this.realtime.setAuth(),t=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const zv=(r,e,t)=>new $v(r,e,t),qv="https://mjhhifknrurxvccmneeq.supabase.co",Wv="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6Im1qaGhpZmtucnVyeHZjY21uZWVxIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NDg5OTI2MjIsImV4cCI6MjA2NDU2ODYyMn0.pcNOkQBDxMz780LsPceihuEQQgWdsFK1sErkmGhuXLk",ge=zv(qv,Wv,{db:{schema:"public"}}),Vv=Object.freeze(Object.defineProperty({__proto__:null,supabase:ge},Symbol.toStringTag,{value:"Module"})),Ft=_u()(Su(r=>({user:null,loading:!0,signIn:async(e,t)=>{const{data:n,error:s}=await ge.auth.signInWithPassword({email:e,password:t});if(s)throw s;r({user:n.user})},signOut:async()=>{await ge.auth.signOut(),r({user:null})}}),{name:"auth-storage"})),Gv=_u()(Su(r=>({isDarkMode:!1,toggleTheme:()=>r(e=>({isDarkMode:!e.isDarkMode}))}),{name:"theme-storage"}));function Qv({children:r}){const[e,t]=M.useState(!0),[n,s]=M.useState(!1),i=zo(),a=ig(),o=Ft(y=>y.signOut),l=Ft(y=>y.user),{isDarkMode:d,toggleTheme:c}=Gv(),{data:f}=ft({queryKey:["current-user",l==null?void 0:l.id],queryFn:async()=>{const{data:y,error:p}=await ge.from("users").select("role").eq("id",l==null?void 0:l.id).single();if(p)throw p;return y},enabled:!!(l!=null&&l.id)}),h=[{id:"/",label:"Dashboard",icon:Lr},{id:"/appointments",label:"Agendamentos",icon:Lr},{id:"/clients",label:"Clientes",icon:ag},{id:"/services",label:"Servios",icon:qo},{id:"/whatsapp",label:"WhatsApp",icon:og},{id:"/settings",label:"Configuraes",icon:lg},...(f==null?void 0:f.role)==="admin"?[{id:"/admin",label:"Painel Admin",icon:Xa}]:[]];Jn.useEffect(()=>{document.documentElement.classList.toggle("dark",d)},[d]);const g=()=>{s(!0)},v=async()=>{await o(),s(!1)};return u.jsxs("div",{className:`min-h-screen ${d?"dark bg-gray-900":"bg-gray-50"}`,children:[u.jsx("header",{className:"bg-white dark:bg-gray-800 shadow-sm fixed w-full z-10",children:u.jsxs("div",{className:"flex items-center justify-between px-4 py-3",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("button",{onClick:()=>t(!e),className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-lg",children:e?u.jsx(cg,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}):u.jsx(dg,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"})}),u.jsx("h1",{className:"text-xl font-semibold text-gray-800 dark:text-white",children:"Agenda Pro"})]}),u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full",children:d?u.jsx(ug,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}):u.jsx(hg,{className:"w-5 h-5 text-gray-500"})}),u.jsxs("button",{className:"p-2 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-full relative",children:[u.jsx(Kd,{className:"w-5 h-5 text-gray-500 dark:text-gray-400"}),u.jsx("span",{className:"absolute top-1 right-1 w-2 h-2 bg-red-500 rounded-full"})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("img",{src:"https://images.pexels.com/photos/614810/pexels-photo-614810.jpeg",alt:"Profile",className:"w-8 h-8 rounded-full object-cover"}),u.jsx("span",{className:"text-sm font-medium text-gray-700 dark:text-gray-300",children:l==null?void 0:l.email}),(f==null?void 0:f.role)==="admin"&&u.jsx("span",{className:"px-2 py-1 bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200 text-xs font-medium rounded-full",children:"Admin"}),u.jsx(Wo,{className:"w-4 h-4 text-gray-500 dark:text-gray-400"})]}),u.jsx("button",{onClick:g,className:"p-2 hover:bg-red-50 dark:hover:bg-red-900 rounded-full",children:u.jsx(fg,{className:"w-5 h-5 text-red-500"})})]})]})}),u.jsx("aside",{className:`fixed left-0 top-[57px] h-[calc(100vh-57px)] bg-white dark:bg-gray-800 shadow-sm transition-all duration-300 ${e?"w-64":"w-16"}`,children:u.jsx("nav",{className:"p-4 space-y-1",children:h.map(y=>{const p=y.icon;return u.jsxs("button",{onClick:()=>i(y.id),title:e?void 0:y.label,className:`w-full flex items-center gap-3 px-3 py-2 rounded-lg text-sm font-medium transition-colors ${a.pathname===y.id?"bg-blue-50 dark:bg-blue-900 text-blue-600 dark:text-blue-300":"text-gray-600 dark:text-gray-400 hover:bg-gray-50 dark:hover:bg-gray-700"} ${e?"":"justify-center"}`,children:[u.jsx(p,{className:"w-5 h-5 flex-shrink-0"}),e&&u.jsx("span",{children:y.label})]},y.id)})})}),u.jsx("main",{className:`pt-[73px] min-h-screen transition-all duration-300 ${e?"ml-64":"ml-16"}`,children:r}),n&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Confirmar Logout"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Tem certeza que deseja sair do sistema?"}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>s(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsx("button",{onClick:v,className:"px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700",children:"Confirmar"})]})]})})]})}var da,de,Qu,Yu,es,Xr,Tc,Ku,Ju,Li={},Zu=[],Yv=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i;function Nr(r,e){for(var t in e)r[t]=e[t];return r}function Xu(r){var e=r.parentNode;e&&e.removeChild(r)}function x(r,e,t){var n,s,i,a={};for(i in e)i=="key"?n=e[i]:i=="ref"?s=e[i]:a[i]=e[i];if(arguments.length>2&&(a.children=arguments.length>3?da.call(arguments,2):t),typeof r=="function"&&r.defaultProps!=null)for(i in r.defaultProps)a[i]===void 0&&(a[i]=r.defaultProps[i]);return ki(r,a,n,s,null)}function ki(r,e,t,n,s){var i={type:r,props:e,key:t,ref:n,__k:null,__:null,__b:0,__e:null,__d:void 0,__c:null,__h:null,constructor:void 0,__v:s??++Qu};return s==null&&de.vnode!=null&&de.vnode(i),i}function gt(){return{current:null}}function Be(r){return r.children}function Kv(r,e,t,n,s){var i;for(i in t)i==="children"||i==="key"||i in e||Fi(r,i,null,t[i],n);for(i in e)s&&typeof e[i]!="function"||i==="children"||i==="key"||i==="value"||i==="checked"||t[i]===e[i]||Fi(r,i,e[i],t[i],n)}function Nc(r,e,t){e[0]==="-"?r.setProperty(e,t??""):r[e]=t==null?"":typeof t!="number"||Yv.test(e)?t:t+"px"}function Fi(r,e,t,n,s){var i;e:if(e==="style")if(typeof t=="string")r.style.cssText=t;else{if(typeof n=="string"&&(r.style.cssText=n=""),n)for(e in n)t&&e in t||Nc(r.style,e,"");if(t)for(e in t)n&&t[e]===n[e]||Nc(r.style,e,t[e])}else if(e[0]==="o"&&e[1]==="n")i=e!==(e=e.replace(/Capture$/,"")),e=e.toLowerCase()in r?e.toLowerCase().slice(2):e.slice(2),r.l||(r.l={}),r.l[e+i]=t,t?n||r.addEventListener(e,i?Ic:Oc,i):r.removeEventListener(e,i?Ic:Oc,i);else if(e!=="dangerouslySetInnerHTML"){if(s)e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!=="width"&&e!=="height"&&e!=="href"&&e!=="list"&&e!=="form"&&e!=="tabIndex"&&e!=="download"&&e in r)try{r[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e.indexOf("-")==-1?r.removeAttribute(e):r.setAttribute(e,t))}}function Oc(r){es=!0;try{return this.l[r.type+!1](de.event?de.event(r):r)}finally{es=!1}}function Ic(r){es=!0;try{return this.l[r.type+!0](de.event?de.event(r):r)}finally{es=!1}}function St(r,e){this.props=r,this.context=e}function Ns(r,e){if(e==null)return r.__?Ns(r.__,r.__.__k.indexOf(r)+1):null;for(var t;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null)return t.__e;return typeof r.type=="function"?Ns(r):null}function eh(r){var e,t;if((r=r.__)!=null&&r.__c!=null){for(r.__e=r.__c.base=null,e=0;e<r.__k.length;e++)if((t=r.__k[e])!=null&&t.__e!=null){r.__e=r.__c.base=t.__e;break}return eh(r)}}function Jv(r){es?setTimeout(r):Ku(r)}function Ao(r){(!r.__d&&(r.__d=!0)&&Xr.push(r)&&!Ui.__r++||Tc!==de.debounceRendering)&&((Tc=de.debounceRendering)||Jv)(Ui)}function Ui(){var r,e,t,n,s,i,a,o;for(Xr.sort(function(l,d){return l.__v.__b-d.__v.__b});r=Xr.shift();)r.__d&&(e=Xr.length,n=void 0,s=void 0,a=(i=(t=r).__v).__e,(o=t.__P)&&(n=[],(s=Nr({},i)).__v=i.__v+1,sl(o,i,s,t.__n,o.ownerSVGElement!==void 0,i.__h!=null?[a]:null,n,a??Ns(i),i.__h),ih(n,i),i.__e!=a&&eh(i)),Xr.length>e&&Xr.sort(function(l,d){return l.__v.__b-d.__v.__b}));Ui.__r=0}function th(r,e,t,n,s,i,a,o,l,d){var c,f,h,g,v,y,p,S=n&&n.__k||Zu,w=S.length;for(t.__k=[],c=0;c<e.length;c++)if((g=t.__k[c]=(g=e[c])==null||typeof g=="boolean"?null:typeof g=="string"||typeof g=="number"||typeof g=="bigint"?ki(null,g,null,null,g):Array.isArray(g)?ki(Be,{children:g},null,null,null):g.__b>0?ki(g.type,g.props,g.key,g.ref?g.ref:null,g.__v):g)!=null){if(g.__=t,g.__b=t.__b+1,(h=S[c])===null||h&&g.key==h.key&&g.type===h.type)S[c]=void 0;else for(f=0;f<w;f++){if((h=S[f])&&g.key==h.key&&g.type===h.type){S[f]=void 0;break}h=null}sl(r,g,h=h||Li,s,i,a,o,l,d),v=g.__e,(f=g.ref)&&h.ref!=f&&(p||(p=[]),h.ref&&p.push(h.ref,null,g),p.push(f,g.__c||v,g)),v!=null?(y==null&&(y=v),typeof g.type=="function"&&g.__k===h.__k?g.__d=l=rh(g,l,r):l=nh(r,g,h,S,v,l),typeof t.type=="function"&&(t.__d=l)):l&&h.__e==l&&l.parentNode!=r&&(l=Ns(h))}for(t.__e=y,c=w;c--;)S[c]!=null&&(typeof t.type=="function"&&S[c].__e!=null&&S[c].__e==t.__d&&(t.__d=sh(n).nextSibling),oh(S[c],S[c]));if(p)for(c=0;c<p.length;c++)ah(p[c],p[++c],p[++c])}function rh(r,e,t){for(var n,s=r.__k,i=0;s&&i<s.length;i++)(n=s[i])&&(n.__=r,e=typeof n.type=="function"?rh(n,e,t):nh(t,n,n,s,n.__e,e));return e}function Hi(r,e){return e=e||[],r==null||typeof r=="boolean"||(Array.isArray(r)?r.some(function(t){Hi(t,e)}):e.push(r)),e}function nh(r,e,t,n,s,i){var a,o,l;if(e.__d!==void 0)a=e.__d,e.__d=void 0;else if(t==null||s!=i||s.parentNode==null)e:if(i==null||i.parentNode!==r)r.appendChild(s),a=null;else{for(o=i,l=0;(o=o.nextSibling)&&l<n.length;l+=1)if(o==s)break e;r.insertBefore(s,i),a=i}return a!==void 0?a:s.nextSibling}function sh(r){var e,t,n;if(r.type==null||typeof r.type=="string")return r.__e;if(r.__k){for(e=r.__k.length-1;e>=0;e--)if((t=r.__k[e])&&(n=sh(t)))return n}return null}function sl(r,e,t,n,s,i,a,o,l){var d,c,f,h,g,v,y,p,S,w,k,E,T,H,R,O=e.type;if(e.constructor!==void 0)return null;t.__h!=null&&(l=t.__h,o=e.__e=t.__e,e.__h=null,i=[o]),(d=de.__b)&&d(e);try{e:if(typeof O=="function"){if(p=e.props,S=(d=O.contextType)&&n[d.__c],w=d?S?S.props.value:d.__:n,t.__c?y=(c=e.__c=t.__c).__=c.__E:("prototype"in O&&O.prototype.render?e.__c=c=new O(p,w):(e.__c=c=new St(p,w),c.constructor=O,c.render=Xv),S&&S.sub(c),c.props=p,c.state||(c.state={}),c.context=w,c.__n=n,f=c.__d=!0,c.__h=[],c._sb=[]),c.__s==null&&(c.__s=c.state),O.getDerivedStateFromProps!=null&&(c.__s==c.state&&(c.__s=Nr({},c.__s)),Nr(c.__s,O.getDerivedStateFromProps(p,c.__s))),h=c.props,g=c.state,c.__v=e,f)O.getDerivedStateFromProps==null&&c.componentWillMount!=null&&c.componentWillMount(),c.componentDidMount!=null&&c.__h.push(c.componentDidMount);else{if(O.getDerivedStateFromProps==null&&p!==h&&c.componentWillReceiveProps!=null&&c.componentWillReceiveProps(p,w),!c.__e&&c.shouldComponentUpdate!=null&&c.shouldComponentUpdate(p,c.__s,w)===!1||e.__v===t.__v){for(e.__v!==t.__v&&(c.props=p,c.state=c.__s,c.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.forEach(function(I){I&&(I.__=e)}),k=0;k<c._sb.length;k++)c.__h.push(c._sb[k]);c._sb=[],c.__h.length&&a.push(c);break e}c.componentWillUpdate!=null&&c.componentWillUpdate(p,c.__s,w),c.componentDidUpdate!=null&&c.__h.push(function(){c.componentDidUpdate(h,g,v)})}if(c.context=w,c.props=p,c.__P=r,E=de.__r,T=0,"prototype"in O&&O.prototype.render){for(c.state=c.__s,c.__d=!1,E&&E(e),d=c.render(c.props,c.state,c.context),H=0;H<c._sb.length;H++)c.__h.push(c._sb[H]);c._sb=[]}else do c.__d=!1,E&&E(e),d=c.render(c.props,c.state,c.context),c.state=c.__s;while(c.__d&&++T<25);c.state=c.__s,c.getChildContext!=null&&(n=Nr(Nr({},n),c.getChildContext())),f||c.getSnapshotBeforeUpdate==null||(v=c.getSnapshotBeforeUpdate(h,g)),R=d!=null&&d.type===Be&&d.key==null?d.props.children:d,th(r,Array.isArray(R)?R:[R],e,t,n,s,i,a,o,l),c.base=e.__e,e.__h=null,c.__h.length&&a.push(c),y&&(c.__E=c.__=null),c.__e=!1}else i==null&&e.__v===t.__v?(e.__k=t.__k,e.__e=t.__e):e.__e=Zv(t.__e,e,t,n,s,i,a,l);(d=de.diffed)&&d(e)}catch(I){e.__v=null,(l||i!=null)&&(e.__e=o,e.__h=!!l,i[i.indexOf(o)]=null),de.__e(I,e,t)}}function ih(r,e){de.__c&&de.__c(e,r),r.some(function(t){try{r=t.__h,t.__h=[],r.some(function(n){n.call(t)})}catch(n){de.__e(n,t.__v)}})}function Zv(r,e,t,n,s,i,a,o){var l,d,c,f=t.props,h=e.props,g=e.type,v=0;if(g==="svg"&&(s=!0),i!=null){for(;v<i.length;v++)if((l=i[v])&&"setAttribute"in l==!!g&&(g?l.localName===g:l.nodeType===3)){r=l,i[v]=null;break}}if(r==null){if(g===null)return document.createTextNode(h);r=s?document.createElementNS("http://www.w3.org/2000/svg",g):document.createElement(g,h.is&&h),i=null,o=!1}if(g===null)f===h||o&&r.data===h||(r.data=h);else{if(i=i&&da.call(r.childNodes),d=(f=t.props||Li).dangerouslySetInnerHTML,c=h.dangerouslySetInnerHTML,!o){if(i!=null)for(f={},v=0;v<r.attributes.length;v++)f[r.attributes[v].name]=r.attributes[v].value;(c||d)&&(c&&(d&&c.__html==d.__html||c.__html===r.innerHTML)||(r.innerHTML=c&&c.__html||""))}if(Kv(r,h,f,s,o),c)e.__k=[];else if(v=e.props.children,th(r,Array.isArray(v)?v:[v],e,t,n,s&&g!=="foreignObject",i,a,i?i[0]:t.__k&&Ns(t,0),o),i!=null)for(v=i.length;v--;)i[v]!=null&&Xu(i[v]);o||("value"in h&&(v=h.value)!==void 0&&(v!==r.value||g==="progress"&&!v||g==="option"&&v!==f.value)&&Fi(r,"value",v,f.value,!1),"checked"in h&&(v=h.checked)!==void 0&&v!==r.checked&&Fi(r,"checked",v,f.checked,!1))}return r}function ah(r,e,t){try{typeof r=="function"?r(e):r.current=e}catch(n){de.__e(n,t)}}function oh(r,e,t){var n,s;if(de.unmount&&de.unmount(r),(n=r.ref)&&(n.current&&n.current!==r.__e||ah(n,null,e)),(n=r.__c)!=null){if(n.componentWillUnmount)try{n.componentWillUnmount()}catch(i){de.__e(i,e)}n.base=n.__P=null,r.__c=void 0}if(n=r.__k)for(s=0;s<n.length;s++)n[s]&&oh(n[s],e,t||typeof r.type!="function");t||r.__e==null||Xu(r.__e),r.__=r.__e=r.__d=void 0}function Xv(r,e,t){return this.constructor(r,t)}function Os(r,e,t){var n,s,i;de.__&&de.__(r,e),s=(n=typeof t=="function")?null:e.__k,i=[],sl(e,r=(!n&&t||e).__k=x(Be,null,[r]),s||Li,Li,e.ownerSVGElement!==void 0,!n&&t?[t]:s?null:e.firstChild?da.call(e.childNodes):null,i,!n&&t?t:s?s.__e:e.firstChild,n),ih(i,r)}function eb(r,e){var t={__c:e="__cC"+Ju++,__:r,Consumer:function(n,s){return n.children(s)},Provider:function(n){var s,i;return this.getChildContext||(s=[],(i={})[e]=this,this.getChildContext=function(){return i},this.shouldComponentUpdate=function(a){this.props.value!==a.value&&s.some(function(o){o.__e=!0,Ao(o)})},this.sub=function(a){s.push(a);var o=a.componentWillUnmount;a.componentWillUnmount=function(){s.splice(s.indexOf(a),1),o&&o.call(a)}}),n.children}};return t.Provider.__=t.Consumer.contextType=t}da=Zu.slice,de={__e:function(r,e,t,n){for(var s,i,a;e=e.__;)if((s=e.__c)&&!s.__)try{if((i=s.constructor)&&i.getDerivedStateFromError!=null&&(s.setState(i.getDerivedStateFromError(r)),a=s.__d),s.componentDidCatch!=null&&(s.componentDidCatch(r,n||{}),a=s.__d),a)return s.__E=s}catch(o){r=o}throw r}},Qu=0,Yu=function(r){return r!=null&&r.constructor===void 0},es=!1,St.prototype.setState=function(r,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Nr({},this.state),typeof r=="function"&&(r=r(Nr({},t),this.props)),r&&Nr(t,r),r!=null&&this.__v&&(e&&this._sb.push(e),Ao(this))},St.prototype.forceUpdate=function(r){this.__v&&(this.__e=!0,r&&this.__h.push(r),Ao(this))},St.prototype.render=Be,Xr=[],Ku=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,Ui.__r=0,Ju=0;var qt,Ia,Mc,lh=[],Ma=[],Pc=de.__b,Lc=de.__r,Fc=de.diffed,Uc=de.__c,Hc=de.unmount;function tb(){for(var r;r=lh.shift();)if(r.__P&&r.__H)try{r.__H.__h.forEach(Ai),r.__H.__h.forEach(Do),r.__H.__h=[]}catch(e){r.__H.__h=[],de.__e(e,r.__v)}}de.__b=function(r){qt=null,Pc&&Pc(r)},de.__r=function(r){Lc&&Lc(r);var e=(qt=r.__c).__H;e&&(Ia===qt?(e.__h=[],qt.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.__V=Ma,t.__N=t.i=void 0})):(e.__h.forEach(Ai),e.__h.forEach(Do),e.__h=[])),Ia=qt},de.diffed=function(r){Fc&&Fc(r);var e=r.__c;e&&e.__H&&(e.__H.__h.length&&(lh.push(e)!==1&&Mc===de.requestAnimationFrame||((Mc=de.requestAnimationFrame)||rb)(tb)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.__V!==Ma&&(t.__=t.__V),t.i=void 0,t.__V=Ma})),Ia=qt=null},de.__c=function(r,e){e.some(function(t){try{t.__h.forEach(Ai),t.__h=t.__h.filter(function(n){return!n.__||Do(n)})}catch(n){e.some(function(s){s.__h&&(s.__h=[])}),e=[],de.__e(n,t.__v)}}),Uc&&Uc(r,e)},de.unmount=function(r){Hc&&Hc(r);var e,t=r.__c;t&&t.__H&&(t.__H.__.forEach(function(n){try{Ai(n)}catch(s){e=s}}),t.__H=void 0,e&&de.__e(e,t.__v))};var Bc=typeof requestAnimationFrame=="function";function rb(r){var e,t=function(){clearTimeout(n),Bc&&cancelAnimationFrame(e),setTimeout(r)},n=setTimeout(t,100);Bc&&(e=requestAnimationFrame(t))}function Ai(r){var e=qt,t=r.__c;typeof t=="function"&&(r.__c=void 0,t()),qt=e}function Do(r){var e=qt;r.__c=r.__(),qt=e}function nb(r,e){for(var t in e)r[t]=e[t];return r}function $c(r,e){for(var t in r)if(t!=="__source"&&!(t in e))return!0;for(var n in e)if(n!=="__source"&&r[n]!==e[n])return!0;return!1}function zc(r){this.props=r}(zc.prototype=new St).isPureReactComponent=!0,zc.prototype.shouldComponentUpdate=function(r,e){return $c(this.props,r)||$c(this.state,e)};var qc=de.__b;de.__b=function(r){r.type&&r.type.__f&&r.ref&&(r.props.ref=r.ref,r.ref=null),qc&&qc(r)};var sb=de.__e;de.__e=function(r,e,t,n){if(r.then){for(var s,i=e;i=i.__;)if((s=i.__c)&&s.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),s.__c(r,e)}sb(r,e,t,n)};var Wc=de.unmount;function ch(r,e,t){return r&&(r.__c&&r.__c.__H&&(r.__c.__H.__.forEach(function(n){typeof n.__c=="function"&&n.__c()}),r.__c.__H=null),(r=nb({},r)).__c!=null&&(r.__c.__P===t&&(r.__c.__P=e),r.__c=null),r.__k=r.__k&&r.__k.map(function(n){return ch(n,e,t)})),r}function dh(r,e,t){return r&&(r.__v=null,r.__k=r.__k&&r.__k.map(function(n){return dh(n,e,t)}),r.__c&&r.__c.__P===e&&(r.__e&&t.insertBefore(r.__e,r.__d),r.__c.__e=!0,r.__c.__P=t)),r}function Pa(){this.__u=0,this.t=null,this.__b=null}function uh(r){var e=r.__.__c;return e&&e.__a&&e.__a(r)}function mi(){this.u=null,this.o=null}de.unmount=function(r){var e=r.__c;e&&e.__R&&e.__R(),e&&r.__h===!0&&(r.type=null),Wc&&Wc(r)},(Pa.prototype=new St).__c=function(r,e){var t=e.__c,n=this;n.t==null&&(n.t=[]),n.t.push(t);var s=uh(n.__v),i=!1,a=function(){i||(i=!0,t.__R=null,s?s(o):o())};t.__R=a;var o=function(){if(!--n.__u){if(n.state.__a){var d=n.state.__a;n.__v.__k[0]=dh(d,d.__c.__P,d.__c.__O)}var c;for(n.setState({__a:n.__b=null});c=n.t.pop();)c.forceUpdate()}},l=e.__h===!0;n.__u++||l||n.setState({__a:n.__b=n.__v.__k[0]}),r.then(a,a)},Pa.prototype.componentWillUnmount=function(){this.t=[]},Pa.prototype.render=function(r,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),n=this.__v.__k[0].__c;this.__v.__k[0]=ch(this.__b,t,n.__O=n.__P)}this.__b=null}var s=e.__a&&x(Be,null,r.fallback);return s&&(s.__h=null),[x(Be,null,e.__a?null:r.children),s]};var Vc=function(r,e,t){if(++t[1]===t[0]&&r.o.delete(e),r.props.revealOrder&&(r.props.revealOrder[0]!=="t"||!r.o.size))for(t=r.u;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;r.u=t=t[2]}};function ib(r){return this.getChildContext=function(){return r.context},r.children}function ab(r){var e=this,t=r.i;e.componentWillUnmount=function(){Os(null,e.l),e.l=null,e.i=null},e.i&&e.i!==t&&e.componentWillUnmount(),r.__v?(e.l||(e.i=t,e.l={nodeType:1,parentNode:t,childNodes:[],appendChild:function(n){this.childNodes.push(n),e.i.appendChild(n)},insertBefore:function(n,s){this.childNodes.push(n),e.i.appendChild(n)},removeChild:function(n){this.childNodes.splice(this.childNodes.indexOf(n)>>>1,1),e.i.removeChild(n)}}),Os(x(ib,{context:e.context},r.__v),e.l)):e.l&&e.componentWillUnmount()}function ob(r,e){var t=x(ab,{__v:r,i:e});return t.containerInfo=e,t}(mi.prototype=new St).__a=function(r){var e=this,t=uh(e.__v),n=e.o.get(r);return n[0]++,function(s){var i=function(){e.props.revealOrder?(n.push(s),Vc(e,r,n)):s()};t?t(i):i()}},mi.prototype.render=function(r){this.u=null,this.o=new Map;var e=Hi(r.children);r.revealOrder&&r.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.o.set(e[t],this.u=[1,0,this.u]);return r.children},mi.prototype.componentDidUpdate=mi.prototype.componentDidMount=function(){var r=this;this.o.forEach(function(e,t){Vc(r,t,e)})};var lb=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,cb=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,db=typeof document<"u",ub=function(r){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/i:/fil|che|ra/i).test(r)};St.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(r){Object.defineProperty(St.prototype,r,{configurable:!0,get:function(){return this["UNSAFE_"+r]},set:function(e){Object.defineProperty(this,r,{configurable:!0,writable:!0,value:e})}})});var Gc=de.event;function hb(){}function fb(){return this.cancelBubble}function gb(){return this.defaultPrevented}de.event=function(r){return Gc&&(r=Gc(r)),r.persist=hb,r.isPropagationStopped=fb,r.isDefaultPrevented=gb,r.nativeEvent=r};var Qc={configurable:!0,get:function(){return this.class}},Yc=de.vnode;de.vnode=function(r){var e=r.type,t=r.props,n=t;if(typeof e=="string"){var s=e.indexOf("-")===-1;for(var i in n={},t){var a=t[i];db&&i==="children"&&e==="noscript"||i==="value"&&"defaultValue"in t&&a==null||(i==="defaultValue"&&"value"in t&&t.value==null?i="value":i==="download"&&a===!0?a="":/ondoubleclick/i.test(i)?i="ondblclick":/^onchange(textarea|input)/i.test(i+e)&&!ub(t.type)?i="oninput":/^onfocus$/i.test(i)?i="onfocusin":/^onblur$/i.test(i)?i="onfocusout":/^on(Ani|Tra|Tou|BeforeInp|Compo)/.test(i)?i=i.toLowerCase():s&&cb.test(i)?i=i.replace(/[A-Z0-9]/g,"-$&").toLowerCase():a===null&&(a=void 0),/^oninput$/i.test(i)&&(i=i.toLowerCase(),n[i]&&(i="oninputCapture")),n[i]=a)}e=="select"&&n.multiple&&Array.isArray(n.value)&&(n.value=Hi(t.children).forEach(function(o){o.props.selected=n.value.indexOf(o.props.value)!=-1})),e=="select"&&n.defaultValue!=null&&(n.value=Hi(t.children).forEach(function(o){o.props.selected=n.multiple?n.defaultValue.indexOf(o.props.value)!=-1:n.defaultValue==o.props.value})),r.props=n,t.class!=t.className&&(Qc.enumerable="className"in t,t.className!=null&&(n.class=t.className),Object.defineProperty(n,"className",Qc))}r.$$typeof=lb,Yc&&Yc(r)};var Kc=de.__r;de.__r=function(r){Kc&&Kc(r),r.__c};const hh=[],jo=new Map;function il(r){hh.push(r),jo.forEach(e=>{gh(e,r)})}function mb(r){r.isConnected&&r.getRootNode&&fh(r.getRootNode())}function fh(r){let e=jo.get(r);if(!e||!e.isConnected){if(e=r.querySelector("style[data-fullcalendar]"),!e){e=document.createElement("style"),e.setAttribute("data-fullcalendar","");const t=yb();t&&(e.nonce=t);const n=r===document?document.head:r,s=r===document?n.querySelector("script,link[rel=stylesheet],link[as=style],style"):n.firstChild;n.insertBefore(e,s)}jo.set(r,e),pb(e)}}function pb(r){for(const e of hh)gh(r,e)}function gh(r,e){const{sheet:t}=r,n=t.cssRules.length;e.split("}").forEach((s,i)=>{s=s.trim(),s&&t.insertRule(s+"}",n+i)})}let La;function yb(){return La===void 0&&(La=vb()),La}function vb(){const r=document.querySelector('meta[name="csp-nonce"]');if(r&&r.hasAttribute("content"))return r.getAttribute("content");const e=document.querySelector("script[nonce]");return e&&e.nonce||""}typeof document<"u"&&fh(document);var bb=':root{--fc-small-font-size:.85em;--fc-page-bg-color:#fff;--fc-neutral-bg-color:hsla(0,0%,82%,.3);--fc-neutral-text-color:grey;--fc-border-color:#ddd;--fc-button-text-color:#fff;--fc-button-bg-color:#2c3e50;--fc-button-border-color:#2c3e50;--fc-button-hover-bg-color:#1e2b37;--fc-button-hover-border-color:#1a252f;--fc-button-active-bg-color:#1a252f;--fc-button-active-border-color:#151e27;--fc-event-bg-color:#3788d8;--fc-event-border-color:#3788d8;--fc-event-text-color:#fff;--fc-event-selected-overlay-color:rgba(0,0,0,.25);--fc-more-link-bg-color:#d0d0d0;--fc-more-link-text-color:inherit;--fc-event-resizer-thickness:8px;--fc-event-resizer-dot-total-width:8px;--fc-event-resizer-dot-border-width:1px;--fc-non-business-color:hsla(0,0%,84%,.3);--fc-bg-event-color:#8fdf82;--fc-bg-event-opacity:0.3;--fc-highlight-color:rgba(188,232,241,.3);--fc-today-bg-color:rgba(255,220,40,.15);--fc-now-indicator-color:red}.fc-not-allowed,.fc-not-allowed .fc-event{cursor:not-allowed}.fc{display:flex;flex-direction:column;font-size:1em}.fc,.fc *,.fc :after,.fc :before{box-sizing:border-box}.fc table{border-collapse:collapse;border-spacing:0;font-size:1em}.fc th{text-align:center}.fc td,.fc th{padding:0;vertical-align:top}.fc a[data-navlink]{cursor:pointer}.fc a[data-navlink]:hover{text-decoration:underline}.fc-direction-ltr{direction:ltr;text-align:left}.fc-direction-rtl{direction:rtl;text-align:right}.fc-theme-standard td,.fc-theme-standard th{border:1px solid var(--fc-border-color)}.fc-liquid-hack td,.fc-liquid-hack th{position:relative}@font-face{font-family:fcicons;font-style:normal;font-weight:400;src:url("data:application/x-font-ttf;charset=utf-8;base64,AAEAAAALAIAAAwAwT1MvMg8SBfAAAAC8AAAAYGNtYXAXVtKNAAABHAAAAFRnYXNwAAAAEAAAAXAAAAAIZ2x5ZgYydxIAAAF4AAAFNGhlYWQUJ7cIAAAGrAAAADZoaGVhB20DzAAABuQAAAAkaG10eCIABhQAAAcIAAAALGxvY2ED4AU6AAAHNAAAABhtYXhwAA8AjAAAB0wAAAAgbmFtZXsr690AAAdsAAABhnBvc3QAAwAAAAAI9AAAACAAAwPAAZAABQAAApkCzAAAAI8CmQLMAAAB6wAzAQkAAAAAAAAAAAAAAAAAAAABEAAAAAAAAAAAAAAAAAAAAABAAADpBgPA/8AAQAPAAEAAAAABAAAAAAAAAAAAAAAgAAAAAAADAAAAAwAAABwAAQADAAAAHAADAAEAAAAcAAQAOAAAAAoACAACAAIAAQAg6Qb//f//AAAAAAAg6QD//f//AAH/4xcEAAMAAQAAAAAAAAAAAAAAAQAB//8ADwABAAAAAAAAAAAAAgAANzkBAAAAAAEAAAAAAAAAAAACAAA3OQEAAAAAAQAAAAAAAAAAAAIAADc5AQAAAAABAWIAjQKeAskAEwAAJSc3NjQnJiIHAQYUFwEWMjc2NCcCnuLiDQ0MJAz/AA0NAQAMJAwNDcni4gwjDQwM/wANIwz/AA0NDCMNAAAAAQFiAI0CngLJABMAACUBNjQnASYiBwYUHwEHBhQXFjI3AZ4BAA0N/wAMJAwNDeLiDQ0MJAyNAQAMIw0BAAwMDSMM4uINIwwNDQAAAAIA4gC3Ax4CngATACcAACUnNzY0JyYiDwEGFB8BFjI3NjQnISc3NjQnJiIPAQYUHwEWMjc2NCcB87e3DQ0MIw3VDQ3VDSMMDQ0BK7e3DQ0MJAzVDQ3VDCQMDQ3zuLcMJAwNDdUNIwzWDAwNIwy4twwkDA0N1Q0jDNYMDA0jDAAAAgDiALcDHgKeABMAJwAAJTc2NC8BJiIHBhQfAQcGFBcWMjchNzY0LwEmIgcGFB8BBwYUFxYyNwJJ1Q0N1Q0jDA0Nt7cNDQwjDf7V1Q0N1QwkDA0Nt7cNDQwkDLfWDCMN1Q0NDCQMt7gMIw0MDNYMIw3VDQ0MJAy3uAwjDQwMAAADAFUAAAOrA1UAMwBoAHcAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMhMjY1NCYjISIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAAVYRGRkR/qoRGRkRA1UFBAUOCQkVDAsZDf2rDRkLDBUJCA4FBQUFBQUOCQgVDAsZDQJVDRkLDBUJCQ4FBAVVAgECBQMCBwQECAX9qwQJAwQHAwMFAQICAgIBBQMDBwQDCQQCVQUIBAQHAgMFAgEC/oAZEhEZGRESGQAAAAADAFUAAAOrA1UAMwBoAIkAABMiBgcOAQcOAQcOARURFBYXHgEXHgEXHgEzITI2Nz4BNz4BNz4BNRE0JicuAScuAScuASMFITIWFx4BFx4BFx4BFREUBgcOAQcOAQcOASMhIiYnLgEnLgEnLgE1ETQ2Nz4BNz4BNz4BMxMzFRQWMzI2PQEzMjY1NCYrATU0JiMiBh0BIyIGFRQWM9UNGAwLFQkJDgUFBQUFBQ4JCRULDBgNAlYNGAwLFQkJDgUFBQUFBQ4JCRULDBgN/aoCVgQIBAQHAwMFAQIBAQIBBQMDBwQECAT9qgQIBAQHAwMFAQIBAQIBBQMDBwQECASAgBkSEhmAERkZEYAZEhIZgBEZGREDVQUEBQ4JCRUMCxkN/asNGQsMFQkIDgUFBQUFBQ4JCBUMCxkNAlUNGQsMFQkJDgUEBVUCAQIFAwIHBAQIBf2rBAkDBAcDAwUBAgICAgEFAwMHBAMJBAJVBQgEBAcCAwUCAQL+gIASGRkSgBkSERmAEhkZEoAZERIZAAABAOIAjQMeAskAIAAAExcHBhQXFjI/ARcWMjc2NC8BNzY0JyYiDwEnJiIHBhQX4uLiDQ0MJAzi4gwkDA0N4uINDQwkDOLiDCQMDQ0CjeLiDSMMDQ3h4Q0NDCMN4uIMIw0MDOLiDAwNIwwAAAABAAAAAQAAa5n0y18PPPUACwQAAAAAANivOVsAAAAA2K85WwAAAAADqwNVAAAACAACAAAAAAAAAAEAAAPA/8AAAAQAAAAAAAOrAAEAAAAAAAAAAAAAAAAAAAALBAAAAAAAAAAAAAAAAgAAAAQAAWIEAAFiBAAA4gQAAOIEAABVBAAAVQQAAOIAAAAAAAoAFAAeAEQAagCqAOoBngJkApoAAQAAAAsAigADAAAAAAACAAAAAAAAAAAAAAAAAAAAAAAAAA4ArgABAAAAAAABAAcAAAABAAAAAAACAAcAYAABAAAAAAADAAcANgABAAAAAAAEAAcAdQABAAAAAAAFAAsAFQABAAAAAAAGAAcASwABAAAAAAAKABoAigADAAEECQABAA4ABwADAAEECQACAA4AZwADAAEECQADAA4APQADAAEECQAEAA4AfAADAAEECQAFABYAIAADAAEECQAGAA4AUgADAAEECQAKADQApGZjaWNvbnMAZgBjAGkAYwBvAG4Ac1ZlcnNpb24gMS4wAFYAZQByAHMAaQBvAG4AIAAxAC4AMGZjaWNvbnMAZgBjAGkAYwBvAG4Ac2ZjaWNvbnMAZgBjAGkAYwBvAG4Ac1JlZ3VsYXIAUgBlAGcAdQBsAGEAcmZjaWNvbnMAZgBjAGkAYwBvAG4Ac0ZvbnQgZ2VuZXJhdGVkIGJ5IEljb01vb24uAEYAbwBuAHQAIABnAGUAbgBlAHIAYQB0AGUAZAAgAGIAeQAgAEkAYwBvAE0AbwBvAG4ALgAAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA=") format("truetype")}.fc-icon{speak:none;-webkit-font-smoothing:antialiased;-moz-osx-font-smoothing:grayscale;display:inline-block;font-family:fcicons!important;font-style:normal;font-variant:normal;font-weight:400;height:1em;line-height:1;text-align:center;text-transform:none;-webkit-user-select:none;-moz-user-select:none;user-select:none;width:1em}.fc-icon-chevron-left:before{content:"\\e900"}.fc-icon-chevron-right:before{content:"\\e901"}.fc-icon-chevrons-left:before{content:"\\e902"}.fc-icon-chevrons-right:before{content:"\\e903"}.fc-icon-minus-square:before{content:"\\e904"}.fc-icon-plus-square:before{content:"\\e905"}.fc-icon-x:before{content:"\\e906"}.fc .fc-button{border-radius:0;font-family:inherit;font-size:inherit;line-height:inherit;margin:0;overflow:visible;text-transform:none}.fc .fc-button:focus{outline:1px dotted;outline:5px auto -webkit-focus-ring-color}.fc .fc-button{-webkit-appearance:button}.fc .fc-button:not(:disabled){cursor:pointer}.fc .fc-button{background-color:transparent;border:1px solid transparent;border-radius:.25em;display:inline-block;font-size:1em;font-weight:400;line-height:1.5;padding:.4em .65em;text-align:center;-webkit-user-select:none;-moz-user-select:none;user-select:none;vertical-align:middle}.fc .fc-button:hover{text-decoration:none}.fc .fc-button:focus{box-shadow:0 0 0 .2rem rgba(44,62,80,.25);outline:0}.fc .fc-button:disabled{opacity:.65}.fc .fc-button-primary{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:hover{background-color:var(--fc-button-hover-bg-color);border-color:var(--fc-button-hover-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:disabled{background-color:var(--fc-button-bg-color);border-color:var(--fc-button-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button-primary:not(:disabled).fc-button-active,.fc .fc-button-primary:not(:disabled):active{background-color:var(--fc-button-active-bg-color);border-color:var(--fc-button-active-border-color);color:var(--fc-button-text-color)}.fc .fc-button-primary:not(:disabled).fc-button-active:focus,.fc .fc-button-primary:not(:disabled):active:focus{box-shadow:0 0 0 .2rem rgba(76,91,106,.5)}.fc .fc-button .fc-icon{font-size:1.5em;vertical-align:middle}.fc .fc-button-group{display:inline-flex;position:relative;vertical-align:middle}.fc .fc-button-group>.fc-button{flex:1 1 auto;position:relative}.fc .fc-button-group>.fc-button.fc-button-active,.fc .fc-button-group>.fc-button:active,.fc .fc-button-group>.fc-button:focus,.fc .fc-button-group>.fc-button:hover{z-index:1}.fc-direction-ltr .fc-button-group>.fc-button:not(:first-child){border-bottom-left-radius:0;border-top-left-radius:0;margin-left:-1px}.fc-direction-ltr .fc-button-group>.fc-button:not(:last-child){border-bottom-right-radius:0;border-top-right-radius:0}.fc-direction-rtl .fc-button-group>.fc-button:not(:first-child){border-bottom-right-radius:0;border-top-right-radius:0;margin-right:-1px}.fc-direction-rtl .fc-button-group>.fc-button:not(:last-child){border-bottom-left-radius:0;border-top-left-radius:0}.fc .fc-toolbar{align-items:center;display:flex;justify-content:space-between}.fc .fc-toolbar.fc-header-toolbar{margin-bottom:1.5em}.fc .fc-toolbar.fc-footer-toolbar{margin-top:1.5em}.fc .fc-toolbar-title{font-size:1.75em;margin:0}.fc-direction-ltr .fc-toolbar>*>:not(:first-child){margin-left:.75em}.fc-direction-rtl .fc-toolbar>*>:not(:first-child){margin-right:.75em}.fc-direction-rtl .fc-toolbar-ltr{flex-direction:row-reverse}.fc .fc-scroller{-webkit-overflow-scrolling:touch;position:relative}.fc .fc-scroller-liquid{height:100%}.fc .fc-scroller-liquid-absolute{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-scroller-harness{direction:ltr;overflow:hidden;position:relative}.fc .fc-scroller-harness-liquid{height:100%}.fc-direction-rtl .fc-scroller-harness>.fc-scroller{direction:rtl}.fc-theme-standard .fc-scrollgrid{border:1px solid var(--fc-border-color)}.fc .fc-scrollgrid,.fc .fc-scrollgrid table{table-layout:fixed;width:100%}.fc .fc-scrollgrid table{border-left-style:hidden;border-right-style:hidden;border-top-style:hidden}.fc .fc-scrollgrid{border-bottom-width:0;border-collapse:separate;border-right-width:0}.fc .fc-scrollgrid-liquid{height:100%}.fc .fc-scrollgrid-section,.fc .fc-scrollgrid-section table,.fc .fc-scrollgrid-section>td{height:1px}.fc .fc-scrollgrid-section-liquid>td{height:100%}.fc .fc-scrollgrid-section>*{border-left-width:0;border-top-width:0}.fc .fc-scrollgrid-section-footer>*,.fc .fc-scrollgrid-section-header>*{border-bottom-width:0}.fc .fc-scrollgrid-section-body table,.fc .fc-scrollgrid-section-footer table{border-bottom-style:hidden}.fc .fc-scrollgrid-section-sticky>*{background:var(--fc-page-bg-color);position:sticky;z-index:3}.fc .fc-scrollgrid-section-header.fc-scrollgrid-section-sticky>*{top:0}.fc .fc-scrollgrid-section-footer.fc-scrollgrid-section-sticky>*{bottom:0}.fc .fc-scrollgrid-sticky-shim{height:1px;margin-bottom:-1px}.fc-sticky{position:sticky}.fc .fc-view-harness{flex-grow:1;position:relative}.fc .fc-view-harness-active>.fc-view{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-col-header-cell-cushion{display:inline-block;padding:2px 4px}.fc .fc-bg-event,.fc .fc-highlight,.fc .fc-non-business{bottom:0;left:0;position:absolute;right:0;top:0}.fc .fc-non-business{background:var(--fc-non-business-color)}.fc .fc-bg-event{background:var(--fc-bg-event-color);opacity:var(--fc-bg-event-opacity)}.fc .fc-bg-event .fc-event-title{font-size:var(--fc-small-font-size);font-style:italic;margin:.5em}.fc .fc-highlight{background:var(--fc-highlight-color)}.fc .fc-cell-shaded,.fc .fc-day-disabled{background:var(--fc-neutral-bg-color)}a.fc-event,a.fc-event:hover{text-decoration:none}.fc-event.fc-event-draggable,.fc-event[href]{cursor:pointer}.fc-event .fc-event-main{position:relative;z-index:2}.fc-event-dragging:not(.fc-event-selected){opacity:.75}.fc-event-dragging.fc-event-selected{box-shadow:0 2px 7px rgba(0,0,0,.3)}.fc-event .fc-event-resizer{display:none;position:absolute;z-index:4}.fc-event-selected .fc-event-resizer,.fc-event:hover .fc-event-resizer{display:block}.fc-event-selected .fc-event-resizer{background:var(--fc-page-bg-color);border-color:inherit;border-radius:calc(var(--fc-event-resizer-dot-total-width)/2);border-style:solid;border-width:var(--fc-event-resizer-dot-border-width);height:var(--fc-event-resizer-dot-total-width);width:var(--fc-event-resizer-dot-total-width)}.fc-event-selected .fc-event-resizer:before{bottom:-20px;content:"";left:-20px;position:absolute;right:-20px;top:-20px}.fc-event-selected,.fc-event:focus{box-shadow:0 2px 5px rgba(0,0,0,.2)}.fc-event-selected:before,.fc-event:focus:before{bottom:0;content:"";left:0;position:absolute;right:0;top:0;z-index:3}.fc-event-selected:after,.fc-event:focus:after{background:var(--fc-event-selected-overlay-color);bottom:-1px;content:"";left:-1px;position:absolute;right:-1px;top:-1px;z-index:1}.fc-h-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-h-event .fc-event-main{color:var(--fc-event-text-color)}.fc-h-event .fc-event-main-frame{display:flex}.fc-h-event .fc-event-time{max-width:100%;overflow:hidden}.fc-h-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-width:0}.fc-h-event .fc-event-title{display:inline-block;left:0;max-width:100%;overflow:hidden;right:0;vertical-align:top}.fc-h-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-start),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-end){border-bottom-left-radius:0;border-left-width:0;border-top-left-radius:0}.fc-direction-ltr .fc-daygrid-block-event:not(.fc-event-end),.fc-direction-rtl .fc-daygrid-block-event:not(.fc-event-start){border-bottom-right-radius:0;border-right-width:0;border-top-right-radius:0}.fc-h-event:not(.fc-event-selected) .fc-event-resizer{bottom:0;top:0;width:var(--fc-event-resizer-thickness)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end{cursor:w-resize;left:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-direction-ltr .fc-h-event:not(.fc-event-selected) .fc-event-resizer-end,.fc-direction-rtl .fc-h-event:not(.fc-event-selected) .fc-event-resizer-start{cursor:e-resize;right:calc(var(--fc-event-resizer-thickness)*-.5)}.fc-h-event.fc-event-selected .fc-event-resizer{margin-top:calc(var(--fc-event-resizer-dot-total-width)*-.5);top:50%}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-start,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-end{left:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc-direction-ltr .fc-h-event.fc-event-selected .fc-event-resizer-end,.fc-direction-rtl .fc-h-event.fc-event-selected .fc-event-resizer-start{right:calc(var(--fc-event-resizer-dot-total-width)*-.5)}.fc .fc-popover{box-shadow:0 2px 6px rgba(0,0,0,.15);position:absolute;z-index:9999}.fc .fc-popover-header{align-items:center;display:flex;flex-direction:row;justify-content:space-between;padding:3px 4px}.fc .fc-popover-title{margin:0 2px}.fc .fc-popover-close{cursor:pointer;font-size:1.1em;opacity:.65}.fc-theme-standard .fc-popover{background:var(--fc-page-bg-color);border:1px solid var(--fc-border-color)}.fc-theme-standard .fc-popover-header{background:var(--fc-neutral-bg-color)}';il(bb);class al{constructor(e){this.drainedOption=e,this.isRunning=!1,this.isDirty=!1,this.pauseDepths={},this.timeoutId=0}request(e){this.isDirty=!0,this.isPaused()||(this.clearTimeout(),e==null?this.tryDrain():this.timeoutId=setTimeout(this.tryDrain.bind(this),e))}pause(e=""){let{pauseDepths:t}=this;t[e]=(t[e]||0)+1,this.clearTimeout()}resume(e="",t){let{pauseDepths:n}=this;e in n&&(t?delete n[e]:(n[e]-=1,n[e]<=0&&delete n[e]),this.tryDrain())}isPaused(){return Object.keys(this.pauseDepths).length}tryDrain(){if(!this.isRunning&&!this.isPaused()){for(this.isRunning=!0;this.isDirty;)this.isDirty=!1,this.drained();this.isRunning=!1}}clear(){this.clearTimeout(),this.isDirty=!1,this.pauseDepths={}}clearTimeout(){this.timeoutId&&(clearTimeout(this.timeoutId),this.timeoutId=0)}drained(){this.drainedOption&&this.drainedOption()}}function ol(r){r.parentNode&&r.parentNode.removeChild(r)}function at(r,e){if(r.closest)return r.closest(e);if(!document.documentElement.contains(r))return null;do{if(wb(r,e))return r;r=r.parentElement||r.parentNode}while(r!==null&&r.nodeType===1);return null}function wb(r,e){return(r.matches||r.matchesSelector||r.msMatchesSelector).call(r,e)}function xb(r,e){let t=r instanceof HTMLElement?[r]:r,n=[];for(let s=0;s<t.length;s+=1){let i=t[s].querySelectorAll(e);for(let a=0;a<i.length;a+=1)n.push(i[a])}return n}const _b=/(top|left|right|bottom|width|height)$/i;function Cs(r,e){for(let t in e)mh(r,t,e[t])}function mh(r,e,t){t==null?r.style[e]="":typeof t=="number"&&_b.test(e)?r.style[e]=`${t}px`:r.style[e]=t}function ph(r){var e,t;return(t=(e=r.composedPath)===null||e===void 0?void 0:e.call(r)[0])!==null&&t!==void 0?t:r.target}let Jc=0;function ua(){return Jc+=1,"fc-dom-"+Jc}function ha(r){r.preventDefault()}function Sb(r,e){return t=>{let n=at(t.target,r);n&&e.call(n,t,n)}}function yh(r,e,t,n){let s=Sb(t,n);return r.addEventListener(e,s),()=>{r.removeEventListener(e,s)}}function Eb(r,e,t,n){let s;return yh(r,"mouseover",e,(i,a)=>{if(a!==s){s=a,t(i,a);let o=l=>{s=null,n(l,a),a.removeEventListener("mouseleave",o)};a.addEventListener("mouseleave",o)}})}const Zc=["webkitTransitionEnd","otransitionend","oTransitionEnd","msTransitionEnd","transitionend"];function Cb(r,e){let t=n=>{e(n),Zc.forEach(s=>{r.removeEventListener(s,t)})};Zc.forEach(n=>{r.addEventListener(n,t)})}function vh(r){return Object.assign({onClick:r},bh(r))}function bh(r){return{tabIndex:0,onKeyDown(e){(e.key==="Enter"||e.key===" ")&&(r(e),e.preventDefault())}}}let Xc=0;function bn(){return Xc+=1,String(Xc)}function ll(){document.body.classList.add("fc-not-allowed")}function cl(){document.body.classList.remove("fc-not-allowed")}function kb(r){r.style.userSelect="none",r.style.webkitUserSelect="none",r.addEventListener("selectstart",ha)}function Ab(r){r.style.userSelect="",r.style.webkitUserSelect="",r.removeEventListener("selectstart",ha)}function Db(r){r.addEventListener("contextmenu",ha)}function jb(r){r.removeEventListener("contextmenu",ha)}function Rb(r){let e=[],t=[],n,s;for(typeof r=="string"?t=r.split(/\s*,\s*/):typeof r=="function"?t=[r]:Array.isArray(r)&&(t=r),n=0;n<t.length;n+=1)s=t[n],typeof s=="string"?e.push(s.charAt(0)==="-"?{field:s.substring(1),order:-1}:{field:s,order:1}):typeof s=="function"&&e.push({func:s});return e}function Tb(r,e,t){let n,s;for(n=0;n<t.length;n+=1)if(s=Nb(r,e,t[n]),s)return s;return 0}function Nb(r,e,t){return t.func?t.func(r,e):Ob(r[t.field],e[t.field])*(t.order||1)}function Ob(r,e){return!r&&!e?0:e==null?-1:r==null?1:typeof r=="string"||typeof e=="string"?String(r).localeCompare(String(e)):r-e}function Mn(r,e){let t=String(r);return"000".substr(0,e-t.length)+t}function ks(r,e,t){return typeof r=="function"?r(...e):typeof r=="string"?e.reduce((n,s,i)=>n.replace("$"+i,s||""),r):t}function Ib(r,e){return r-e}function Di(r){return r%1===0}function Mb(r){let e=r.querySelector(".fc-scrollgrid-shrink-frame"),t=r.querySelector(".fc-scrollgrid-shrink-cushion");if(!e)throw new Error("needs fc-scrollgrid-shrink-frame className");if(!t)throw new Error("needs fc-scrollgrid-shrink-cushion className");return r.getBoundingClientRect().width-e.getBoundingClientRect().width+t.getBoundingClientRect().width}const ed=["years","months","days","milliseconds"],Pb=/^(-?)(?:(\d+)\.)?(\d+):(\d\d)(?::(\d\d)(?:\.(\d\d\d))?)?/;function je(r,e){return typeof r=="string"?Lb(r):typeof r=="object"&&r?td(r):typeof r=="number"?td({[e||"milliseconds"]:r}):null}function Lb(r){let e=Pb.exec(r);if(e){let t=e[1]?-1:1;return{years:0,months:0,days:t*(e[2]?parseInt(e[2],10):0),milliseconds:t*((e[3]?parseInt(e[3],10):0)*60*60*1e3+(e[4]?parseInt(e[4],10):0)*60*1e3+(e[5]?parseInt(e[5],10):0)*1e3+(e[6]?parseInt(e[6],10):0))}}return null}function td(r){let e={years:r.years||r.year||0,months:r.months||r.month||0,days:r.days||r.day||0,milliseconds:(r.hours||r.hour||0)*60*60*1e3+(r.minutes||r.minute||0)*60*1e3+(r.seconds||r.second||0)*1e3+(r.milliseconds||r.millisecond||r.ms||0)},t=r.weeks||r.week;return t&&(e.days+=t*7,e.specifiedWeeks=!0),e}function Fb(r,e){return r.years===e.years&&r.months===e.months&&r.days===e.days&&r.milliseconds===e.milliseconds}function Ro(r,e){return{years:r.years+e.years,months:r.months+e.months,days:r.days+e.days,milliseconds:r.milliseconds+e.milliseconds}}function Ub(r,e){return{years:r.years-e.years,months:r.months-e.months,days:r.days-e.days,milliseconds:r.milliseconds-e.milliseconds}}function Hb(r,e){return{years:r.years*e,months:r.months*e,days:r.days*e,milliseconds:r.milliseconds*e}}function Bb(r){return Pn(r)/365}function $b(r){return Pn(r)/30}function Pn(r){return Lt(r)/864e5}function Lt(r){return r.years*(365*864e5)+r.months*(30*864e5)+r.days*864e5+r.milliseconds}function dl(r,e){let t=null;for(let n=0;n<ed.length;n+=1){let s=ed[n];if(e[s]){let i=r[s]/e[s];if(!Di(i)||t!==null&&t!==i)return null;t=i}else if(r[s])return null}return t}function To(r){let e=r.milliseconds;if(e){if(e%1e3!==0)return{unit:"millisecond",value:e};if(e%(1e3*60)!==0)return{unit:"second",value:e/1e3};if(e%(1e3*60*60)!==0)return{unit:"minute",value:e/(1e3*60)};if(e)return{unit:"hour",value:e/(1e3*60*60)}}return r.days?r.specifiedWeeks&&r.days%7===0?{unit:"week",value:r.days/7}:{unit:"day",value:r.days}:r.months?{unit:"month",value:r.months}:r.years?{unit:"year",value:r.years}:{unit:"millisecond",value:0}}function Fr(r,e,t){if(r===e)return!0;let n=r.length,s;if(n!==e.length)return!1;for(s=0;s<n;s+=1)if(!(t?t(r[s],e[s]):r[s]===e[s]))return!1;return!0}const zb=["sun","mon","tue","wed","thu","fri","sat"];function rd(r,e){let t=Or(r);return t[2]+=e*7,wt(t)}function ot(r,e){let t=Or(r);return t[2]+=e,wt(t)}function Ur(r,e){let t=Or(r);return t[6]+=e,wt(t)}function qb(r,e){return wn(r,e)/7}function wn(r,e){return(e.valueOf()-r.valueOf())/(1e3*60*60*24)}function Wb(r,e){return(e.valueOf()-r.valueOf())/(1e3*60*60)}function Vb(r,e){return(e.valueOf()-r.valueOf())/(1e3*60)}function Gb(r,e){return(e.valueOf()-r.valueOf())/1e3}function Qb(r,e){let t=$e(r),n=$e(e);return{years:0,months:0,days:Math.round(wn(t,n)),milliseconds:e.valueOf()-n.valueOf()-(r.valueOf()-t.valueOf())}}function Yb(r,e){let t=Bi(r,e);return t!==null&&t%7===0?t/7:null}function Bi(r,e){return Ir(r)===Ir(e)?Math.round(wn(r,e)):null}function $e(r){return wt([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate()])}function Kb(r){return wt([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours()])}function Jb(r){return wt([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes()])}function Zb(r){return wt([r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds()])}function Xb(r,e,t){let n=r.getUTCFullYear(),s=Fa(r,n,e,t);if(s<1)return Fa(r,n-1,e,t);let i=Fa(r,n+1,e,t);return i>=1?Math.min(s,i):s}function Fa(r,e,t,n){let s=wt([e,0,1+e0(e,t,n)]),i=$e(r),a=Math.round(wn(s,i));return Math.floor(a/7)+1}function e0(r,e,t){let n=7+e-t;return-((7+wt([r,0,n]).getUTCDay()-e)%7)+n-1}function nd(r){return[r.getFullYear(),r.getMonth(),r.getDate(),r.getHours(),r.getMinutes(),r.getSeconds(),r.getMilliseconds()]}function sd(r){return new Date(r[0],r[1]||0,r[2]==null?1:r[2],r[3]||0,r[4]||0,r[5]||0)}function Or(r){return[r.getUTCFullYear(),r.getUTCMonth(),r.getUTCDate(),r.getUTCHours(),r.getUTCMinutes(),r.getUTCSeconds(),r.getUTCMilliseconds()]}function wt(r){return r.length===1&&(r=r.concat([0])),new Date(Date.UTC(...r))}function wh(r){return!isNaN(r.valueOf())}function Ir(r){return r.getUTCHours()*1e3*60*60+r.getUTCMinutes()*1e3*60+r.getUTCSeconds()*1e3+r.getUTCMilliseconds()}function xh(r,e,t=!1){let n=r.toISOString();return n=n.replace(".000",""),t&&(n=n.replace("T00:00:00Z","")),n.length>10&&(e==null?n=n.replace("Z",""):e!==0&&(n=n.replace("Z",hl(e,!0)))),n}function ul(r){return r.toISOString().replace(/T.*$/,"")}function t0(r){return r.toISOString().match(/^\d{4}-\d{2}/)[0]}function r0(r){return Mn(r.getUTCHours(),2)+":"+Mn(r.getUTCMinutes(),2)+":"+Mn(r.getUTCSeconds(),2)}function hl(r,e=!1){let t=r<0?"-":"+",n=Math.abs(r),s=Math.floor(n/60),i=Math.round(n%60);return e?`${t+Mn(s,2)}:${Mn(i,2)}`:`GMT${t}${s}${i?`:${Mn(i,2)}`:""}`}function he(r,e,t){let n,s;return function(...i){if(!n)s=r.apply(this,i);else if(!Fr(n,i)){let a=r.apply(this,i);(!e||!e(a,s))&&(s=a)}return n=i,s}}function ji(r,e,t){let n,s;return i=>(n?Vt(n,i)||(s=r.call(this,i)):s=r.call(this,i),n=i,s)}const Ua={week:3,separator:9,omitZeroMinute:9,meridiem:9,omitCommas:9},$i={timeZoneName:7,era:6,year:5,month:4,day:2,weekday:2,hour:1,minute:1,second:1},pi=/\s*([ap])\.?m\.?/i,n0=/,/g,s0=/\s+/g,i0=/\u200e/g,a0=/UTC|GMT/;class o0{constructor(e){let t={},n={},s=9;for(let i in e)i in Ua?(n[i]=e[i],Ua[i]<9&&(s=Math.min(Ua[i],s))):(t[i]=e[i],i in $i&&(s=Math.min($i[i],s)));this.standardDateProps=t,this.extendedSettings=n,this.smallestUnitNum=s,this.buildFormattingFunc=he(id)}format(e,t){return this.buildFormattingFunc(this.standardDateProps,this.extendedSettings,t)(e)}formatRange(e,t,n,s){let{standardDateProps:i,extendedSettings:a}=this,o=f0(e.marker,t.marker,n.calendarSystem);if(!o)return this.format(e,n);let l=o;l>1&&(i.year==="numeric"||i.year==="2-digit")&&(i.month==="numeric"||i.month==="2-digit")&&(i.day==="numeric"||i.day==="2-digit")&&(l=1);let d=this.format(e,n),c=this.format(t,n);if(d===c)return d;let f=g0(i,l),h=id(f,a,n),g=h(e),v=h(t),y=m0(d,g,c,v),p=a.separator||s||n.defaultSeparator||"";return y?y.before+g+p+v+y.after:d+p+c}getSmallestUnit(){switch(this.smallestUnitNum){case 7:case 6:case 5:return"year";case 4:return"month";case 3:return"week";case 2:return"day";default:return"time"}}}function id(r,e,t){let n=Object.keys(r).length;return n===1&&r.timeZoneName==="short"?s=>hl(s.timeZoneOffset):n===0&&e.week?s=>h0(t.computeWeekNumber(s.marker),t.weekText,t.weekTextLong,t.locale,e.week):l0(r,e,t)}function l0(r,e,t){r=Object.assign({},r),e=Object.assign({},e),c0(r,e),r.timeZone="UTC";let n=new Intl.DateTimeFormat(t.locale.codes,r),s;if(e.omitZeroMinute){let i=Object.assign({},r);delete i.minute,s=new Intl.DateTimeFormat(t.locale.codes,i)}return i=>{let{marker:a}=i,o;s&&!a.getUTCMinutes()?o=s:o=n;let l=o.format(a);return d0(l,i,r,e,t)}}function c0(r,e){r.timeZoneName&&(r.hour||(r.hour="2-digit"),r.minute||(r.minute="2-digit")),r.timeZoneName==="long"&&(r.timeZoneName="short"),e.omitZeroMinute&&(r.second||r.millisecond)&&delete e.omitZeroMinute}function d0(r,e,t,n,s){return r=r.replace(i0,""),t.timeZoneName==="short"&&(r=u0(r,s.timeZone==="UTC"||e.timeZoneOffset==null?"UTC":hl(e.timeZoneOffset))),n.omitCommas&&(r=r.replace(n0,"").trim()),n.omitZeroMinute&&(r=r.replace(":00","")),n.meridiem===!1?r=r.replace(pi,"").trim():n.meridiem==="narrow"?r=r.replace(pi,(i,a)=>a.toLocaleLowerCase()):n.meridiem==="short"?r=r.replace(pi,(i,a)=>`${a.toLocaleLowerCase()}m`):n.meridiem==="lowercase"&&(r=r.replace(pi,i=>i.toLocaleLowerCase())),r=r.replace(s0," "),r=r.trim(),r}function u0(r,e){let t=!1;return r=r.replace(a0,()=>(t=!0,e)),t||(r+=` ${e}`),r}function h0(r,e,t,n,s){let i=[];return s==="long"?i.push(t):(s==="short"||s==="narrow")&&i.push(e),(s==="long"||s==="short")&&i.push(" "),i.push(n.simpleNumberFormat.format(r)),n.options.direction==="rtl"&&i.reverse(),i.join("")}function f0(r,e,t){return t.getMarkerYear(r)!==t.getMarkerYear(e)?5:t.getMarkerMonth(r)!==t.getMarkerMonth(e)?4:t.getMarkerDay(r)!==t.getMarkerDay(e)?2:Ir(r)!==Ir(e)?1:0}function g0(r,e){let t={};for(let n in r)(!(n in $i)||$i[n]<=e)&&(t[n]=r[n]);return t}function m0(r,e,t,n){let s=0;for(;s<r.length;){let i=r.indexOf(e,s);if(i===-1)break;let a=r.substr(0,i);s=i+e.length;let o=r.substr(s),l=0;for(;l<t.length;){let d=t.indexOf(n,l);if(d===-1)break;let c=t.substr(0,d);l=d+n.length;let f=t.substr(l);if(a===c&&o===f)return{before:a,after:o}}}return null}function ad(r,e){let t=e.markerToArray(r.marker);return{marker:r.marker,timeZoneOffset:r.timeZoneOffset,array:t,year:t[0],month:t[1],day:t[2],hour:t[3],minute:t[4],second:t[5],millisecond:t[6]}}function zi(r,e,t,n){let s=ad(r,t.calendarSystem),i=e?ad(e,t.calendarSystem):null;return{date:s,start:s,end:i,timeZone:t.timeZone,localeCodes:t.locale.codes,defaultSeparator:n||t.defaultSeparator}}class p0{constructor(e){this.cmdStr=e}format(e,t,n){return t.cmdFormatter(this.cmdStr,zi(e,null,t,n))}formatRange(e,t,n,s){return n.cmdFormatter(this.cmdStr,zi(e,t,n,s))}}class y0{constructor(e){this.func=e}format(e,t,n){return this.func(zi(e,null,t,n))}formatRange(e,t,n,s){return this.func(zi(e,t,n,s))}}function Qe(r){return typeof r=="object"&&r?new o0(r):typeof r=="string"?new p0(r):typeof r=="function"?new y0(r):null}const od={navLinkDayClick:j,navLinkWeekClick:j,duration:je,bootstrapFontAwesome:j,buttonIcons:j,customButtons:j,defaultAllDayEventDuration:je,defaultTimedEventDuration:je,nextDayThreshold:je,scrollTime:je,scrollTimeReset:Boolean,slotMinTime:je,slotMaxTime:je,dayPopoverFormat:Qe,slotDuration:je,snapDuration:je,headerToolbar:j,footerToolbar:j,defaultRangeSeparator:String,titleRangeSeparator:String,forceEventDuration:Boolean,dayHeaders:Boolean,dayHeaderFormat:Qe,dayHeaderClassNames:j,dayHeaderContent:j,dayHeaderDidMount:j,dayHeaderWillUnmount:j,dayCellClassNames:j,dayCellContent:j,dayCellDidMount:j,dayCellWillUnmount:j,initialView:String,aspectRatio:Number,weekends:Boolean,weekNumberCalculation:j,weekNumbers:Boolean,weekNumberClassNames:j,weekNumberContent:j,weekNumberDidMount:j,weekNumberWillUnmount:j,editable:Boolean,viewClassNames:j,viewDidMount:j,viewWillUnmount:j,nowIndicator:Boolean,nowIndicatorClassNames:j,nowIndicatorContent:j,nowIndicatorDidMount:j,nowIndicatorWillUnmount:j,showNonCurrentDates:Boolean,lazyFetching:Boolean,startParam:String,endParam:String,timeZoneParam:String,timeZone:String,locales:j,locale:j,themeSystem:String,dragRevertDuration:Number,dragScroll:Boolean,allDayMaintainDuration:Boolean,unselectAuto:Boolean,dropAccept:j,eventOrder:Rb,eventOrderStrict:Boolean,handleWindowResize:Boolean,windowResizeDelay:Number,longPressDelay:Number,eventDragMinDistance:Number,expandRows:Boolean,height:j,contentHeight:j,direction:String,weekNumberFormat:Qe,eventResizableFromStart:Boolean,displayEventTime:Boolean,displayEventEnd:Boolean,weekText:String,weekTextLong:String,progressiveEventRendering:Boolean,businessHours:j,initialDate:j,now:j,eventDataTransform:j,stickyHeaderDates:j,stickyFooterScrollbar:j,viewHeight:j,defaultAllDay:Boolean,eventSourceFailure:j,eventSourceSuccess:j,eventDisplay:String,eventStartEditable:Boolean,eventDurationEditable:Boolean,eventOverlap:j,eventConstraint:j,eventAllow:j,eventBackgroundColor:String,eventBorderColor:String,eventTextColor:String,eventColor:String,eventClassNames:j,eventContent:j,eventDidMount:j,eventWillUnmount:j,selectConstraint:j,selectOverlap:j,selectAllow:j,droppable:Boolean,unselectCancel:String,slotLabelFormat:j,slotLaneClassNames:j,slotLaneContent:j,slotLaneDidMount:j,slotLaneWillUnmount:j,slotLabelClassNames:j,slotLabelContent:j,slotLabelDidMount:j,slotLabelWillUnmount:j,dayMaxEvents:j,dayMaxEventRows:j,dayMinWidth:Number,slotLabelInterval:je,allDayText:String,allDayClassNames:j,allDayContent:j,allDayDidMount:j,allDayWillUnmount:j,slotMinWidth:Number,navLinks:Boolean,eventTimeFormat:Qe,rerenderDelay:Number,moreLinkText:j,moreLinkHint:j,selectMinDistance:Number,selectable:Boolean,selectLongPressDelay:Number,eventLongPressDelay:Number,selectMirror:Boolean,eventMaxStack:Number,eventMinHeight:Number,eventMinWidth:Number,eventShortHeight:Number,slotEventOverlap:Boolean,plugins:j,firstDay:Number,dayCount:Number,dateAlignment:String,dateIncrement:je,hiddenDays:j,fixedWeekCount:Boolean,validRange:j,visibleRange:j,titleFormat:j,eventInteractive:Boolean,noEventsText:String,viewHint:j,navLinkHint:j,closeHint:String,timeHint:String,eventHint:String,moreLinkClick:j,moreLinkClassNames:j,moreLinkContent:j,moreLinkDidMount:j,moreLinkWillUnmount:j,monthStartFormat:Qe,handleCustomRendering:j,customRenderingMetaMap:j,customRenderingReplaces:Boolean},As={eventDisplay:"auto",defaultRangeSeparator:" - ",titleRangeSeparator:"  ",defaultTimedEventDuration:"01:00:00",defaultAllDayEventDuration:{day:1},forceEventDuration:!1,nextDayThreshold:"00:00:00",dayHeaders:!0,initialView:"",aspectRatio:1.35,headerToolbar:{start:"title",center:"",end:"today prev,next"},weekends:!0,weekNumbers:!1,weekNumberCalculation:"local",editable:!1,nowIndicator:!1,scrollTime:"06:00:00",scrollTimeReset:!0,slotMinTime:"00:00:00",slotMaxTime:"24:00:00",showNonCurrentDates:!0,lazyFetching:!0,startParam:"start",endParam:"end",timeZoneParam:"timeZone",timeZone:"local",locales:[],locale:"",themeSystem:"standard",dragRevertDuration:500,dragScroll:!0,allDayMaintainDuration:!1,unselectAuto:!0,dropAccept:"*",eventOrder:"start,-duration,allDay,title",dayPopoverFormat:{month:"long",day:"numeric",year:"numeric"},handleWindowResize:!0,windowResizeDelay:100,longPressDelay:1e3,eventDragMinDistance:5,expandRows:!1,navLinks:!1,selectable:!1,eventMinHeight:15,eventMinWidth:30,eventShortHeight:30,monthStartFormat:{month:"long",day:"numeric"}},ld={datesSet:j,eventsSet:j,eventAdd:j,eventChange:j,eventRemove:j,windowResize:j,eventClick:j,eventMouseEnter:j,eventMouseLeave:j,select:j,unselect:j,loading:j,_unmount:j,_beforeprint:j,_afterprint:j,_noEventDrop:j,_noEventResize:j,_resize:j,_scrollRequest:j},cd={buttonText:j,buttonHints:j,views:j,plugins:j,initialEvents:j,events:j,eventSources:j},Yr={headerToolbar:Kr,footerToolbar:Kr,buttonText:Kr,buttonHints:Kr,buttonIcons:Kr,dateIncrement:Kr,plugins:yi,events:yi,eventSources:yi,resources:yi};function Kr(r,e){return typeof r=="object"&&typeof e=="object"&&r&&e?Vt(r,e):r===e}function yi(r,e){return Array.isArray(r)&&Array.isArray(e)?Fr(r,e):r===e}const v0={type:String,component:j,buttonText:String,buttonTextKey:String,dateProfileGeneratorClass:j,usesMinMaxTime:Boolean,classNames:j,content:j,didMount:j,willUnmount:j};function Ha(r){return gl(r,Yr)}function fl(r,e){let t={},n={};for(let s in e)s in r&&(t[s]=e[s](r[s]));for(let s in r)s in e||(n[s]=r[s]);return{refined:t,extra:n}}function j(r){return r}const{hasOwnProperty:qi}=Object.prototype;function gl(r,e){let t={};if(e){for(let n in e)if(e[n]===Kr){let s=[];for(let i=r.length-1;i>=0;i-=1){let a=r[i][n];if(typeof a=="object"&&a)s.unshift(a);else if(a!==void 0){t[n]=a;break}}s.length&&(t[n]=gl(s))}}for(let n=r.length-1;n>=0;n-=1){let s=r[n];for(let i in s)i in t||(t[i]=s[i])}return t}function gn(r,e){let t={};for(let n in r)e(r[n],n)&&(t[n]=r[n]);return t}function sr(r,e){let t={};for(let n in r)t[n]=e(r[n],n);return t}function _h(r){let e={};for(let t of r)e[t]=!0;return e}function ml(r){let e=[];for(let t in r)e.push(r[t]);return e}function Vt(r,e){if(r===e)return!0;for(let t in r)if(qi.call(r,t)&&!(t in e))return!1;for(let t in e)if(qi.call(e,t)&&r[t]!==e[t])return!1;return!0}const b0=/^on[A-Z]/;function w0(r,e){const t=No(r,e);for(let n of t)if(!b0.test(n))return!1;return!0}function No(r,e){let t=[];for(let n in r)qi.call(r,n)&&(n in e||t.push(n));for(let n in e)qi.call(e,n)&&r[n]!==e[n]&&t.push(n);return t}function Ba(r,e,t={}){if(r===e)return!0;for(let n in e)if(!(n in r&&x0(r[n],e[n],t[n])))return!1;for(let n in r)if(!(n in e))return!1;return!0}function x0(r,e,t){return r===e||t===!0?!0:t?t(r,e):!1}function _0(r,e=0,t,n=1){let s=[];t==null&&(t=Object.keys(r).length);for(let i=e;i<t;i+=n){let a=r[i];a!==void 0&&s.push(a)}return s}let Sh={};function S0(r,e){Sh[r]=e}function E0(r){return new Sh[r]}class C0{getMarkerYear(e){return e.getUTCFullYear()}getMarkerMonth(e){return e.getUTCMonth()}getMarkerDay(e){return e.getUTCDate()}arrayToMarker(e){return wt(e)}markerToArray(e){return Or(e)}}S0("gregory",C0);const k0=/^\s*(\d{4})(-?(\d{2})(-?(\d{2})([T ](\d{2}):?(\d{2})(:?(\d{2})(\.(\d+))?)?(Z|(([-+])(\d{2})(:?(\d{2}))?))?)?)?)?$/;function A0(r){let e=k0.exec(r);if(e){let t=new Date(Date.UTC(Number(e[1]),e[3]?Number(e[3])-1:0,Number(e[5]||1),Number(e[7]||0),Number(e[8]||0),Number(e[10]||0),e[12]?+`0.${e[12]}`*1e3:0));if(wh(t)){let n=null;return e[13]&&(n=(e[15]==="-"?-1:1)*(Number(e[16]||0)*60+Number(e[18]||0))),{marker:t,isTimeUnspecified:!e[6],timeZoneOffset:n}}}return null}class D0{constructor(e){let t=this.timeZone=e.timeZone,n=t!=="local"&&t!=="UTC";e.namedTimeZoneImpl&&n&&(this.namedTimeZoneImpl=new e.namedTimeZoneImpl(t)),this.canComputeOffset=!!(!n||this.namedTimeZoneImpl),this.calendarSystem=E0(e.calendarSystem),this.locale=e.locale,this.weekDow=e.locale.week.dow,this.weekDoy=e.locale.week.doy,e.weekNumberCalculation==="ISO"&&(this.weekDow=1,this.weekDoy=4),typeof e.firstDay=="number"&&(this.weekDow=e.firstDay),typeof e.weekNumberCalculation=="function"&&(this.weekNumberFunc=e.weekNumberCalculation),this.weekText=e.weekText!=null?e.weekText:e.locale.options.weekText,this.weekTextLong=(e.weekTextLong!=null?e.weekTextLong:e.locale.options.weekTextLong)||this.weekText,this.cmdFormatter=e.cmdFormatter,this.defaultSeparator=e.defaultSeparator}createMarker(e){let t=this.createMarkerMeta(e);return t===null?null:t.marker}createNowMarker(){return this.canComputeOffset?this.timestampToMarker(new Date().valueOf()):wt(nd(new Date))}createMarkerMeta(e){if(typeof e=="string")return this.parse(e);let t=null;return typeof e=="number"?t=this.timestampToMarker(e):e instanceof Date?(e=e.valueOf(),isNaN(e)||(t=this.timestampToMarker(e))):Array.isArray(e)&&(t=wt(e)),t===null||!wh(t)?null:{marker:t,isTimeUnspecified:!1,forcedTzo:null}}parse(e){let t=A0(e);if(t===null)return null;let{marker:n}=t,s=null;return t.timeZoneOffset!==null&&(this.canComputeOffset?n=this.timestampToMarker(n.valueOf()-t.timeZoneOffset*60*1e3):s=t.timeZoneOffset),{marker:n,isTimeUnspecified:t.isTimeUnspecified,forcedTzo:s}}getYear(e){return this.calendarSystem.getMarkerYear(e)}getMonth(e){return this.calendarSystem.getMarkerMonth(e)}getDay(e){return this.calendarSystem.getMarkerDay(e)}add(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t.years,n[1]+=t.months,n[2]+=t.days,n[6]+=t.milliseconds,this.calendarSystem.arrayToMarker(n)}subtract(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]-=t.years,n[1]-=t.months,n[2]-=t.days,n[6]-=t.milliseconds,this.calendarSystem.arrayToMarker(n)}addYears(e,t){let n=this.calendarSystem.markerToArray(e);return n[0]+=t,this.calendarSystem.arrayToMarker(n)}addMonths(e,t){let n=this.calendarSystem.markerToArray(e);return n[1]+=t,this.calendarSystem.arrayToMarker(n)}diffWholeYears(e,t){let{calendarSystem:n}=this;return Ir(e)===Ir(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)&&n.getMarkerMonth(e)===n.getMarkerMonth(t)?n.getMarkerYear(t)-n.getMarkerYear(e):null}diffWholeMonths(e,t){let{calendarSystem:n}=this;return Ir(e)===Ir(t)&&n.getMarkerDay(e)===n.getMarkerDay(t)?n.getMarkerMonth(t)-n.getMarkerMonth(e)+(n.getMarkerYear(t)-n.getMarkerYear(e))*12:null}greatestWholeUnit(e,t){let n=this.diffWholeYears(e,t);return n!==null?{unit:"year",value:n}:(n=this.diffWholeMonths(e,t),n!==null?{unit:"month",value:n}:(n=Yb(e,t),n!==null?{unit:"week",value:n}:(n=Bi(e,t),n!==null?{unit:"day",value:n}:(n=Wb(e,t),Di(n)?{unit:"hour",value:n}:(n=Vb(e,t),Di(n)?{unit:"minute",value:n}:(n=Gb(e,t),Di(n)?{unit:"second",value:n}:{unit:"millisecond",value:t.valueOf()-e.valueOf()}))))))}countDurationsBetween(e,t,n){let s;return n.years&&(s=this.diffWholeYears(e,t),s!==null)?s/Bb(n):n.months&&(s=this.diffWholeMonths(e,t),s!==null)?s/$b(n):n.days&&(s=Bi(e,t),s!==null)?s/Pn(n):(t.valueOf()-e.valueOf())/Lt(n)}startOf(e,t){return t==="year"?this.startOfYear(e):t==="month"?this.startOfMonth(e):t==="week"?this.startOfWeek(e):t==="day"?$e(e):t==="hour"?Kb(e):t==="minute"?Jb(e):t==="second"?Zb(e):null}startOfYear(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e)])}startOfMonth(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e)])}startOfWeek(e){return this.calendarSystem.arrayToMarker([this.calendarSystem.getMarkerYear(e),this.calendarSystem.getMarkerMonth(e),e.getUTCDate()-(e.getUTCDay()-this.weekDow+7)%7])}computeWeekNumber(e){return this.weekNumberFunc?this.weekNumberFunc(this.toDate(e)):Xb(e,this.weekDow,this.weekDoy)}format(e,t,n={}){return t.format({marker:e,timeZoneOffset:n.forcedTzo!=null?n.forcedTzo:this.offsetForMarker(e)},this)}formatRange(e,t,n,s={}){return s.isEndExclusive&&(t=Ur(t,-1)),n.formatRange({marker:e,timeZoneOffset:s.forcedStartTzo!=null?s.forcedStartTzo:this.offsetForMarker(e)},{marker:t,timeZoneOffset:s.forcedEndTzo!=null?s.forcedEndTzo:this.offsetForMarker(t)},this,s.defaultSeparator)}formatIso(e,t={}){let n=null;return t.omitTimeZoneOffset||(t.forcedTzo!=null?n=t.forcedTzo:n=this.offsetForMarker(e)),xh(e,n,t.omitTime)}timestampToMarker(e){return this.timeZone==="local"?wt(nd(new Date(e))):this.timeZone==="UTC"||!this.namedTimeZoneImpl?new Date(e):wt(this.namedTimeZoneImpl.timestampToArray(e))}offsetForMarker(e){return this.timeZone==="local"?-sd(Or(e)).getTimezoneOffset():this.timeZone==="UTC"?0:this.namedTimeZoneImpl?this.namedTimeZoneImpl.offsetForArray(Or(e)):null}toDate(e,t){return this.timeZone==="local"?sd(Or(e)):this.timeZone==="UTC"?new Date(e.valueOf()):this.namedTimeZoneImpl?new Date(e.valueOf()-this.namedTimeZoneImpl.offsetForArray(Or(e))*1e3*60):new Date(e.valueOf()-(t||0))}}class qs{constructor(e){this.iconOverrideOption&&this.setIconOverride(e[this.iconOverrideOption])}setIconOverride(e){let t,n;if(typeof e=="object"&&e){t=Object.assign({},this.iconClasses);for(n in e)t[n]=this.applyIconOverridePrefix(e[n]);this.iconClasses=t}else e===!1&&(this.iconClasses={})}applyIconOverridePrefix(e){let t=this.iconOverridePrefix;return t&&e.indexOf(t)!==0&&(e=t+e),e}getClass(e){return this.classes[e]||""}getIconClass(e,t){let n;return t&&this.rtlIconClasses?n=this.rtlIconClasses[e]||this.iconClasses[e]:n=this.iconClasses[e],n?`${this.baseIconClass} ${n}`:""}getCustomButtonIconClass(e){let t;return this.iconOverrideCustomButtonOption&&(t=e[this.iconOverrideCustomButtonOption],t)?`${this.baseIconClass} ${this.applyIconOverridePrefix(t)}`:""}}qs.prototype.classes={};qs.prototype.iconClasses={};qs.prototype.baseIconClass="";qs.prototype.iconOverridePrefix="";function Wi(r){r();let e=de.debounceRendering,t=[];function n(s){t.push(s)}for(de.debounceRendering=n,Os(x(j0,{}),document.createElement("div"));t.length;)t.shift()();de.debounceRendering=e}class j0 extends St{render(){return x("div",{})}componentDidMount(){this.setState({})}}function Eh(r){let e=eb(r),t=e.Provider;return e.Provider=function(){let n=!this.getChildContext,s=t.apply(this,arguments);if(n){let i=[];this.shouldComponentUpdate=a=>{this.props.value!==a.value&&i.forEach(o=>{o.context=a.value,o.forceUpdate()})},this.sub=a=>{i.push(a);let o=a.componentWillUnmount;a.componentWillUnmount=()=>{i.splice(i.indexOf(a),1),o&&o.call(a)}}}return s},e}class R0{constructor(e,t,n,s){this.execFunc=e,this.emitter=t,this.scrollTime=n,this.scrollTimeReset=s,this.handleScrollRequest=i=>{this.queuedRequest=Object.assign({},this.queuedRequest||{},i),this.drain()},t.on("_scrollRequest",this.handleScrollRequest),this.fireInitialScroll()}detach(){this.emitter.off("_scrollRequest",this.handleScrollRequest)}update(e){e&&this.scrollTimeReset?this.fireInitialScroll():this.drain()}fireInitialScroll(){this.handleScrollRequest({time:this.scrollTime})}drain(){this.queuedRequest&&this.execFunc(this.queuedRequest)&&(this.queuedRequest=null)}}const or=Eh({});function T0(r,e,t,n,s,i,a,o,l,d,c,f,h,g){return{dateEnv:s,nowManager:i,options:t,pluginHooks:o,emitter:c,dispatch:l,getCurrentData:d,calendarApi:f,viewSpec:r,viewApi:e,dateProfileGenerator:n,theme:a,isRtl:t.direction==="rtl",addResizeHandler(v){c.on("_resize",v)},removeResizeHandler(v){c.off("_resize",v)},createScrollResponder(v){return new R0(v,c,je(t.scrollTime),t.scrollTimeReset)},registerInteractiveComponent:h,unregisterInteractiveComponent:g}}class xn extends St{shouldComponentUpdate(e,t){return this.debug&&console.log(No(e,this.props),No(t,this.state)),!Ba(this.props,e,this.propEquality)||!Ba(this.state,t,this.stateEquality)}safeSetState(e){Ba(this.state,Object.assign(Object.assign({},this.state),e),this.stateEquality)||this.setState(e)}}xn.addPropsEquality=N0;xn.addStateEquality=O0;xn.contextType=or;xn.prototype.propEquality={};xn.prototype.stateEquality={};class Ie extends xn{}Ie.contextType=or;function N0(r){let e=Object.create(this.prototype.propEquality);Object.assign(e,r),this.prototype.propEquality=e}function O0(r){let e=Object.create(this.prototype.stateEquality);Object.assign(e,r),this.prototype.stateEquality=e}function ir(r,e){typeof r=="function"?r(e):r&&(r.current=e)}class pl extends Ie{constructor(){super(...arguments),this.id=bn(),this.queuedDomNodes=[],this.currentDomNodes=[],this.handleEl=e=>{const{options:t}=this.context,{generatorName:n}=this.props;(!t.customRenderingReplaces||!Oo(n,t))&&this.updateElRef(e)},this.updateElRef=e=>{this.props.elRef&&ir(this.props.elRef,e)}}render(){const{props:e,context:t}=this,{options:n}=t,{customGenerator:s,defaultGenerator:i,renderProps:a}=e,o=Ch(e,[],this.handleEl);let l=!1,d,c=[],f;if(s!=null){const h=typeof s=="function"?s(a,x):s;if(h===!0)l=!0;else{const g=h&&typeof h=="object";g&&"html"in h?o.dangerouslySetInnerHTML={__html:h.html}:g&&"domNodes"in h?c=Array.prototype.slice.call(h.domNodes):(g?Yu(h):typeof h!="function")?d=h:f=h}}else l=!Oo(e.generatorName,n);return l&&i&&(d=i(a)),this.queuedDomNodes=c,this.currentGeneratorMeta=f,x(e.elTag,o,d)}componentDidMount(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentDidUpdate(){this.applyQueueudDomNodes(),this.triggerCustomRendering(!0)}componentWillUnmount(){this.triggerCustomRendering(!1)}triggerCustomRendering(e){var t;const{props:n,context:s}=this,{handleCustomRendering:i,customRenderingMetaMap:a}=s.options;if(i){const o=(t=this.currentGeneratorMeta)!==null&&t!==void 0?t:a==null?void 0:a[n.generatorName];o&&i(Object.assign(Object.assign({id:this.id,isActive:e,containerEl:this.base,reportNewContainerEl:this.updateElRef,generatorMeta:o},n),{elClasses:(n.elClasses||[]).filter(I0)}))}}applyQueueudDomNodes(){const{queuedDomNodes:e,currentDomNodes:t}=this,n=this.base;if(!Fr(e,t)){t.forEach(ol);for(let s of e)n.appendChild(s);this.currentDomNodes=e}}}pl.addPropsEquality({elClasses:Fr,elStyle:Vt,elAttrs:w0,renderProps:Vt});function Oo(r,e){var t;return!!(e.handleCustomRendering&&r&&(!((t=e.customRenderingMetaMap)===null||t===void 0)&&t[r]))}function Ch(r,e,t){const n=Object.assign(Object.assign({},r.elAttrs),{ref:t});return(r.elClasses||e)&&(n.className=(r.elClasses||[]).concat(e||[]).concat(n.className||[]).filter(Boolean).join(" ")),r.elStyle&&(n.style=r.elStyle),n}function I0(r){return!!r}const kh=Eh(0);class Ct extends St{constructor(){super(...arguments),this.InnerContent=M0.bind(void 0,this),this.handleEl=e=>{this.el=e,this.props.elRef&&(ir(this.props.elRef,e),e&&this.didMountMisfire&&this.componentDidMount())}}render(){const{props:e}=this,t=P0(e.classNameGenerator,e.renderProps);if(e.children){const n=Ch(e,t,this.handleEl),s=e.children(this.InnerContent,e.renderProps,n);return e.elTag?x(e.elTag,n,s):s}else return x(pl,Object.assign(Object.assign({},e),{elRef:this.handleEl,elTag:e.elTag||"div",elClasses:(e.elClasses||[]).concat(t),renderId:this.context}))}componentDidMount(){var e,t;this.el?(t=(e=this.props).didMount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el})):this.didMountMisfire=!0}componentWillUnmount(){var e,t;(t=(e=this.props).willUnmount)===null||t===void 0||t.call(e,Object.assign(Object.assign({},this.props.renderProps),{el:this.el}))}}Ct.contextType=kh;function M0(r,e){const t=r.props;return x(pl,Object.assign({renderProps:t.renderProps,generatorName:t.generatorName,customGenerator:t.customGenerator,defaultGenerator:t.defaultGenerator,renderId:r.context},e))}function P0(r,e){const t=typeof r=="function"?r(e):r||[];return typeof t=="string"?[t]:t}class Vi extends Ie{render(){let{props:e,context:t}=this,{options:n}=t,s={view:t.viewApi};return x(Ct,Object.assign({},e,{elTag:e.elTag||"div",elClasses:[...Ah(e.viewSpec),...e.elClasses||[]],renderProps:s,classNameGenerator:n.viewClassNames,generatorName:void 0,didMount:n.viewDidMount,willUnmount:n.viewWillUnmount}),()=>e.children)}}function Ah(r){return[`fc-${r.type}-view`,"fc-view"]}function L0(r,e){let t=null,n=null;return r.start&&(t=e.createMarker(r.start)),r.end&&(n=e.createMarker(r.end)),!t&&!n||t&&n&&n<t?null:{start:t,end:n}}function dd(r,e){let t=[],{start:n}=e,s,i;for(r.sort(F0),s=0;s<r.length;s+=1)i=r[s],i.start>n&&t.push({start:n,end:i.start}),i.end>n&&(n=i.end);return n<e.end&&t.push({start:n,end:e.end}),t}function F0(r,e){return r.start.valueOf()-e.start.valueOf()}function mn(r,e){let{start:t,end:n}=r,s=null;return e.start!==null&&(t===null?t=e.start:t=new Date(Math.max(t.valueOf(),e.start.valueOf()))),e.end!=null&&(n===null?n=e.end:n=new Date(Math.min(n.valueOf(),e.end.valueOf()))),(t===null||n===null||t<n)&&(s={start:t,end:n}),s}function U0(r,e){return(r.start===null?null:r.start.valueOf())===(e.start===null?null:e.start.valueOf())&&(r.end===null?null:r.end.valueOf())===(e.end===null?null:e.end.valueOf())}function yl(r,e){return(r.end===null||e.start===null||r.end>e.start)&&(r.start===null||e.end===null||r.start<e.end)}function fa(r,e){return(r.start===null||e.start!==null&&e.start>=r.start)&&(r.end===null||e.end!==null&&e.end<=r.end)}function tr(r,e){return(r.start===null||e>=r.start)&&(r.end===null||e<r.end)}function H0(r,e){return e.start!=null&&r<e.start?e.start:e.end!=null&&r>=e.end?new Date(e.end.valueOf()-1):r}function Dh(r){let e=Math.floor(wn(r.start,r.end))||1,t=$e(r.start),n=ot(t,e);return{start:t,end:n}}function jh(r,e=je(0)){let t=null,n=null;if(r.end){n=$e(r.end);let s=r.end.valueOf()-n.valueOf();s&&s>=Lt(e)&&(n=ot(n,1))}return r.start&&(t=$e(r.start),n&&n<=t&&(n=ot(t,1))),{start:t,end:n}}function On(r,e,t,n){return n==="year"?je(t.diffWholeYears(r,e),"year"):n==="month"?je(t.diffWholeMonths(r,e),"month"):Qb(r,e)}class Rh{constructor(e){this.props=e,this.initHiddenDays()}buildPrev(e,t,n){let{dateEnv:s}=this.props,i=s.subtract(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,-1,n)}buildNext(e,t,n){let{dateEnv:s}=this.props,i=s.add(s.startOf(t,e.currentRangeUnit),e.dateIncrement);return this.build(i,1,n)}build(e,t,n=!0){let{props:s}=this,i,a,o,l,d,c;return i=this.buildValidRange(),i=this.trimHiddenDays(i),n&&(e=H0(e,i)),a=this.buildCurrentRangeInfo(e,t),o=/^(year|month|week|day)$/.test(a.unit),l=this.buildRenderRange(this.trimHiddenDays(a.range),a.unit,o),l=this.trimHiddenDays(l),d=l,s.showNonCurrentDates||(d=mn(d,a.range)),d=this.adjustActiveRange(d),d=mn(d,i),c=yl(a.range,i),tr(l,e)||(e=l.start),{currentDate:e,validRange:i,currentRange:a.range,currentRangeUnit:a.unit,isRangeAllDay:o,activeRange:d,renderRange:l,slotMinTime:s.slotMinTime,slotMaxTime:s.slotMaxTime,isValid:c,dateIncrement:this.buildDateIncrement(a.duration)}}buildValidRange(){let e=this.props.validRangeInput,t=typeof e=="function"?e.call(this.props.calendarApi,this.props.dateEnv.toDate(this.props.nowManager.getDateMarker())):e;return this.refineRange(t)||{start:null,end:null}}buildCurrentRangeInfo(e,t){let{props:n}=this,s=null,i=null,a=null,o;return n.duration?(s=n.duration,i=n.durationUnit,a=this.buildRangeFromDuration(e,t,s,i)):(o=this.props.dayCount)?(i="day",a=this.buildRangeFromDayCount(e,t,o)):(a=this.buildCustomVisibleRange(e))?i=n.dateEnv.greatestWholeUnit(a.start,a.end).unit:(s=this.getFallbackDuration(),i=To(s).unit,a=this.buildRangeFromDuration(e,t,s,i)),{duration:s,unit:i,range:a}}getFallbackDuration(){return je({day:1})}adjustActiveRange(e){let{dateEnv:t,usesMinMaxTime:n,slotMinTime:s,slotMaxTime:i}=this.props,{start:a,end:o}=e;return n&&(Pn(s)<0&&(a=$e(a),a=t.add(a,s)),Pn(i)>1&&(o=$e(o),o=ot(o,-1),o=t.add(o,i))),{start:a,end:o}}buildRangeFromDuration(e,t,n,s){let{dateEnv:i,dateAlignment:a}=this.props,o,l,d;if(!a){let{dateIncrement:f}=this.props;f&&Lt(f)<Lt(n)?a=To(f).unit:a=s}Pn(n)<=1&&this.isHiddenDay(o)&&(o=this.skipHiddenDays(o,t),o=$e(o));function c(){o=i.startOf(e,a),l=i.add(o,n),d={start:o,end:l}}return c(),this.trimHiddenDays(d)||(e=this.skipHiddenDays(e,t),c()),d}buildRangeFromDayCount(e,t,n){let{dateEnv:s,dateAlignment:i}=this.props,a=0,o=e,l;i&&(o=s.startOf(o,i)),o=$e(o),o=this.skipHiddenDays(o,t),l=o;do l=ot(l,1),this.isHiddenDay(l)||(a+=1);while(a<n);return{start:o,end:l}}buildCustomVisibleRange(e){let{props:t}=this,n=t.visibleRangeInput,s=typeof n=="function"?n.call(t.calendarApi,t.dateEnv.toDate(e)):n,i=this.refineRange(s);return i&&(i.start==null||i.end==null)?null:i}buildRenderRange(e,t,n){return e}buildDateIncrement(e){let{dateIncrement:t}=this.props,n;return t||((n=this.props.dateAlignment)?je(1,n):e||je({days:1}))}refineRange(e){if(e){let t=L0(e,this.props.dateEnv);return t&&(t=jh(t)),t}return null}initHiddenDays(){let e=this.props.hiddenDays||[],t=[],n=0,s;for(this.props.weekends===!1&&e.push(0,6),s=0;s<7;s+=1)(t[s]=e.indexOf(s)!==-1)||(n+=1);if(!n)throw new Error("invalid hiddenDays");this.isHiddenDayHash=t}trimHiddenDays(e){let{start:t,end:n}=e;return t&&(t=this.skipHiddenDays(t)),n&&(n=this.skipHiddenDays(n,-1,!0)),t==null||n==null||t<n?{start:t,end:n}:null}isHiddenDay(e){return e instanceof Date&&(e=e.getUTCDay()),this.isHiddenDayHash[e]}skipHiddenDays(e,t=1,n=!1){for(;this.isHiddenDayHash[(e.getUTCDay()+(n?t:0)+7)%7];)e=ot(e,t);return e}}function vl(r,e,t,n){return{instanceId:bn(),defId:r,range:e,forcedStartTzo:t??null,forcedEndTzo:n??null}}function B0(r,e,t,n){for(let s=0;s<n.length;s+=1){let i=n[s].parse(r,t);if(i){let{allDay:a}=r;return a==null&&(a=e,a==null&&(a=i.allDayGuess,a==null&&(a=!1))),{allDay:a,duration:i.duration,typeData:i.typeData,typeId:s}}}return null}function pn(r,e,t){let{dateEnv:n,pluginHooks:s,options:i}=t,{defs:a,instances:o}=r;o=gn(o,l=>!a[l.defId].recurringDef);for(let l in a){let d=a[l];if(d.recurringDef){let{duration:c}=d.recurringDef;c||(c=d.allDay?i.defaultAllDayEventDuration:i.defaultTimedEventDuration);let f=$0(d,c,e,n,s.recurringTypes);for(let h of f){let g=vl(l,{start:h,end:n.add(h,c)});o[g.instanceId]=g}}}return{defs:a,instances:o}}function $0(r,e,t,n,s){let a=s[r.recurringDef.typeId].expand(r.recurringDef.typeData,{start:n.subtract(t.start,e),end:t.end},n);return r.allDay&&(a=a.map($e)),a}const Ri={id:String,groupId:String,title:String,url:String,interactive:Boolean},Th={start:j,end:j,date:j,allDay:Boolean},z0=Object.assign(Object.assign(Object.assign({},Ri),Th),{extendedProps:j});function Nh(r,e,t,n,s=bl(t),i,a){let{refined:o,extra:l}=Oh(r,t,s),d=W0(e,t),c=B0(o,d,t.dateEnv,t.pluginHooks.recurringTypes);if(c){let h=Io(o,l,e?e.sourceId:"",c.allDay,!!c.duration,t,i);return h.recurringDef={typeId:c.typeId,typeData:c.typeData,duration:c.duration},{def:h,instance:null}}let f=q0(o,d,t,n);if(f){let h=Io(o,l,e?e.sourceId:"",f.allDay,f.hasEnd,t,i),g=vl(h.defId,f.range,f.forcedStartTzo,f.forcedEndTzo);return a&&h.publicId&&a[h.publicId]&&(g.instanceId=a[h.publicId]),{def:h,instance:g}}return null}function Oh(r,e,t=bl(e)){return fl(r,t)}function bl(r){return Object.assign(Object.assign(Object.assign({},Gi),z0),r.pluginHooks.eventRefiners)}function Io(r,e,t,n,s,i,a){let o={title:r.title||"",groupId:r.groupId||"",publicId:r.id||"",url:r.url||"",recurringDef:null,defId:(a&&r.id?a[r.id]:"")||bn(),sourceId:t,allDay:n,hasEnd:s,interactive:r.interactive,ui:Qi(r,i),extendedProps:Object.assign(Object.assign({},r.extendedProps||{}),e)};for(let l of i.pluginHooks.eventDefMemberAdders)Object.assign(o,l(r));return Object.freeze(o.ui.classNames),Object.freeze(o.extendedProps),o}function q0(r,e,t,n){let{allDay:s}=r,i,a=null,o=!1,l,d=null,c=r.start!=null?r.start:r.date;if(i=t.dateEnv.createMarkerMeta(c),i)a=i.marker;else if(!n)return null;return r.end!=null&&(l=t.dateEnv.createMarkerMeta(r.end)),s==null&&(e!=null?s=e:s=(!i||i.isTimeUnspecified)&&(!l||l.isTimeUnspecified)),s&&a&&(a=$e(a)),l&&(d=l.marker,s&&(d=$e(d)),a&&d<=a&&(d=null)),d?o=!0:n||(o=t.options.forceEventDuration||!1,d=t.dateEnv.add(a,s?t.options.defaultAllDayEventDuration:t.options.defaultTimedEventDuration)),{allDay:s,hasEnd:o,range:{start:a,end:d},forcedStartTzo:i?i.forcedTzo:null,forcedEndTzo:l?l.forcedTzo:null}}function W0(r,e){let t=null;return r&&(t=r.defaultAllDay),t==null&&(t=e.options.defaultAllDay),t}function Is(r,e,t,n,s,i){let a=Et(),o=bl(t);for(let l of r){let d=Nh(l,e,t,n,o,s,i);d&&Mo(d,a)}return a}function Mo(r,e=Et()){return e.defs[r.def.defId]=r.def,r.instance&&(e.instances[r.instance.instanceId]=r.instance),e}function wl(r,e){let t=r.instances[e];if(t){let n=r.defs[t.defId],s=ga(r,i=>V0(n,i));return s.defs[n.defId]=n,s.instances[t.instanceId]=t,s}return Et()}function V0(r,e){return!!(r.groupId&&r.groupId===e.groupId)}function Et(){return{defs:{},instances:{}}}function xl(r,e){return{defs:Object.assign(Object.assign({},r.defs),e.defs),instances:Object.assign(Object.assign({},r.instances),e.instances)}}function ga(r,e){let t=gn(r.defs,e),n=gn(r.instances,s=>t[s.defId]);return{defs:t,instances:n}}function G0(r,e){let{defs:t,instances:n}=r,s={},i={};for(let a in t)e.defs[a]||(s[a]=t[a]);for(let a in n)!e.instances[a]&&s[n[a].defId]&&(i[a]=n[a]);return{defs:s,instances:i}}function Q0(r,e){return Array.isArray(r)?Is(r,null,e,!0):typeof r=="object"&&r?Is([r],null,e,!0):r!=null?String(r):null}function ud(r){return Array.isArray(r)?r:typeof r=="string"?r.split(/\s+/):[]}const Gi={display:String,editable:Boolean,startEditable:Boolean,durationEditable:Boolean,constraint:j,overlap:j,allow:j,className:ud,classNames:ud,color:String,backgroundColor:String,borderColor:String,textColor:String},Y0={display:null,startEditable:null,durationEditable:null,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]};function Qi(r,e){let t=Q0(r.constraint,e);return{display:r.display||null,startEditable:r.startEditable!=null?r.startEditable:r.editable,durationEditable:r.durationEditable!=null?r.durationEditable:r.editable,constraints:t!=null?[t]:[],overlap:r.overlap!=null?r.overlap:null,allows:r.allow!=null?[r.allow]:[],backgroundColor:r.backgroundColor||r.color||"",borderColor:r.borderColor||r.color||"",textColor:r.textColor||"",classNames:(r.className||[]).concat(r.classNames||[])}}function Ih(r){return r.reduce(K0,Y0)}function K0(r,e){return{display:e.display!=null?e.display:r.display,startEditable:e.startEditable!=null?e.startEditable:r.startEditable,durationEditable:e.durationEditable!=null?e.durationEditable:r.durationEditable,constraints:r.constraints.concat(e.constraints),overlap:typeof e.overlap=="boolean"?e.overlap:r.overlap,allows:r.allows.concat(e.allows),backgroundColor:e.backgroundColor||r.backgroundColor,borderColor:e.borderColor||r.borderColor,textColor:e.textColor||r.textColor,classNames:r.classNames.concat(e.classNames)}}const J0={id:String,defaultAllDay:Boolean,url:String,format:String,events:j,eventDataTransform:j,success:j,failure:j};function Mh(r,e,t=Ph(e)){let n;if(typeof r=="string"?n={url:r}:typeof r=="function"||Array.isArray(r)?n={events:r}:typeof r=="object"&&r&&(n=r),n){let{refined:s,extra:i}=fl(n,t),a=Z0(s,e);if(a)return{_raw:r,isFetching:!1,latestFetchId:"",fetchRange:null,defaultAllDay:s.defaultAllDay,eventDataTransform:s.eventDataTransform,success:s.success,failure:s.failure,publicId:s.id||"",sourceId:bn(),sourceDefId:a.sourceDefId,meta:a.meta,ui:Qi(s,e),extendedProps:i}}return null}function Ph(r){return Object.assign(Object.assign(Object.assign({},Gi),J0),r.pluginHooks.eventSourceRefiners)}function Z0(r,e){let t=e.pluginHooks.eventSourceDefs;for(let n=t.length-1;n>=0;n-=1){let i=t[n].parseMeta(r);if(i)return{sourceDefId:n,meta:i}}return null}function X0(r,e,t,n,s){switch(e.type){case"RECEIVE_EVENTS":return ew(r,t[e.sourceId],e.fetchId,e.fetchRange,e.rawEvents,s);case"RESET_RAW_EVENTS":return tw(r,t[e.sourceId],e.rawEvents,n.activeRange,s);case"ADD_EVENTS":return rw(r,e.eventStore,n?n.activeRange:null,s);case"RESET_EVENTS":return e.eventStore;case"MERGE_EVENTS":return xl(r,e.eventStore);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return n?pn(r,n.activeRange,s):r;case"REMOVE_EVENTS":return G0(r,e.eventStore);case"REMOVE_EVENT_SOURCE":return Fh(r,e.sourceId);case"REMOVE_ALL_EVENT_SOURCES":return ga(r,i=>!i.sourceId);case"REMOVE_ALL_EVENTS":return Et();default:return r}}function ew(r,e,t,n,s,i){if(e&&t===e.latestFetchId){let a=Is(Lh(s,e,i),e,i);return n&&(a=pn(a,n,i)),xl(Fh(r,e.sourceId),a)}return r}function tw(r,e,t,n,s){const{defIdMap:i,instanceIdMap:a}=sw(r);let o=Is(Lh(t,e,s),e,s,!1,i,a);return pn(o,n,s)}function Lh(r,e,t){let n=t.options.eventDataTransform,s=e?e.eventDataTransform:null;return s&&(r=hd(r,s)),n&&(r=hd(r,n)),r}function hd(r,e){let t;if(!e)t=r;else{t=[];for(let n of r){let s=e(n);s?t.push(s):s==null&&t.push(n)}}return t}function rw(r,e,t,n){return t&&(e=pn(e,t,n)),xl(r,e)}function fd(r,e,t){let{defs:n}=r,s=sr(r.instances,i=>n[i.defId].allDay?i:Object.assign(Object.assign({},i),{range:{start:t.createMarker(e.toDate(i.range.start,i.forcedStartTzo)),end:t.createMarker(e.toDate(i.range.end,i.forcedEndTzo))},forcedStartTzo:t.canComputeOffset?null:i.forcedStartTzo,forcedEndTzo:t.canComputeOffset?null:i.forcedEndTzo}));return{defs:n,instances:s}}function Fh(r,e){return ga(r,t=>t.sourceId!==e)}function nw(r,e){return{defs:r.defs,instances:gn(r.instances,t=>!e[t.instanceId])}}function sw(r){const{defs:e,instances:t}=r,n={},s={};for(let i in e){const a=e[i],{publicId:o}=a;o&&(n[o]=i)}for(let i in t){const a=t[i],o=e[a.defId],{publicId:l}=o;l&&(s[l]=i)}return{defIdMap:n,instanceIdMap:s}}class ma{constructor(){this.handlers={},this.thisContext=null}setThisContext(e){this.thisContext=e}setOptions(e){this.options=e}on(e,t){iw(this.handlers,e,t)}off(e,t){aw(this.handlers,e,t)}trigger(e,...t){let n=this.handlers[e]||[],s=this.options&&this.options[e],i=[].concat(s||[],n);for(let a of i)a.apply(this.thisContext,t)}hasHandlers(e){return!!(this.handlers[e]&&this.handlers[e].length||this.options&&this.options[e])}}function iw(r,e,t){(r[e]||(r[e]=[])).push(t)}function aw(r,e,t){t?r[e]&&(r[e]=r[e].filter(n=>n!==t)):delete r[e]}const ow={startTime:"09:00",endTime:"17:00",daysOfWeek:[1,2,3,4,5],display:"inverse-background",classNames:"fc-non-business",groupId:"_businessHours"};function lw(r,e){return Is(cw(r),null,e)}function cw(r){let e;return r===!0?e=[{}]:Array.isArray(r)?e=r.filter(t=>t.daysOfWeek):typeof r=="object"&&r?e=[r]:e=[],e=e.map(t=>Object.assign(Object.assign({},ow),t)),e}function Uh(r,e,t){t.emitter.trigger("select",Object.assign(Object.assign({},_l(r,t)),{jsEvent:e?e.origEvent:null,view:t.viewApi||t.calendarApi.view}))}function dw(r,e){e.emitter.trigger("unselect",{jsEvent:r?r.origEvent:null,view:e.viewApi||e.calendarApi.view})}function _l(r,e){let t={};for(let n of e.pluginHooks.dateSpanTransforms)Object.assign(t,n(r,e));return Object.assign(t,Ew(r,e.dateEnv)),t}function gd(r,e,t){let{dateEnv:n,options:s}=t,i=e;return r?(i=$e(i),i=n.add(i,s.defaultAllDayEventDuration)):i=n.add(i,s.defaultTimedEventDuration),i}function Sl(r,e,t,n){let s=Yi(r.defs,e),i=Et();for(let a in r.defs){let o=r.defs[a];i.defs[a]=uw(o,s[a],t,n)}for(let a in r.instances){let o=r.instances[a],l=i.defs[o.defId];i.instances[a]=hw(o,l,s[o.defId],t,n)}return i}function uw(r,e,t,n){let s=t.standardProps||{};s.hasEnd==null&&e.durationEditable&&(t.startDelta||t.endDelta)&&(s.hasEnd=!0);let i=Object.assign(Object.assign(Object.assign({},r),s),{ui:Object.assign(Object.assign({},r.ui),s.ui)});t.extendedProps&&(i.extendedProps=Object.assign(Object.assign({},i.extendedProps),t.extendedProps));for(let a of n.pluginHooks.eventDefMutationAppliers)a(i,t,n);return!i.hasEnd&&n.options.forceEventDuration&&(i.hasEnd=!0),i}function hw(r,e,t,n,s){let{dateEnv:i}=s,a=n.standardProps&&n.standardProps.allDay===!0,o=n.standardProps&&n.standardProps.hasEnd===!1,l=Object.assign({},r);return a&&(l.range=Dh(l.range)),n.datesDelta&&t.startEditable&&(l.range={start:i.add(l.range.start,n.datesDelta),end:i.add(l.range.end,n.datesDelta)}),n.startDelta&&t.durationEditable&&(l.range={start:i.add(l.range.start,n.startDelta),end:l.range.end}),n.endDelta&&t.durationEditable&&(l.range={start:l.range.start,end:i.add(l.range.end,n.endDelta)}),o&&(l.range={start:l.range.start,end:gd(e.allDay,l.range.start,s)}),e.allDay&&(l.range={start:$e(l.range.start),end:$e(l.range.end)}),l.range.end<l.range.start&&(l.range.end=gd(e.allDay,l.range.start,s)),l}class Nn{constructor(e,t){this.context=e,this.internalEventSource=t}remove(){this.context.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:this.internalEventSource.sourceId})}refetch(){this.context.dispatch({type:"FETCH_EVENT_SOURCES",sourceIds:[this.internalEventSource.sourceId],isRefetch:!0})}get id(){return this.internalEventSource.publicId}get url(){return this.internalEventSource.meta.url}get format(){return this.internalEventSource.meta.format}}class Ve{constructor(e,t,n){this._context=e,this._def=t,this._instance=n||null}setProp(e,t){if(e in Th)console.warn("Could not set date-related prop 'name'. Use one of the date-related methods instead.");else if(e==="id")t=Ri[e](t),this.mutate({standardProps:{publicId:t}});else if(e in Ri)t=Ri[e](t),this.mutate({standardProps:{[e]:t}});else if(e in Gi){let n=Gi[e](t);e==="color"?n={backgroundColor:t,borderColor:t}:e==="editable"?n={startEditable:t,durationEditable:t}:n={[e]:t},this.mutate({standardProps:{ui:n}})}else console.warn(`Could not set prop '${e}'. Use setExtendedProp instead.`)}setExtendedProp(e,t){this.mutate({extendedProps:{[e]:t}})}setStart(e,t={}){let{dateEnv:n}=this._context,s=n.createMarker(e);if(s&&this._instance){let i=this._instance.range,a=On(i.start,s,n,t.granularity);t.maintainDuration?this.mutate({datesDelta:a}):this.mutate({startDelta:a})}}setEnd(e,t={}){let{dateEnv:n}=this._context,s;if(!(e!=null&&(s=n.createMarker(e),!s))&&this._instance)if(s){let i=On(this._instance.range.end,s,n,t.granularity);this.mutate({endDelta:i})}else this.mutate({standardProps:{hasEnd:!1}})}setDates(e,t,n={}){let{dateEnv:s}=this._context,i={allDay:n.allDay},a=s.createMarker(e),o;if(a&&!(t!=null&&(o=s.createMarker(t),!o))&&this._instance){let l=this._instance.range;n.allDay===!0&&(l=Dh(l));let d=On(l.start,a,s,n.granularity);if(o){let c=On(l.end,o,s,n.granularity);Fb(d,c)?this.mutate({datesDelta:d,standardProps:i}):this.mutate({startDelta:d,endDelta:c,standardProps:i})}else i.hasEnd=!1,this.mutate({datesDelta:d,standardProps:i})}}moveStart(e){let t=je(e);t&&this.mutate({startDelta:t})}moveEnd(e){let t=je(e);t&&this.mutate({endDelta:t})}moveDates(e){let t=je(e);t&&this.mutate({datesDelta:t})}setAllDay(e,t={}){let n={allDay:e},{maintainDuration:s}=t;s==null&&(s=this._context.options.allDayMaintainDuration),this._def.allDay!==e&&(n.hasEnd=s),this.mutate({standardProps:n})}formatRange(e){let{dateEnv:t}=this._context,n=this._instance,s=Qe(e);return this._def.hasEnd?t.formatRange(n.range.start,n.range.end,s,{forcedStartTzo:n.forcedStartTzo,forcedEndTzo:n.forcedEndTzo}):t.format(n.range.start,s,{forcedTzo:n.forcedStartTzo})}mutate(e){let t=this._instance;if(t){let n=this._def,s=this._context,{eventStore:i}=s.getCurrentData(),a=wl(i,t.instanceId);a=Sl(a,{"":{display:"",startEditable:!0,durationEditable:!0,constraints:[],overlap:null,allows:[],backgroundColor:"",borderColor:"",textColor:"",classNames:[]}},e,s);let l=new Ve(s,n,t);this._def=a.defs[n.defId],this._instance=a.instances[t.instanceId],s.dispatch({type:"MERGE_EVENTS",eventStore:a}),s.emitter.trigger("eventChange",{oldEvent:l,event:this,relatedEvents:dn(a,s,t),revert(){s.dispatch({type:"RESET_EVENTS",eventStore:i})}})}}remove(){let e=this._context,t=Hh(this);e.dispatch({type:"REMOVE_EVENTS",eventStore:t}),e.emitter.trigger("eventRemove",{event:this,relatedEvents:[],revert(){e.dispatch({type:"MERGE_EVENTS",eventStore:t})}})}get source(){let{sourceId:e}=this._def;return e?new Nn(this._context,this._context.getCurrentData().eventSources[e]):null}get start(){return this._instance?this._context.dateEnv.toDate(this._instance.range.start):null}get end(){return this._instance&&this._def.hasEnd?this._context.dateEnv.toDate(this._instance.range.end):null}get startStr(){let e=this._instance;return e?this._context.dateEnv.formatIso(e.range.start,{omitTime:this._def.allDay,forcedTzo:e.forcedStartTzo}):""}get endStr(){let e=this._instance;return e&&this._def.hasEnd?this._context.dateEnv.formatIso(e.range.end,{omitTime:this._def.allDay,forcedTzo:e.forcedEndTzo}):""}get id(){return this._def.publicId}get groupId(){return this._def.groupId}get allDay(){return this._def.allDay}get title(){return this._def.title}get url(){return this._def.url}get display(){return this._def.ui.display||"auto"}get startEditable(){return this._def.ui.startEditable}get durationEditable(){return this._def.ui.durationEditable}get constraint(){return this._def.ui.constraints[0]||null}get overlap(){return this._def.ui.overlap}get allow(){return this._def.ui.allows[0]||null}get backgroundColor(){return this._def.ui.backgroundColor}get borderColor(){return this._def.ui.borderColor}get textColor(){return this._def.ui.textColor}get classNames(){return this._def.ui.classNames}get extendedProps(){return this._def.extendedProps}toPlainObject(e={}){let t=this._def,{ui:n}=t,{startStr:s,endStr:i}=this,a={allDay:t.allDay};return t.title&&(a.title=t.title),s&&(a.start=s),i&&(a.end=i),t.publicId&&(a.id=t.publicId),t.groupId&&(a.groupId=t.groupId),t.url&&(a.url=t.url),n.display&&n.display!=="auto"&&(a.display=n.display),e.collapseColor&&n.backgroundColor&&n.backgroundColor===n.borderColor?a.color=n.backgroundColor:(n.backgroundColor&&(a.backgroundColor=n.backgroundColor),n.borderColor&&(a.borderColor=n.borderColor)),n.textColor&&(a.textColor=n.textColor),n.classNames.length&&(a.classNames=n.classNames),Object.keys(t.extendedProps).length&&(e.collapseExtendedProps?Object.assign(a,t.extendedProps):a.extendedProps=t.extendedProps),a}toJSON(){return this.toPlainObject()}}function Hh(r){let e=r._def,t=r._instance;return{defs:{[e.defId]:e},instances:t?{[t.instanceId]:t}:{}}}function dn(r,e,t){let{defs:n,instances:s}=r,i=[],a=t?t.instanceId:"";for(let o in s){let l=s[o],d=n[l.defId];l.instanceId!==a&&i.push(new Ve(e,d,l))}return i}function md(r,e,t,n){let s={},i={},a={},o=[],l=[],d=Yi(r.defs,e);for(let c in r.defs){let f=r.defs[c];d[f.defId].display==="inverse-background"&&(f.groupId?(s[f.groupId]=[],a[f.groupId]||(a[f.groupId]=f)):i[c]=[])}for(let c in r.instances){let f=r.instances[c],h=r.defs[f.defId],g=d[h.defId],v=f.range,y=!h.allDay&&n?jh(v,n):v,p=mn(y,t);p&&(g.display==="inverse-background"?h.groupId?s[h.groupId].push(p):i[f.defId].push(p):g.display!=="none"&&(g.display==="background"?o:l).push({def:h,ui:g,instance:f,range:p,isStart:y.start&&y.start.valueOf()===p.start.valueOf(),isEnd:y.end&&y.end.valueOf()===p.end.valueOf()}))}for(let c in s){let f=s[c],h=dd(f,t);for(let g of h){let v=a[c],y=d[v.defId];o.push({def:v,ui:y,instance:null,range:g,isStart:!1,isEnd:!1})}}for(let c in i){let f=i[c],h=dd(f,t);for(let g of h)o.push({def:r.defs[c],ui:d[c],instance:null,range:g,isStart:!1,isEnd:!1})}return{bg:o,fg:l}}function fw(r){return r.ui.display==="background"||r.ui.display==="inverse-background"}function pd(r,e){r.fcSeg=e}function ts(r){return r.fcSeg||r.parentNode.fcSeg||null}function Yi(r,e){return sr(r,t=>Bh(t,e))}function Bh(r,e){let t=[];return e[""]&&t.push(e[""]),e[r.defId]&&t.push(e[r.defId]),t.push(r.ui),Ih(t)}function $h(r,e){let t=r.map(gw);return t.sort((n,s)=>Tb(n,s,e)),t.map(n=>n._seg)}function gw(r){let{eventRange:e}=r,t=e.def,n=e.instance?e.instance.range:e.range,s=n.start?n.start.valueOf():0,i=n.end?n.end.valueOf():0;return Object.assign(Object.assign(Object.assign({},t.extendedProps),t),{id:t.publicId,start:s,end:i,duration:i-s,allDay:Number(t.allDay),_seg:r})}function mw(r,e){let{pluginHooks:t}=e,n=t.isDraggableTransformers,{def:s,ui:i}=r.eventRange,a=i.startEditable;for(let o of n)a=o(a,s,i,e);return a}function pw(r,e){return r.isStart&&r.eventRange.ui.durationEditable&&e.options.eventResizableFromStart}function yw(r,e){return r.isEnd&&r.eventRange.ui.durationEditable}function zh(r,e,t,n,s,i,a){let{dateEnv:o,options:l}=t,{displayEventTime:d,displayEventEnd:c}=l,f=r.eventRange.def,h=r.eventRange.instance;d==null&&(d=n!==!1),c==null&&(c=s!==!1);let g=h.range.start,v=h.range.end,y=r.start||r.eventRange.range.start,p=r.end||r.eventRange.range.end,S=$e(g).valueOf()===$e(y).valueOf(),w=$e(Ur(v,-1)).valueOf()===$e(Ur(p,-1)).valueOf();return d&&!f.allDay&&(S||w)?(y=S?g:y,p=w?v:p,c&&f.hasEnd?o.formatRange(y,p,e,{forcedStartTzo:h.forcedStartTzo,forcedEndTzo:h.forcedEndTzo}):o.format(y,e,{forcedTzo:h.forcedStartTzo})):""}function Pr(r,e,t){let n=r.eventRange.range;return{isPast:n.end<=(t||e.start),isFuture:n.start>=(t||e.end),isToday:e&&tr(e,n.start)}}function vw(r){let e=["fc-event"];return r.isMirror&&e.push("fc-event-mirror"),r.isDraggable&&e.push("fc-event-draggable"),(r.isStartResizable||r.isEndResizable)&&e.push("fc-event-resizable"),r.isDragging&&e.push("fc-event-dragging"),r.isResizing&&e.push("fc-event-resizing"),r.isSelected&&e.push("fc-event-selected"),r.isStart&&e.push("fc-event-start"),r.isEnd&&e.push("fc-event-end"),r.isPast&&e.push("fc-event-past"),r.isToday&&e.push("fc-event-today"),r.isFuture&&e.push("fc-event-future"),e}function qh(r){return r.instance?r.instance.instanceId:`${r.def.defId}:${r.range.start.toISOString()}`}function Wh(r,e){let{def:t,instance:n}=r.eventRange,{url:s}=t;if(s)return{href:s};let{emitter:i,options:a}=e,{eventInteractive:o}=a;return o==null&&(o=t.interactive,o==null&&(o=!!i.hasHandlers("eventClick"))),o?bh(l=>{i.trigger("eventClick",{el:l.target,event:new Ve(e,t,n),jsEvent:l,view:e.viewApi})}):{}}const bw={start:j,end:j,allDay:Boolean};function ww(r,e,t){let n=xw(r,e),{range:s}=n;if(!s.start)return null;if(!s.end){if(t==null)return null;s.end=e.add(s.start,t)}return n}function xw(r,e){let{refined:t,extra:n}=fl(r,bw),s=t.start?e.createMarkerMeta(t.start):null,i=t.end?e.createMarkerMeta(t.end):null,{allDay:a}=t;return a==null&&(a=s&&s.isTimeUnspecified&&(!i||i.isTimeUnspecified)),Object.assign({range:{start:s?s.marker:null,end:i?i.marker:null},allDay:a},n)}function _w(r,e){return U0(r.range,e.range)&&r.allDay===e.allDay&&Sw(r,e)}function Sw(r,e){for(let t in e)if(t!=="range"&&t!=="allDay"&&r[t]!==e[t])return!1;for(let t in r)if(!(t in e))return!1;return!0}function Ew(r,e){return Object.assign(Object.assign({},Gh(r.range,e,r.allDay)),{allDay:r.allDay})}function Vh(r,e,t){return Object.assign(Object.assign({},Gh(r,e,t)),{timeZone:e.timeZone})}function Gh(r,e,t){return{start:e.toDate(r.start),end:e.toDate(r.end),startStr:e.formatIso(r.start,{omitTime:t}),endStr:e.formatIso(r.end,{omitTime:t})}}function Cw(r,e,t){let n=Oh({editable:!1},t),s=Io(n.refined,n.extra,"",r.allDay,!0,t);return{def:s,ui:Bh(s,e),instance:vl(s.defId,r.range),range:r.range,isStart:!0,isEnd:!0}}function kw(r,e,t){let n=!1,s=function(o){n||(n=!0,e(o))},i=function(o){n||(n=!0,t(o))},a=r(s,i);a&&typeof a.then=="function"&&a.then(s,i)}class yd extends Error{constructor(e,t){super(e),this.response=t}}function Aw(r,e,t){r=r.toUpperCase();const n={method:r};return r==="GET"?e+=(e.indexOf("?")===-1?"?":"&")+new URLSearchParams(t):(n.body=new URLSearchParams(t),n.headers={"Content-Type":"application/x-www-form-urlencoded"}),fetch(e,n).then(s=>{if(s.ok)return s.json().then(i=>[i,s],()=>{throw new yd("Failure parsing JSON",s)});throw new yd("Request failed",s)})}let $a;function Qh(){return $a==null&&($a=Dw()),$a}function Dw(){if(typeof document>"u")return!0;let r=document.createElement("div");r.style.position="absolute",r.style.top="0px",r.style.left="0px",r.innerHTML="<table><tr><td><div></div></td></tr></table>",r.querySelector("table").style.height="100px",r.querySelector("div").style.height="100%",document.body.appendChild(r);let t=r.querySelector("div").offsetHeight>0;return document.body.removeChild(r),t}class jw extends Ie{constructor(){super(...arguments),this.state={forPrint:!1},this.handleBeforePrint=()=>{Wi(()=>{this.setState({forPrint:!0})})},this.handleAfterPrint=()=>{Wi(()=>{this.setState({forPrint:!1})})}}render(){let{props:e}=this,{options:t}=e,{forPrint:n}=this.state,s=n||t.height==="auto"||t.contentHeight==="auto",i=!s&&t.height!=null?t.height:"",a=["fc",n?"fc-media-print":"fc-media-screen",`fc-direction-${t.direction}`,e.theme.getClass("root")];return Qh()||a.push("fc-liquid-hack"),e.children(a,i,s,n)}componentDidMount(){let{emitter:e}=this.props;e.on("_beforeprint",this.handleBeforePrint),e.on("_afterprint",this.handleAfterPrint)}componentWillUnmount(){let{emitter:e}=this.props;e.off("_beforeprint",this.handleBeforePrint),e.off("_afterprint",this.handleAfterPrint)}}class ls{constructor(e){this.component=e.component,this.isHitComboAllowed=e.isHitComboAllowed||null}destroy(){}}function Rw(r,e){return{component:r,el:e.el,useEventCenter:e.useEventCenter!=null?e.useEventCenter:!0,isHitComboAllowed:e.isHitComboAllowed||null}}function El(r){return{[r.component.uid]:r}}const Po={};class cs extends St{constructor(e,t){super(e,t),this.handleRefresh=()=>{let n=this.computeTiming();n.state.nowDate.valueOf()!==this.state.nowDate.valueOf()&&this.setState(n.state),this.clearTimeout(),this.setTimeout(n.waitMs)},this.handleVisibilityChange=()=>{document.hidden||this.handleRefresh()},this.state=this.computeTiming().state}render(){let{props:e,state:t}=this;return e.children(t.nowDate,t.todayRange)}componentDidMount(){this.setTimeout(),this.context.nowManager.addResetListener(this.handleRefresh),document.addEventListener("visibilitychange",this.handleVisibilityChange)}componentDidUpdate(e){e.unit!==this.props.unit&&(this.clearTimeout(),this.setTimeout())}componentWillUnmount(){this.clearTimeout(),this.context.nowManager.removeResetListener(this.handleRefresh),document.removeEventListener("visibilitychange",this.handleVisibilityChange)}computeTiming(){let{props:e,context:t}=this,n=t.nowManager.getDateMarker(),s=t.dateEnv.startOf(n,e.unit),a=t.dateEnv.add(s,je(1,e.unit)).valueOf()-n.valueOf();return a=Math.min(1e3*60*60*24,a),{state:{nowDate:s,todayRange:Tw(s)},waitMs:a}}setTimeout(e=this.computeTiming().waitMs){this.timeoutId=setTimeout(()=>{const t=this.computeTiming();this.setState(t.state,()=>{this.setTimeout(t.waitMs)})},e)}clearTimeout(){this.timeoutId&&clearTimeout(this.timeoutId)}}cs.contextType=or;function Tw(r){let e=$e(r),t=ot(e,1);return{start:e,end:t}}class Nw{getCurrentData(){return this.currentDataManager.getCurrentData()}dispatch(e){this.currentDataManager.dispatch(e)}get view(){return this.getCurrentData().viewApi}batchRendering(e){e()}updateSize(){this.trigger("_resize",!0)}setOption(e,t){this.dispatch({type:"SET_OPTION",optionName:e,rawOptionValue:t})}getOption(e){return this.currentDataManager.currentCalendarOptionsInput[e]}getAvailableLocaleCodes(){return Object.keys(this.getCurrentData().availableRawLocales)}on(e,t){let{currentDataManager:n}=this;n.currentCalendarOptionsRefiners[e]?n.emitter.on(e,t):console.warn(`Unknown listener name '${e}'`)}off(e,t){this.currentDataManager.emitter.off(e,t)}trigger(e,...t){this.currentDataManager.emitter.trigger(e,...t)}changeView(e,t){this.batchRendering(()=>{if(this.unselect(),t)if(t.start&&t.end)this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e}),this.dispatch({type:"SET_OPTION",optionName:"visibleRange",rawOptionValue:t});else{let{dateEnv:n}=this.getCurrentData();this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e,dateMarker:n.createMarker(t)})}else this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:e})})}zoomTo(e,t){let n=this.getCurrentData(),s;t=t||"day",s=n.viewSpecs[t]||this.getUnitViewSpec(t),this.unselect(),s?this.dispatch({type:"CHANGE_VIEW_TYPE",viewType:s.type,dateMarker:e}):this.dispatch({type:"CHANGE_DATE",dateMarker:e})}getUnitViewSpec(e){let{viewSpecs:t,toolbarConfig:n}=this.getCurrentData(),s=[].concat(n.header?n.header.viewsWithButtons:[],n.footer?n.footer.viewsWithButtons:[]),i,a;for(let o in t)s.push(o);for(i=0;i<s.length;i+=1)if(a=t[s[i]],a&&a.singleUnit===e)return a;return null}prev(){this.unselect(),this.dispatch({type:"PREV"})}next(){this.unselect(),this.dispatch({type:"NEXT"})}prevYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,-1)})}nextYear(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.dateEnv.addYears(e.currentDate,1)})}today(){let e=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:e.nowManager.getDateMarker()})}gotoDate(e){let t=this.getCurrentData();this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.createMarker(e)})}incrementDate(e){let t=this.getCurrentData(),n=je(e);n&&(this.unselect(),this.dispatch({type:"CHANGE_DATE",dateMarker:t.dateEnv.add(t.currentDate,n)}))}getDate(){let e=this.getCurrentData();return e.dateEnv.toDate(e.currentDate)}formatDate(e,t){let{dateEnv:n}=this.getCurrentData();return n.format(n.createMarker(e),Qe(t))}formatRange(e,t,n){let{dateEnv:s}=this.getCurrentData();return s.formatRange(s.createMarker(e),s.createMarker(t),Qe(n),n)}formatIso(e,t){let{dateEnv:n}=this.getCurrentData();return n.formatIso(n.createMarker(e),{omitTime:t})}select(e,t){let n;t==null?e.start!=null?n=e:n={start:e,end:null}:n={start:e,end:t};let s=this.getCurrentData(),i=ww(n,s.dateEnv,je({days:1}));i&&(this.dispatch({type:"SELECT_DATES",selection:i}),Uh(i,null,s))}unselect(e){let t=this.getCurrentData();t.dateSelection&&(this.dispatch({type:"UNSELECT_DATES"}),dw(e,t))}addEvent(e,t){if(e instanceof Ve){let a=e._def,o=e._instance;return this.getCurrentData().eventStore.defs[a.defId]||(this.dispatch({type:"ADD_EVENTS",eventStore:Mo({def:a,instance:o})}),this.triggerEventAdd(e)),e}let n=this.getCurrentData(),s;if(t instanceof Nn)s=t.internalEventSource;else if(typeof t=="boolean")t&&([s]=ml(n.eventSources));else if(t!=null){let a=this.getEventSourceById(t);if(!a)return console.warn(`Could not find an event source with ID "${t}"`),null;s=a.internalEventSource}let i=Nh(e,s,n,!1);if(i){let a=new Ve(n,i.def,i.def.recurringDef?null:i.instance);return this.dispatch({type:"ADD_EVENTS",eventStore:Mo(i)}),this.triggerEventAdd(a),a}return null}triggerEventAdd(e){let{emitter:t}=this.getCurrentData();t.trigger("eventAdd",{event:e,relatedEvents:[],revert:()=>{this.dispatch({type:"REMOVE_EVENTS",eventStore:Hh(e)})}})}getEventById(e){let t=this.getCurrentData(),{defs:n,instances:s}=t.eventStore;e=String(e);for(let i in n){let a=n[i];if(a.publicId===e){if(a.recurringDef)return new Ve(t,a,null);for(let o in s){let l=s[o];if(l.defId===a.defId)return new Ve(t,a,l)}}}return null}getEvents(){let e=this.getCurrentData();return dn(e.eventStore,e)}removeAllEvents(){this.dispatch({type:"REMOVE_ALL_EVENTS"})}getEventSources(){let e=this.getCurrentData(),t=e.eventSources,n=[];for(let s in t)n.push(new Nn(e,t[s]));return n}getEventSourceById(e){let t=this.getCurrentData(),n=t.eventSources;e=String(e);for(let s in n)if(n[s].publicId===e)return new Nn(t,n[s]);return null}addEventSource(e){let t=this.getCurrentData();if(e instanceof Nn)return t.eventSources[e.internalEventSource.sourceId]||this.dispatch({type:"ADD_EVENT_SOURCES",sources:[e.internalEventSource]}),e;let n=Mh(e,t);return n?(this.dispatch({type:"ADD_EVENT_SOURCES",sources:[n]}),new Nn(t,n)):null}removeAllEventSources(){this.dispatch({type:"REMOVE_ALL_EVENT_SOURCES"})}refetchEvents(){this.dispatch({type:"FETCH_EVENT_SOURCES",isRefetch:!0})}scrollToTime(e){let t=je(e);t&&this.trigger("_scrollRequest",{time:t})}}function Ow(r,e){return r.left>=e.left&&r.left<e.right&&r.top>=e.top&&r.top<e.bottom}function Yh(r,e){let t={left:Math.max(r.left,e.left),right:Math.min(r.right,e.right),top:Math.max(r.top,e.top),bottom:Math.min(r.bottom,e.bottom)};return t.left<t.right&&t.top<t.bottom?t:!1}function Iw(r,e){return{left:Math.min(Math.max(r.left,e.left),e.right),top:Math.min(Math.max(r.top,e.top),e.bottom)}}function Mw(r){return{left:(r.left+r.right)/2,top:(r.top+r.bottom)/2}}function Pw(r,e){return{left:r.left-e.left,top:r.top-e.top}}const za=Et();class Lw{constructor(){this.getKeysForEventDefs=he(this._getKeysForEventDefs),this.splitDateSelection=he(this._splitDateSpan),this.splitEventStore=he(this._splitEventStore),this.splitIndividualUi=he(this._splitIndividualUi),this.splitEventDrag=he(this._splitInteraction),this.splitEventResize=he(this._splitInteraction),this.eventUiBuilders={}}splitProps(e){let t=this.getKeyInfo(e),n=this.getKeysForEventDefs(e.eventStore),s=this.splitDateSelection(e.dateSelection),i=this.splitIndividualUi(e.eventUiBases,n),a=this.splitEventStore(e.eventStore,n),o=this.splitEventDrag(e.eventDrag),l=this.splitEventResize(e.eventResize),d={};this.eventUiBuilders=sr(t,(c,f)=>this.eventUiBuilders[f]||he(Fw));for(let c in t){let f=t[c],h=a[c]||za,g=this.eventUiBuilders[c];d[c]={businessHours:f.businessHours||e.businessHours,dateSelection:s[c]||null,eventStore:h,eventUiBases:g(e.eventUiBases[""],f.ui,i[c]),eventSelection:h.instances[e.eventSelection]?e.eventSelection:"",eventDrag:o[c]||null,eventResize:l[c]||null}}return d}_splitDateSpan(e){let t={};if(e){let n=this.getKeysForDateSpan(e);for(let s of n)t[s]=e}return t}_getKeysForEventDefs(e){return sr(e.defs,t=>this.getKeysForEventDef(t))}_splitEventStore(e,t){let{defs:n,instances:s}=e,i={};for(let a in n)for(let o of t[a])i[o]||(i[o]=Et()),i[o].defs[a]=n[a];for(let a in s){let o=s[a];for(let l of t[o.defId])i[l]&&(i[l].instances[a]=o)}return i}_splitIndividualUi(e,t){let n={};for(let s in e)if(s)for(let i of t[s])n[i]||(n[i]={}),n[i][s]=e[s];return n}_splitInteraction(e){let t={};if(e){let n=this._splitEventStore(e.affectedEvents,this._getKeysForEventDefs(e.affectedEvents)),s=this._getKeysForEventDefs(e.mutatedEvents),i=this._splitEventStore(e.mutatedEvents,s),a=o=>{t[o]||(t[o]={affectedEvents:n[o]||za,mutatedEvents:i[o]||za,isEvent:e.isEvent})};for(let o in n)a(o);for(let o in i)a(o)}return t}}function Fw(r,e,t){let n=[];r&&n.push(r),e&&n.push(e);let s={"":Ih(n)};return t&&Object.assign(s,t),s}function Kh(r,e,t,n){return{dow:r.getUTCDay(),isDisabled:!!(n&&(!n.activeRange||!tr(n.activeRange,r))),isOther:!!(n&&!tr(n.currentRange,r)),isToday:!!(e&&tr(e,r)),isPast:!!(e&&r<e.start),isFuture:!!(e&&r>=e.end)}}function Cl(r,e){let t=["fc-day",`fc-day-${zb[r.dow]}`];return r.isDisabled?t.push("fc-day-disabled"):(r.isToday&&(t.push("fc-day-today"),t.push(e.getClass("today"))),r.isPast&&t.push("fc-day-past"),r.isFuture&&t.push("fc-day-future"),r.isOther&&t.push("fc-day-other")),t}const Uw=Qe({year:"numeric",month:"long",day:"numeric"}),Hw=Qe({week:"long"});function Ki(r,e,t="day",n=!0){const{dateEnv:s,options:i,calendarApi:a}=r;let o=s.format(e,t==="week"?Hw:Uw);if(i.navLinks){let l=s.toDate(e);const d=c=>{let f=t==="day"?i.navLinkDayClick:t==="week"?i.navLinkWeekClick:null;typeof f=="function"?f.call(a,s.toDate(e),c):(typeof f=="string"&&(t=f),a.zoomTo(e,t))};return Object.assign({title:ks(i.navLinkHint,[o,l],o),"data-navlink":""},n?vh(d):{onClick:d})}return{"aria-label":o}}let qa=null;function Bw(){return qa===null&&(qa=$w()),qa}function $w(){let r=document.createElement("div");Cs(r,{position:"absolute",top:-1e3,left:0,border:0,padding:0,overflow:"scroll",direction:"rtl"}),r.innerHTML="<div></div>",document.body.appendChild(r);let t=r.firstChild.getBoundingClientRect().left>r.getBoundingClientRect().left;return ol(r),t}let Wa;function zw(){return Wa||(Wa=qw()),Wa}function qw(){let r=document.createElement("div");r.style.overflow="scroll",r.style.position="absolute",r.style.top="-9999px",r.style.left="-9999px",document.body.appendChild(r);let e=Jh(r);return document.body.removeChild(r),e}function Jh(r){return{x:r.offsetHeight-r.clientHeight,y:r.offsetWidth-r.clientWidth}}function Ww(r,e=!1){let t=window.getComputedStyle(r),n=parseInt(t.borderLeftWidth,10)||0,s=parseInt(t.borderRightWidth,10)||0,i=parseInt(t.borderTopWidth,10)||0,a=parseInt(t.borderBottomWidth,10)||0,o=Jh(r),l=o.y-n-s,d=o.x-i-a,c={borderLeft:n,borderRight:s,borderTop:i,borderBottom:a,scrollbarBottom:d,scrollbarLeft:0,scrollbarRight:0};return Bw()&&t.direction==="rtl"?c.scrollbarLeft=l:c.scrollbarRight=l,e&&(c.paddingLeft=parseInt(t.paddingLeft,10)||0,c.paddingRight=parseInt(t.paddingRight,10)||0,c.paddingTop=parseInt(t.paddingTop,10)||0,c.paddingBottom=parseInt(t.paddingBottom,10)||0),c}function Vw(r,e=!1,t){let n=kl(r),s=Ww(r,e),i={left:n.left+s.borderLeft+s.scrollbarLeft,right:n.right-s.borderRight-s.scrollbarRight,top:n.top+s.borderTop,bottom:n.bottom-s.borderBottom-s.scrollbarBottom};return e&&(i.left+=s.paddingLeft,i.right-=s.paddingRight,i.top+=s.paddingTop,i.bottom-=s.paddingBottom),i}function kl(r){let e=r.getBoundingClientRect();return{left:e.left+window.scrollX,top:e.top+window.scrollY,right:e.right+window.scrollX,bottom:e.bottom+window.scrollY}}function Gw(r){let e=Zh(r),t=r.getBoundingClientRect();for(let n of e){let s=Yh(t,n.getBoundingClientRect());if(s)t=s;else return null}return t}function Zh(r){let e=[];for(;r instanceof HTMLElement;){let t=window.getComputedStyle(r);if(t.position==="fixed")break;/(auto|scroll)/.test(t.overflow+t.overflowY+t.overflowX)&&e.push(r),r=r.parentNode}return e}class rs{constructor(e,t,n,s){this.els=t;let i=this.originClientRect=e.getBoundingClientRect();n&&this.buildElHorizontals(i.left),s&&this.buildElVerticals(i.top)}buildElHorizontals(e){let t=[],n=[];for(let s of this.els){let i=s.getBoundingClientRect();t.push(i.left-e),n.push(i.right-e)}this.lefts=t,this.rights=n}buildElVerticals(e){let t=[],n=[];for(let s of this.els){let i=s.getBoundingClientRect();t.push(i.top-e),n.push(i.bottom-e)}this.tops=t,this.bottoms=n}leftToIndex(e){let{lefts:t,rights:n}=this,s=t.length,i;for(i=0;i<s;i+=1)if(e>=t[i]&&e<n[i])return i}topToIndex(e){let{tops:t,bottoms:n}=this,s=t.length,i;for(i=0;i<s;i+=1)if(e>=t[i]&&e<n[i])return i}getWidth(e){return this.rights[e]-this.lefts[e]}getHeight(e){return this.bottoms[e]-this.tops[e]}similarTo(e){return vi(this.tops||[],e.tops||[])&&vi(this.bottoms||[],e.bottoms||[])&&vi(this.lefts||[],e.lefts||[])&&vi(this.rights||[],e.rights||[])}}function vi(r,e){const t=r.length;if(t!==e.length)return!1;for(let n=0;n<t;n++)if(Math.round(r[n])!==Math.round(e[n]))return!1;return!0}class Al{getMaxScrollTop(){return this.getScrollHeight()-this.getClientHeight()}getMaxScrollLeft(){return this.getScrollWidth()-this.getClientWidth()}canScrollVertically(){return this.getMaxScrollTop()>0}canScrollHorizontally(){return this.getMaxScrollLeft()>0}canScrollUp(){return this.getScrollTop()>0}canScrollDown(){return this.getScrollTop()<this.getMaxScrollTop()}canScrollLeft(){return this.getScrollLeft()>0}canScrollRight(){return this.getScrollLeft()<this.getMaxScrollLeft()}}class Qw extends Al{constructor(e){super(),this.el=e}getScrollTop(){return this.el.scrollTop}getScrollLeft(){return this.el.scrollLeft}setScrollTop(e){this.el.scrollTop=e}setScrollLeft(e){this.el.scrollLeft=e}getScrollWidth(){return this.el.scrollWidth}getScrollHeight(){return this.el.scrollHeight}getClientHeight(){return this.el.clientHeight}getClientWidth(){return this.el.clientWidth}}class Yw extends Al{getScrollTop(){return window.scrollY}getScrollLeft(){return window.scrollX}setScrollTop(e){window.scroll(window.scrollX,e)}setScrollLeft(e){window.scroll(e,window.scrollY)}getScrollWidth(){return document.documentElement.scrollWidth}getScrollHeight(){return document.documentElement.scrollHeight}getClientHeight(){return document.documentElement.clientHeight}getClientWidth(){return document.documentElement.clientWidth}}class Gt extends Ie{constructor(){super(...arguments),this.uid=bn()}prepareHits(){}queryHit(e,t,n,s){return null}isValidSegDownEl(e){return!this.props.eventDrag&&!this.props.eventResize&&!at(e,".fc-event-mirror")}isValidDateDownEl(e){return!at(e,".fc-event:not(.fc-bg-event)")&&!at(e,".fc-more-link")&&!at(e,"a[data-navlink]")&&!at(e,".fc-popover")}}class Xh{constructor(e=t=>t.thickness||1){this.getEntryThickness=e,this.strictOrder=!1,this.allowReslicing=!1,this.maxCoord=-1,this.maxStackCnt=-1,this.levelCoords=[],this.entriesByLevel=[],this.stackCnts={}}addSegs(e){let t=[];for(let n of e)this.insertEntry(n,t);return t}insertEntry(e,t){let n=this.findInsertion(e);this.isInsertionValid(n,e)?this.insertEntryAt(e,n):this.handleInvalidInsertion(n,e,t)}isInsertionValid(e,t){return(this.maxCoord===-1||e.levelCoord+this.getEntryThickness(t)<=this.maxCoord)&&(this.maxStackCnt===-1||e.stackCnt<this.maxStackCnt)}handleInvalidInsertion(e,t,n){if(this.allowReslicing&&e.touchingEntry){const s=Object.assign(Object.assign({},t),{span:Dl(t.span,e.touchingEntry.span)});n.push(s),this.splitEntry(t,e.touchingEntry,n)}else n.push(t)}splitEntry(e,t,n){let s=e.span,i=t.span;s.start<i.start&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:s.start,end:i.start}},n),s.end>i.end&&this.insertEntry({index:e.index,thickness:e.thickness,span:{start:i.end,end:s.end}},n)}insertEntryAt(e,t){let{entriesByLevel:n,levelCoords:s}=this;t.lateral===-1?(Va(s,t.level,t.levelCoord),Va(n,t.level,[e])):Va(n[t.level],t.lateral,e),this.stackCnts[un(e)]=t.stackCnt}findInsertion(e){let{levelCoords:t,entriesByLevel:n,strictOrder:s,stackCnts:i}=this,a=t.length,o=0,l=-1,d=-1,c=null,f=0;for(let v=0;v<a;v+=1){const y=t[v];if(!s&&y>=o+this.getEntryThickness(e))break;let p=n[v],S,w=Fo(p,e.span.start,Lo),k=w[0]+w[1];for(;(S=p[k])&&S.span.start<e.span.end;){let E=y+this.getEntryThickness(S);E>o&&(o=E,c=S,l=v,d=k),E===o&&(f=Math.max(f,i[un(S)]+1)),k+=1}}let h=0;if(c)for(h=l+1;h<a&&t[h]<o;)h+=1;let g=-1;return h<a&&t[h]===o&&(g=Fo(n[h],e.span.end,Lo)[0]),{touchingLevel:l,touchingLateral:d,touchingEntry:c,stackCnt:f,levelCoord:o,level:h,lateral:g}}toRects(){let{entriesByLevel:e,levelCoords:t}=this,n=e.length,s=[];for(let i=0;i<n;i+=1){let a=e[i],o=t[i];for(let l of a)s.push(Object.assign(Object.assign({},l),{thickness:this.getEntryThickness(l),levelCoord:o}))}return s}}function Lo(r){return r.span.end}function un(r){return r.index+":"+r.span.start}function Kw(r){let e=[];for(let t of r){let n=[],s={span:t.span,entries:[t]};for(let i of e)Dl(i.span,s.span)?s={entries:i.entries.concat(s.entries),span:Jw(i.span,s.span)}:n.push(i);n.push(s),e=n}return e}function Jw(r,e){return{start:Math.min(r.start,e.start),end:Math.max(r.end,e.end)}}function Dl(r,e){let t=Math.max(r.start,e.start),n=Math.min(r.end,e.end);return t<n?{start:t,end:n}:null}function Va(r,e,t){r.splice(e,0,t)}function Fo(r,e,t){let n=0,s=r.length;if(!s||e<t(r[n]))return[0,0];if(e>t(r[s-1]))return[s,0];for(;n<s;){let i=Math.floor(n+(s-n)/2),a=t(r[i]);if(e<a)s=i;else if(e>a)n=i+1;else return[i,1]}return[n,0]}class Zw{constructor(e,t){this.emitter=new ma}destroy(){}setMirrorIsVisible(e){}setMirrorNeedsRevert(e){}setAutoScrollEnabled(e){}}const jl={};function Xw(r,e){return!r||e>10?Qe({weekday:"short"}):e>1?Qe({weekday:"short",month:"numeric",day:"numeric",omitCommas:!0}):Qe({weekday:"long"})}const ef="fc-col-header-cell";function tf(r){return r.text}class ex extends Ie{render(){let{dateEnv:e,options:t,theme:n,viewApi:s}=this.context,{props:i}=this,{date:a,dateProfile:o}=i,l=Kh(a,i.todayRange,null,o),d=[ef].concat(Cl(l,n)),c=e.format(a,i.dayHeaderFormat),f=!l.isDisabled&&i.colCnt>1?Ki(this.context,a):{},h=e.toDate(a);e.namedTimeZoneImpl&&(h=Ur(h,36e5));let g=Object.assign(Object.assign(Object.assign({date:h,view:s},i.extraRenderProps),{text:c}),l);return x(Ct,{elTag:"th",elClasses:d,elAttrs:Object.assign({role:"columnheader",colSpan:i.colSpan,"data-date":l.isDisabled?void 0:ul(a)},i.extraDataAttrs),renderProps:g,generatorName:"dayHeaderContent",customGenerator:t.dayHeaderContent,defaultGenerator:tf,classNameGenerator:t.dayHeaderClassNames,didMount:t.dayHeaderDidMount,willUnmount:t.dayHeaderWillUnmount},v=>x("div",{className:"fc-scrollgrid-sync-inner"},!l.isDisabled&&x(v,{elTag:"a",elAttrs:f,elClasses:["fc-col-header-cell-cushion",i.isSticky&&"fc-sticky"]})))}}const tx=Qe({weekday:"long"});class rx extends Ie{render(){let{props:e}=this,{dateEnv:t,theme:n,viewApi:s,options:i}=this.context,a=ot(new Date(2592e5),e.dow),o={dow:e.dow,isDisabled:!1,isFuture:!1,isPast:!1,isToday:!1,isOther:!1},l=t.format(a,e.dayHeaderFormat),d=Object.assign(Object.assign(Object.assign(Object.assign({date:a},o),{view:s}),e.extraRenderProps),{text:l});return x(Ct,{elTag:"th",elClasses:[ef,...Cl(o,n),...e.extraClassNames||[]],elAttrs:Object.assign({role:"columnheader",colSpan:e.colSpan},e.extraDataAttrs),renderProps:d,generatorName:"dayHeaderContent",customGenerator:i.dayHeaderContent,defaultGenerator:tf,classNameGenerator:i.dayHeaderClassNames,didMount:i.dayHeaderDidMount,willUnmount:i.dayHeaderWillUnmount},c=>x("div",{className:"fc-scrollgrid-sync-inner"},x(c,{elTag:"a",elClasses:["fc-col-header-cell-cushion",e.isSticky&&"fc-sticky"],elAttrs:{"aria-label":t.format(a,tx)}})))}}class rf extends Ie{constructor(){super(...arguments),this.createDayHeaderFormatter=he(nx)}render(){let{context:e}=this,{dates:t,dateProfile:n,datesRepDistinctDays:s,renderIntro:i}=this.props,a=this.createDayHeaderFormatter(e.options.dayHeaderFormat,s,t.length);return x(cs,{unit:"day"},(o,l)=>x("tr",{role:"row"},i&&i("day"),t.map(d=>s?x(ex,{key:d.toISOString(),date:d,dateProfile:n,todayRange:l,colCnt:t.length,dayHeaderFormat:a}):x(rx,{key:d.getUTCDay(),dow:d.getUTCDay(),dayHeaderFormat:a}))))}}function nx(r,e,t){return r||Xw(e,t)}class nf{constructor(e,t){let n=e.start,{end:s}=e,i=[],a=[],o=-1;for(;n<s;)t.isHiddenDay(n)?i.push(o+.5):(o+=1,i.push(o),a.push(n)),n=ot(n,1);this.dates=a,this.indices=i,this.cnt=a.length}sliceRange(e){let t=this.getDateDayIndex(e.start),n=this.getDateDayIndex(ot(e.end,-1)),s=Math.max(0,t),i=Math.min(this.cnt-1,n);return s=Math.ceil(s),i=Math.floor(i),s<=i?{firstIndex:s,lastIndex:i,isStart:t===s,isEnd:n===i}:null}getDateDayIndex(e){let{indices:t}=this,n=Math.floor(wn(this.dates[0],e));return n<0?t[0]-1:n>=t.length?t[t.length-1]+1:t[n]}}class sf{constructor(e,t){let{dates:n}=e,s,i,a;if(t){for(i=n[0].getUTCDay(),s=1;s<n.length&&n[s].getUTCDay()!==i;s+=1);a=Math.ceil(n.length/s)}else a=1,s=n.length;this.rowCnt=a,this.colCnt=s,this.daySeries=e,this.cells=this.buildCells(),this.headerDates=this.buildHeaderDates()}buildCells(){let e=[];for(let t=0;t<this.rowCnt;t+=1){let n=[];for(let s=0;s<this.colCnt;s+=1)n.push(this.buildCell(t,s));e.push(n)}return e}buildCell(e,t){let n=this.daySeries.dates[e*this.colCnt+t];return{key:n.toISOString(),date:n}}buildHeaderDates(){let e=[];for(let t=0;t<this.colCnt;t+=1)e.push(this.cells[0][t].date);return e}sliceRange(e){let{colCnt:t}=this,n=this.daySeries.sliceRange(e),s=[];if(n){let{firstIndex:i,lastIndex:a}=n,o=i;for(;o<=a;){let l=Math.floor(o/t),d=Math.min((l+1)*t,a+1);s.push({row:l,firstCol:o%t,lastCol:(d-1)%t,isStart:n.isStart&&o===i,isEnd:n.isEnd&&d-1===a}),o=d}}return s}}class af{constructor(){this.sliceBusinessHours=he(this._sliceBusinessHours),this.sliceDateSelection=he(this._sliceDateSpan),this.sliceEventStore=he(this._sliceEventStore),this.sliceEventDrag=he(this._sliceInteraction),this.sliceEventResize=he(this._sliceInteraction),this.forceDayIfListItem=!1}sliceProps(e,t,n,s,...i){let{eventUiBases:a}=e,o=this.sliceEventStore(e.eventStore,a,t,n,...i);return{dateSelectionSegs:this.sliceDateSelection(e.dateSelection,t,n,a,s,...i),businessHourSegs:this.sliceBusinessHours(e.businessHours,t,n,s,...i),fgEventSegs:o.fg,bgEventSegs:o.bg,eventDrag:this.sliceEventDrag(e.eventDrag,a,t,n,...i),eventResize:this.sliceEventResize(e.eventResize,a,t,n,...i),eventSelection:e.eventSelection}}sliceNowDate(e,t,n,s,...i){return this._sliceDateSpan({range:{start:e,end:Ur(e,1)},allDay:!1},t,n,{},s,...i)}_sliceBusinessHours(e,t,n,s,...i){return e?this._sliceEventStore(pn(e,bi(t,!!n),s),{},t,n,...i).bg:[]}_sliceEventStore(e,t,n,s,...i){if(e){let a=md(e,t,bi(n,!!s),s);return{bg:this.sliceEventRanges(a.bg,i),fg:this.sliceEventRanges(a.fg,i)}}return{bg:[],fg:[]}}_sliceInteraction(e,t,n,s,...i){if(!e)return null;let a=md(e.mutatedEvents,t,bi(n,!!s),s);return{segs:this.sliceEventRanges(a.fg,i),affectedInstances:e.affectedEvents.instances,isEvent:e.isEvent}}_sliceDateSpan(e,t,n,s,i,...a){if(!e)return[];let o=bi(t,!!n),l=mn(e.range,o);if(l){e=Object.assign(Object.assign({},e),{range:l});let d=Cw(e,s,i),c=this.sliceRange(e.range,...a);for(let f of c)f.eventRange=d;return c}return[]}sliceEventRanges(e,t){let n=[];for(let s of e)n.push(...this.sliceEventRange(s,t));return n}sliceEventRange(e,t){let n=e.range;this.forceDayIfListItem&&e.ui.display==="list-item"&&(n={start:n.start,end:ot(n.start,1)});let s=this.sliceRange(n,...t);for(let i of s)i.eventRange=e,i.isStart=e.isStart&&i.isStart,i.isEnd=e.isEnd&&i.isEnd;return s}}function bi(r,e){let t=r.activeRange;return e?t:{start:Ur(t.start,r.slotMinTime.milliseconds),end:Ur(t.end,r.slotMaxTime.milliseconds-864e5)}}function of(r,e,t){let{instances:n}=r.mutatedEvents;for(let s in n)if(!fa(e.validRange,n[s].range))return!1;return lf({eventDrag:r},t)}function sx(r,e,t){return fa(e.validRange,r.range)?lf({dateSelection:r},t):!1}function lf(r,e){let t=e.getCurrentData(),n=Object.assign({businessHours:t.businessHours,dateSelection:"",eventStore:t.eventStore,eventUiBases:t.eventUiBases,eventSelection:"",eventDrag:null,eventResize:null},r);return(e.pluginHooks.isPropsValid||ix)(n,e)}function ix(r,e,t={},n){return!(r.eventDrag&&!ax(r,e,t,n)||r.dateSelection&&!ox(r,e,t,n))}function ax(r,e,t,n){let s=e.getCurrentData(),i=r.eventDrag,a=i.mutatedEvents,o=a.defs,l=a.instances,d=Yi(o,i.isEvent?r.eventUiBases:{"":s.selectionConfig});n&&(d=sr(d,n));let c=nw(r.eventStore,i.affectedEvents.instances),f=c.defs,h=c.instances,g=Yi(f,r.eventUiBases);for(let v in l){let y=l[v],p=y.range,S=d[y.defId],w=o[y.defId];if(!cf(S.constraints,p,c,r.businessHours,e))return!1;let{eventOverlap:k}=e.options,E=typeof k=="function"?k:null;for(let H in h){let R=h[H];if(yl(p,R.range)&&(g[R.defId].overlap===!1&&i.isEvent||S.overlap===!1||E&&!E(new Ve(e,f[R.defId],R),new Ve(e,w,y))))return!1}let T=s.eventStore;for(let H of S.allows){let R=Object.assign(Object.assign({},t),{range:y.range,allDay:w.allDay}),O=T.defs[w.defId],I=T.instances[v],z;if(O?z=new Ve(e,O,I):z=new Ve(e,w),!H(_l(R,e),z))return!1}}return!0}function ox(r,e,t,n){let s=r.eventStore,i=s.defs,a=s.instances,o=r.dateSelection,l=o.range,{selectionConfig:d}=e.getCurrentData();if(n&&(d=n(d)),!cf(d.constraints,l,s,r.businessHours,e))return!1;let{selectOverlap:c}=e.options,f=typeof c=="function"?c:null;for(let h in a){let g=a[h];if(yl(l,g.range)&&(d.overlap===!1||f&&!f(new Ve(e,i[g.defId],g),null)))return!1}for(let h of d.allows){let g=Object.assign(Object.assign({},t),o);if(!h(_l(g,e),null))return!1}return!0}function cf(r,e,t,n,s){for(let i of r)if(!cx(lx(i,e,t,n,s),e))return!1;return!0}function lx(r,e,t,n,s){return r==="businessHours"?Ga(pn(n,e,s)):typeof r=="string"?Ga(ga(t,i=>i.groupId===r)):typeof r=="object"&&r?Ga(pn(r,e,s)):[]}function Ga(r){let{instances:e}=r,t=[];for(let n in e)t.push(e[n].range);return t}function cx(r,e){for(let t of r)if(fa(t,e))return!0;return!1}const wi=/^(visible|hidden)$/;class dx extends Ie{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,ir(this.props.elRef,e)}}render(){let{props:e}=this,{liquid:t,liquidIsAbsolute:n}=e,s=t&&n,i=["fc-scroller"];return t&&(n?i.push("fc-scroller-liquid-absolute"):i.push("fc-scroller-liquid")),x("div",{ref:this.handleEl,className:i.join(" "),style:{overflowX:e.overflowX,overflowY:e.overflowY,left:s&&-(e.overcomeLeft||0)||"",right:s&&-(e.overcomeRight||0)||"",bottom:s&&-(e.overcomeBottom||0)||"",marginLeft:!s&&-(e.overcomeLeft||0)||"",marginRight:!s&&-(e.overcomeRight||0)||"",marginBottom:!s&&-(e.overcomeBottom||0)||"",maxHeight:e.maxHeight||""}},e.children)}needsXScrolling(){if(wi.test(this.props.overflowX))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().width-this.getYScrollbarWidth(),{children:n}=e;for(let s=0;s<n.length;s+=1)if(n[s].getBoundingClientRect().width>t)return!0;return!1}needsYScrolling(){if(wi.test(this.props.overflowY))return!1;let{el:e}=this,t=this.el.getBoundingClientRect().height-this.getXScrollbarWidth(),{children:n}=e;for(let s=0;s<n.length;s+=1)if(n[s].getBoundingClientRect().height>t)return!0;return!1}getXScrollbarWidth(){return wi.test(this.props.overflowX)?0:this.el.offsetHeight-this.el.clientHeight}getYScrollbarWidth(){return wi.test(this.props.overflowY)?0:this.el.offsetWidth-this.el.clientWidth}}class er{constructor(e){this.masterCallback=e,this.currentMap={},this.depths={},this.callbackMap={},this.handleValue=(t,n)=>{let{depths:s,currentMap:i}=this,a=!1,o=!1;t!==null?(a=n in i,i[n]=t,s[n]=(s[n]||0)+1,o=!0):(s[n]-=1,s[n]||(delete i[n],delete this.callbackMap[n],a=!0)),this.masterCallback&&(a&&this.masterCallback(null,String(n)),o&&this.masterCallback(t,String(n)))}}createRef(e){let t=this.callbackMap[e];return t||(t=this.callbackMap[e]=n=>{this.handleValue(n,String(e))}),t}collect(e,t,n){return _0(this.currentMap,e,t,n)}getAll(){return ml(this.currentMap)}}function ux(r){let e=xb(r,".fc-scrollgrid-shrink"),t=0;for(let n of e)t=Math.max(t,Mb(n));return Math.ceil(t)}function df(r,e){return r.liquid&&e.liquid}function hx(r,e){return e.maxHeight!=null||df(r,e)}function fx(r,e,t,n){let{expandRows:s}=t;return typeof e.content=="function"?e.content(t):x("table",{role:"presentation",className:[e.tableClassName,r.syncRowHeights?"fc-scrollgrid-sync-table":""].join(" "),style:{minWidth:t.tableMinWidth,width:t.clientWidth,height:s?t.clientHeight:""}},t.tableColGroupNode,x(n?"thead":"tbody",{role:"presentation"},typeof e.rowContent=="function"?e.rowContent(t):e.rowContent))}function gx(r,e){return Fr(r,e,Vt)}function mx(r,e){let t=[];for(let n of r){let s=n.span||1;for(let i=0;i<s;i+=1)t.push(x("col",{style:{width:n.width==="shrink"?px(e):n.width||"",minWidth:n.minWidth||""}}))}return x("colgroup",{},...t)}function px(r){return r??4}function yx(r){for(let e of r)if(e.width==="shrink")return!0;return!1}function vx(r,e){let t=["fc-scrollgrid",e.theme.getClass("table")];return r&&t.push("fc-scrollgrid-liquid"),t}function bx(r,e){let t=["fc-scrollgrid-section",`fc-scrollgrid-section-${r.type}`,r.className];return e&&r.liquid&&r.maxHeight==null&&t.push("fc-scrollgrid-section-liquid"),r.isSticky&&t.push("fc-scrollgrid-section-sticky"),t}function Uo(r){return x("div",{className:"fc-scrollgrid-sticky-shim",style:{width:r.clientWidth,minWidth:r.tableMinWidth}})}function Ji(r){let{stickyHeaderDates:e}=r;return(e==null||e==="auto")&&(e=r.height==="auto"||r.viewHeight==="auto"),e}function uf(r){let{stickyFooterScrollbar:e}=r;return(e==null||e==="auto")&&(e=r.height==="auto"||r.viewHeight==="auto"),e}class Rl extends Ie{constructor(){super(...arguments),this.processCols=he(e=>e,gx),this.renderMicroColGroup=he(mx),this.scrollerRefs=new er,this.scrollerElRefs=new er(this._handleScrollerEl.bind(this)),this.state={shrinkWidth:null,forceYScrollbars:!1,scrollerClientWidths:{},scrollerClientHeights:{}},this.handleSizing=()=>{this.safeSetState(Object.assign({shrinkWidth:this.computeShrinkWidth()},this.computeScrollerDims()))}}render(){let{props:e,state:t,context:n}=this,s=e.sections||[],i=this.processCols(e.cols),a=this.renderMicroColGroup(i,t.shrinkWidth),o=vx(e.liquid,n);e.collapsibleWidth&&o.push("fc-scrollgrid-collapsible");let l=s.length,d=0,c,f=[],h=[],g=[];for(;d<l&&(c=s[d]).type==="header";)f.push(this.renderSection(c,a,!0)),d+=1;for(;d<l&&(c=s[d]).type==="body";)h.push(this.renderSection(c,a,!1)),d+=1;for(;d<l&&(c=s[d]).type==="footer";)g.push(this.renderSection(c,a,!0)),d+=1;let v=!Qh();const y={role:"rowgroup"};return x("table",{role:"grid",className:o.join(" "),style:{height:e.height}},!!(!v&&f.length)&&x("thead",y,...f),!!(!v&&h.length)&&x("tbody",y,...h),!!(!v&&g.length)&&x("tfoot",y,...g),v&&x("tbody",y,...f,...h,...g))}renderSection(e,t,n){return"outerContent"in e?x(Be,{key:e.key},e.outerContent):x("tr",{key:e.key,role:"presentation",className:bx(e,this.props.liquid).join(" ")},this.renderChunkTd(e,t,e.chunk,n))}renderChunkTd(e,t,n,s){if("outerContent"in n)return n.outerContent;let{props:i}=this,{forceYScrollbars:a,scrollerClientWidths:o,scrollerClientHeights:l}=this.state,d=hx(i,e),c=df(i,e),f=i.liquid?a?"scroll":d?"auto":"hidden":"visible",h=e.key,g=fx(e,n,{tableColGroupNode:t,tableMinWidth:"",clientWidth:!i.collapsibleWidth&&o[h]!==void 0?o[h]:null,clientHeight:l[h]!==void 0?l[h]:null,expandRows:e.expandRows,syncRowHeights:!1,rowSyncHeights:[],reportRowHeightChange:()=>{}},s);return x(s?"th":"td",{ref:n.elRef,role:"presentation"},x("div",{className:`fc-scroller-harness${c?" fc-scroller-harness-liquid":""}`},x(dx,{ref:this.scrollerRefs.createRef(h),elRef:this.scrollerElRefs.createRef(h),overflowY:f,overflowX:i.liquid?"hidden":"visible",maxHeight:e.maxHeight,liquid:c,liquidIsAbsolute:!0},g)))}_handleScrollerEl(e,t){let n=wx(this.props.sections,t);n&&ir(n.chunk.scrollerElRef,e)}componentDidMount(){this.handleSizing(),this.context.addResizeHandler(this.handleSizing)}componentDidUpdate(){this.handleSizing()}componentWillUnmount(){this.context.removeResizeHandler(this.handleSizing)}computeShrinkWidth(){return yx(this.props.cols)?ux(this.scrollerElRefs.getAll()):0}computeScrollerDims(){let e=zw(),{scrollerRefs:t,scrollerElRefs:n}=this,s=!1,i={},a={};for(let o in t.currentMap){let l=t.currentMap[o];if(l&&l.needsYScrolling()){s=!0;break}}for(let o of this.props.sections){let l=o.key,d=n.currentMap[l];if(d){let c=d.parentNode;i[l]=Math.floor(c.getBoundingClientRect().width-(s?e.y:0)),a[l]=Math.floor(c.getBoundingClientRect().height)}}return{forceYScrollbars:s,scrollerClientWidths:i,scrollerClientHeights:a}}}Rl.addStateEquality({scrollerClientWidths:Vt,scrollerClientHeights:Vt});function wx(r,e){for(let t of r)if(t.key===e)return t;return null}class Tl extends Ie{constructor(){super(...arguments),this.handleEl=e=>{this.el=e,e&&pd(e,this.props.seg)}}render(){const{props:e,context:t}=this,{options:n}=t,{seg:s}=e,{eventRange:i}=s,{ui:a}=i,o={event:new Ve(t,i.def,i.instance),view:t.viewApi,timeText:e.timeText,textColor:a.textColor,backgroundColor:a.backgroundColor,borderColor:a.borderColor,isDraggable:!e.disableDragging&&mw(s,t),isStartResizable:!e.disableResizing&&pw(s,t),isEndResizable:!e.disableResizing&&yw(s),isMirror:!!(e.isDragging||e.isResizing||e.isDateSelecting),isStart:!!s.isStart,isEnd:!!s.isEnd,isPast:!!e.isPast,isFuture:!!e.isFuture,isToday:!!e.isToday,isSelected:!!e.isSelected,isDragging:!!e.isDragging,isResizing:!!e.isResizing};return x(Ct,Object.assign({},e,{elRef:this.handleEl,elClasses:[...vw(o),...s.eventRange.ui.classNames,...e.elClasses||[]],renderProps:o,generatorName:"eventContent",customGenerator:n.eventContent,defaultGenerator:e.defaultGenerator,classNameGenerator:n.eventClassNames,didMount:n.eventDidMount,willUnmount:n.eventWillUnmount}))}componentDidUpdate(e){this.el&&this.props.seg!==e.seg&&pd(this.el,this.props.seg)}}class hf extends Ie{render(){let{props:e,context:t}=this,{options:n}=t,{seg:s}=e,{ui:i}=s.eventRange,a=n.eventTimeFormat||e.defaultTimeFormat,o=zh(s,a,t,e.defaultDisplayEventTime,e.defaultDisplayEventEnd);return x(Tl,Object.assign({},e,{elTag:"a",elStyle:{borderColor:i.borderColor,backgroundColor:i.backgroundColor},elAttrs:Wh(s,t),defaultGenerator:xx,timeText:o}),(l,d)=>x(Be,null,x(l,{elTag:"div",elClasses:["fc-event-main"],elStyle:{color:d.textColor}}),!!d.isStartResizable&&x("div",{className:"fc-event-resizer fc-event-resizer-start"}),!!d.isEndResizable&&x("div",{className:"fc-event-resizer fc-event-resizer-end"})))}}function xx(r){return x("div",{className:"fc-event-main-frame"},r.timeText&&x("div",{className:"fc-event-time"},r.timeText),x("div",{className:"fc-event-title-container"},x("div",{className:"fc-event-title fc-sticky"},r.event.title||x(Be,null,""))))}const Nl=r=>x(or.Consumer,null,e=>{let{options:t}=e,n={isAxis:r.isAxis,date:e.dateEnv.toDate(r.date),view:e.viewApi};return x(Ct,Object.assign({},r,{elTag:r.elTag||"div",renderProps:n,generatorName:"nowIndicatorContent",customGenerator:t.nowIndicatorContent,classNameGenerator:t.nowIndicatorClassNames,didMount:t.nowIndicatorDidMount,willUnmount:t.nowIndicatorWillUnmount}))}),_x=Qe({day:"numeric"});class Ol extends Ie{constructor(){super(...arguments),this.refineRenderProps=ji(Sx)}render(){let{props:e,context:t}=this,{options:n}=t,s=this.refineRenderProps({date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,isMonthStart:e.isMonthStart||!1,showDayNumber:e.showDayNumber,extraRenderProps:e.extraRenderProps,viewApi:t.viewApi,dateEnv:t.dateEnv,monthStartFormat:n.monthStartFormat});return x(Ct,Object.assign({},e,{elClasses:[...Cl(s,t.theme),...e.elClasses||[]],elAttrs:Object.assign(Object.assign({},e.elAttrs),s.isDisabled?{}:{"data-date":ul(e.date)}),renderProps:s,generatorName:"dayCellContent",customGenerator:n.dayCellContent,defaultGenerator:e.defaultGenerator,classNameGenerator:s.isDisabled?void 0:n.dayCellClassNames,didMount:n.dayCellDidMount,willUnmount:n.dayCellWillUnmount}))}}function Il(r){return!!(r.dayCellContent||Oo("dayCellContent",r))}function Sx(r){let{date:e,dateEnv:t,dateProfile:n,isMonthStart:s}=r,i=Kh(e,r.todayRange,null,n),a=r.showDayNumber?t.format(e,s?r.monthStartFormat:_x):"";return Object.assign(Object.assign(Object.assign({date:t.toDate(e),view:r.viewApi},i),{isMonthStart:s,dayNumberText:a}),r.extraRenderProps)}class ff extends Ie{render(){let{props:e}=this,{seg:t}=e;return x(Tl,{elTag:"div",elClasses:["fc-bg-event"],elStyle:{backgroundColor:t.eventRange.ui.backgroundColor},defaultGenerator:Ex,seg:t,timeText:"",isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:!1,isPast:e.isPast,isFuture:e.isFuture,isToday:e.isToday,disableDragging:!0,disableResizing:!0})}}function Ex(r){let{title:e}=r.event;return e&&x("div",{className:"fc-event-title"},r.event.title)}function gf(r){return x("div",{className:`fc-${r}`})}const mf=r=>x(or.Consumer,null,e=>{let{dateEnv:t,options:n}=e,{date:s}=r,i=n.weekNumberFormat||r.defaultFormat,a=t.computeWeekNumber(s),o=t.format(s,i);return x(Ct,Object.assign({},r,{renderProps:{num:a,text:o,date:s},generatorName:"weekNumberContent",customGenerator:n.weekNumberContent,defaultGenerator:Cx,classNameGenerator:n.weekNumberClassNames,didMount:n.weekNumberDidMount,willUnmount:n.weekNumberWillUnmount}))});function Cx(r){return r.text}const Qa=10;class kx extends Ie{constructor(){super(...arguments),this.state={titleId:ua()},this.handleRootEl=e=>{this.rootEl=e,this.props.elRef&&ir(this.props.elRef,e)},this.handleDocumentMouseDown=e=>{const t=ph(e);this.rootEl.contains(t)||this.handleCloseClick()},this.handleDocumentKeyDown=e=>{e.key==="Escape"&&this.handleCloseClick()},this.handleCloseClick=()=>{let{onClose:e}=this.props;e&&e()}}render(){let{theme:e,options:t}=this.context,{props:n,state:s}=this,i=["fc-popover",e.getClass("popover")].concat(n.extraClassNames||[]);return ob(x("div",Object.assign({},n.extraAttrs,{id:n.id,className:i.join(" "),"aria-labelledby":s.titleId,ref:this.handleRootEl}),x("div",{className:"fc-popover-header "+e.getClass("popoverHeader")},x("span",{className:"fc-popover-title",id:s.titleId},n.title),x("span",{className:"fc-popover-close "+e.getIconClass("close"),title:t.closeHint,onClick:this.handleCloseClick})),x("div",{className:"fc-popover-body "+e.getClass("popoverContent")},n.children)),n.parentEl)}componentDidMount(){document.addEventListener("mousedown",this.handleDocumentMouseDown),document.addEventListener("keydown",this.handleDocumentKeyDown),this.updateSize()}componentWillUnmount(){document.removeEventListener("mousedown",this.handleDocumentMouseDown),document.removeEventListener("keydown",this.handleDocumentKeyDown)}updateSize(){let{isRtl:e}=this.context,{alignmentEl:t,alignGridTop:n}=this.props,{rootEl:s}=this,i=Gw(t);if(i){let a=s.getBoundingClientRect(),o=n?at(t,".fc-scrollgrid").getBoundingClientRect().top:i.top,l=e?i.right-a.width:i.left;o=Math.max(o,Qa),l=Math.min(l,document.documentElement.clientWidth-Qa-a.width),l=Math.max(l,Qa);let d=s.offsetParent.getBoundingClientRect();Cs(s,{top:o-d.top,left:l-d.left})}}}class Ax extends Gt{constructor(){super(...arguments),this.handleRootEl=e=>{this.rootEl=e,e?this.context.registerInteractiveComponent(this,{el:e,useEventCenter:!1}):this.context.unregisterInteractiveComponent(this)}}render(){let{options:e,dateEnv:t}=this.context,{props:n}=this,{startDate:s,todayRange:i,dateProfile:a}=n,o=t.format(s,e.dayPopoverFormat);return x(Ol,{elRef:this.handleRootEl,date:s,dateProfile:a,todayRange:i},(l,d,c)=>x(kx,{elRef:c.ref,id:n.id,title:o,extraClassNames:["fc-more-popover"].concat(c.className||[]),extraAttrs:c,parentEl:n.parentEl,alignmentEl:n.alignmentEl,alignGridTop:n.alignGridTop,onClose:n.onClose},Il(e)&&x(l,{elTag:"div",elClasses:["fc-more-popover-misc"]}),n.children))}queryHit(e,t,n,s){let{rootEl:i,props:a}=this;return e>=0&&e<n&&t>=0&&t<s?{dateProfile:a.dateProfile,dateSpan:Object.assign({allDay:!a.forceTimed,range:{start:a.startDate,end:a.endDate}},a.extraDateSpan),dayEl:i,rect:{left:0,top:0,right:n,bottom:s},layer:1}:null}}class pf extends Ie{constructor(){super(...arguments),this.state={isPopoverOpen:!1,popoverId:ua()},this.handleLinkEl=e=>{this.linkEl=e,this.props.elRef&&ir(this.props.elRef,e)},this.handleClick=e=>{let{props:t,context:n}=this,{moreLinkClick:s}=n.options,i=vd(t).start;function a(o){let{def:l,instance:d,range:c}=o.eventRange;return{event:new Ve(n,l,d),start:n.dateEnv.toDate(c.start),end:n.dateEnv.toDate(c.end),isStart:o.isStart,isEnd:o.isEnd}}typeof s=="function"&&(s=s({date:i,allDay:!!t.allDayDate,allSegs:t.allSegs.map(a),hiddenSegs:t.hiddenSegs.map(a),jsEvent:e,view:n.viewApi})),!s||s==="popover"?this.setState({isPopoverOpen:!0}):typeof s=="string"&&n.calendarApi.zoomTo(i,s)},this.handlePopoverClose=()=>{this.setState({isPopoverOpen:!1})}}render(){let{props:e,state:t}=this;return x(or.Consumer,null,n=>{let{viewApi:s,options:i,calendarApi:a}=n,{moreLinkText:o}=i,{moreCnt:l}=e,d=vd(e),c=typeof o=="function"?o.call(a,l):`+${l} ${o}`,f=ks(i.moreLinkHint,[l],c),h={num:l,shortText:`+${l}`,text:c,view:s};return x(Be,null,!!e.moreCnt&&x(Ct,{elTag:e.elTag||"a",elRef:this.handleLinkEl,elClasses:[...e.elClasses||[],"fc-more-link"],elStyle:e.elStyle,elAttrs:Object.assign(Object.assign(Object.assign({},e.elAttrs),vh(this.handleClick)),{title:f,"aria-expanded":t.isPopoverOpen,"aria-controls":t.isPopoverOpen?t.popoverId:""}),renderProps:h,generatorName:"moreLinkContent",customGenerator:i.moreLinkContent,defaultGenerator:e.defaultGenerator||Dx,classNameGenerator:i.moreLinkClassNames,didMount:i.moreLinkDidMount,willUnmount:i.moreLinkWillUnmount},e.children),t.isPopoverOpen&&x(Ax,{id:t.popoverId,startDate:d.start,endDate:d.end,dateProfile:e.dateProfile,todayRange:e.todayRange,extraDateSpan:e.extraDateSpan,parentEl:this.parentEl,alignmentEl:e.alignmentElRef?e.alignmentElRef.current:this.linkEl,alignGridTop:e.alignGridTop,forceTimed:e.forceTimed,onClose:this.handlePopoverClose},e.popoverContent()))})}componentDidMount(){this.updateParentEl()}componentDidUpdate(){this.updateParentEl()}updateParentEl(){this.linkEl&&(this.parentEl=at(this.linkEl,".fc-view-harness"))}}function Dx(r){return r.text}function vd(r){if(r.allDayDate)return{start:r.allDayDate,end:ot(r.allDayDate,1)};let{hiddenSegs:e}=r;return{start:yf(e),end:Rx(e)}}function yf(r){return r.reduce(jx).eventRange.range.start}function jx(r,e){return r.eventRange.range.start<e.eventRange.range.start?r:e}function Rx(r){return r.reduce(Tx).eventRange.range.end}function Tx(r,e){return r.eventRange.range.end>e.eventRange.range.end?r:e}class Nx{constructor(){this.handlers=[]}set(e){this.currentValue=e;for(let t of this.handlers)t(e)}subscribe(e){this.handlers.push(e),this.currentValue!==void 0&&e(this.currentValue)}}class Ox extends Nx{constructor(){super(...arguments),this.map=new Map}handle(e){const{map:t}=this;let n=!1;e.isActive?(t.set(e.id,e),n=!0):t.has(e.id)&&(t.delete(e.id),n=!0),n&&this.set(t)}}const Ix=[],vf={code:"en",week:{dow:0,doy:4},direction:"ltr",buttonText:{prev:"prev",next:"next",prevYear:"prev year",nextYear:"next year",year:"year",today:"today",month:"month",week:"week",day:"day",list:"list"},weekText:"W",weekTextLong:"Week",closeHint:"Close",timeHint:"Time",eventHint:"Event",allDayText:"all-day",moreLinkText:"more",noEventsText:"No events to display"},bf=Object.assign(Object.assign({},vf),{buttonHints:{prev:"Previous $0",next:"Next $0",today(r,e){return e==="day"?"Today":`This ${r}`}},viewHint:"$0 view",navLinkHint:"Go to $0",moreLinkHint(r){return`Show ${r} more event${r===1?"":"s"}`}});function Mx(r){let e=r.length>0?r[0].code:"en",t=Ix.concat(r),n={en:bf};for(let s of t)n[s.code]=s;return{map:n,defaultCode:e}}function wf(r,e){return typeof r=="object"&&!Array.isArray(r)?xf(r.code,[r.code],r):Px(r,e)}function Px(r,e){let t=[].concat(r||[]),n=Lx(t,e)||bf;return xf(r,t,n)}function Lx(r,e){for(let t=0;t<r.length;t+=1){let n=r[t].toLocaleLowerCase().split("-");for(let s=n.length;s>0;s-=1){let i=n.slice(0,s).join("-");if(e[i])return e[i]}}return null}function xf(r,e,t){let n=gl([vf,t],["buttonText"]);delete n.code;let{week:s}=n;return delete n.week,{codeArg:r,codes:e,week:s,simpleNumberFormat:new Intl.NumberFormat(r),options:n}}function lr(r){return{id:bn(),name:r.name,premiumReleaseDate:r.premiumReleaseDate?new Date(r.premiumReleaseDate):void 0,deps:r.deps||[],reducers:r.reducers||[],isLoadingFuncs:r.isLoadingFuncs||[],contextInit:[].concat(r.contextInit||[]),eventRefiners:r.eventRefiners||{},eventDefMemberAdders:r.eventDefMemberAdders||[],eventSourceRefiners:r.eventSourceRefiners||{},isDraggableTransformers:r.isDraggableTransformers||[],eventDragMutationMassagers:r.eventDragMutationMassagers||[],eventDefMutationAppliers:r.eventDefMutationAppliers||[],dateSelectionTransformers:r.dateSelectionTransformers||[],datePointTransforms:r.datePointTransforms||[],dateSpanTransforms:r.dateSpanTransforms||[],views:r.views||{},viewPropsTransformers:r.viewPropsTransformers||[],isPropsValid:r.isPropsValid||null,externalDefTransforms:r.externalDefTransforms||[],viewContainerAppends:r.viewContainerAppends||[],eventDropTransformers:r.eventDropTransformers||[],componentInteractions:r.componentInteractions||[],calendarInteractions:r.calendarInteractions||[],themeClasses:r.themeClasses||{},eventSourceDefs:r.eventSourceDefs||[],cmdFormatter:r.cmdFormatter,recurringTypes:r.recurringTypes||[],namedTimeZonedImpl:r.namedTimeZonedImpl,initialView:r.initialView||"",elementDraggingImpl:r.elementDraggingImpl,optionChangeHandlers:r.optionChangeHandlers||{},scrollGridImpl:r.scrollGridImpl||null,listenerRefiners:r.listenerRefiners||{},optionRefiners:r.optionRefiners||{},propSetHandlers:r.propSetHandlers||{}}}function Fx(r,e){let t={},n={premiumReleaseDate:void 0,reducers:[],isLoadingFuncs:[],contextInit:[],eventRefiners:{},eventDefMemberAdders:[],eventSourceRefiners:{},isDraggableTransformers:[],eventDragMutationMassagers:[],eventDefMutationAppliers:[],dateSelectionTransformers:[],datePointTransforms:[],dateSpanTransforms:[],views:{},viewPropsTransformers:[],isPropsValid:null,externalDefTransforms:[],viewContainerAppends:[],eventDropTransformers:[],componentInteractions:[],calendarInteractions:[],themeClasses:{},eventSourceDefs:[],cmdFormatter:null,recurringTypes:[],namedTimeZonedImpl:null,initialView:"",elementDraggingImpl:null,optionChangeHandlers:{},scrollGridImpl:null,listenerRefiners:{},optionRefiners:{},propSetHandlers:{}};function s(i){for(let a of i){const o=a.name,l=t[o];l===void 0?(t[o]=a.id,s(a.deps),n=Hx(n,a)):l!==a.id&&console.warn(`Duplicate plugin '${o}'`)}}return r&&s(r),s(e),n}function Ux(){let r=[],e=[],t;return(n,s)=>((!t||!Fr(n,r)||!Fr(s,e))&&(t=Fx(n,s)),r=n,e=s,t)}function Hx(r,e){return{premiumReleaseDate:Bx(r.premiumReleaseDate,e.premiumReleaseDate),reducers:r.reducers.concat(e.reducers),isLoadingFuncs:r.isLoadingFuncs.concat(e.isLoadingFuncs),contextInit:r.contextInit.concat(e.contextInit),eventRefiners:Object.assign(Object.assign({},r.eventRefiners),e.eventRefiners),eventDefMemberAdders:r.eventDefMemberAdders.concat(e.eventDefMemberAdders),eventSourceRefiners:Object.assign(Object.assign({},r.eventSourceRefiners),e.eventSourceRefiners),isDraggableTransformers:r.isDraggableTransformers.concat(e.isDraggableTransformers),eventDragMutationMassagers:r.eventDragMutationMassagers.concat(e.eventDragMutationMassagers),eventDefMutationAppliers:r.eventDefMutationAppliers.concat(e.eventDefMutationAppliers),dateSelectionTransformers:r.dateSelectionTransformers.concat(e.dateSelectionTransformers),datePointTransforms:r.datePointTransforms.concat(e.datePointTransforms),dateSpanTransforms:r.dateSpanTransforms.concat(e.dateSpanTransforms),views:Object.assign(Object.assign({},r.views),e.views),viewPropsTransformers:r.viewPropsTransformers.concat(e.viewPropsTransformers),isPropsValid:e.isPropsValid||r.isPropsValid,externalDefTransforms:r.externalDefTransforms.concat(e.externalDefTransforms),viewContainerAppends:r.viewContainerAppends.concat(e.viewContainerAppends),eventDropTransformers:r.eventDropTransformers.concat(e.eventDropTransformers),calendarInteractions:r.calendarInteractions.concat(e.calendarInteractions),componentInteractions:r.componentInteractions.concat(e.componentInteractions),themeClasses:Object.assign(Object.assign({},r.themeClasses),e.themeClasses),eventSourceDefs:r.eventSourceDefs.concat(e.eventSourceDefs),cmdFormatter:e.cmdFormatter||r.cmdFormatter,recurringTypes:r.recurringTypes.concat(e.recurringTypes),namedTimeZonedImpl:e.namedTimeZonedImpl||r.namedTimeZonedImpl,initialView:r.initialView||e.initialView,elementDraggingImpl:r.elementDraggingImpl||e.elementDraggingImpl,optionChangeHandlers:Object.assign(Object.assign({},r.optionChangeHandlers),e.optionChangeHandlers),scrollGridImpl:e.scrollGridImpl||r.scrollGridImpl,listenerRefiners:Object.assign(Object.assign({},r.listenerRefiners),e.listenerRefiners),optionRefiners:Object.assign(Object.assign({},r.optionRefiners),e.optionRefiners),propSetHandlers:Object.assign(Object.assign({},r.propSetHandlers),e.propSetHandlers)}}function Bx(r,e){return r===void 0?e:e===void 0?r:new Date(Math.max(r.valueOf(),e.valueOf()))}class zr extends qs{}zr.prototype.classes={root:"fc-theme-standard",tableCellShaded:"fc-cell-shaded",buttonGroup:"fc-button-group",button:"fc-button fc-button-primary",buttonActive:"fc-button-active"};zr.prototype.baseIconClass="fc-icon";zr.prototype.iconClasses={close:"fc-icon-x",prev:"fc-icon-chevron-left",next:"fc-icon-chevron-right",prevYear:"fc-icon-chevrons-left",nextYear:"fc-icon-chevrons-right"};zr.prototype.rtlIconClasses={prev:"fc-icon-chevron-right",next:"fc-icon-chevron-left",prevYear:"fc-icon-chevrons-right",nextYear:"fc-icon-chevrons-left"};zr.prototype.iconOverrideOption="buttonIcons";zr.prototype.iconOverrideCustomButtonOption="icon";zr.prototype.iconOverridePrefix="fc-icon-";function $x(r,e){let t={},n;for(n in r)Ho(n,t,r,e);for(n in e)Ho(n,t,r,e);return t}function Ho(r,e,t,n){if(e[r])return e[r];let s=zx(r,e,t,n);return s&&(e[r]=s),s}function zx(r,e,t,n){let s=t[r],i=n[r],a=c=>s&&s[c]!==null?s[c]:i&&i[c]!==null?i[c]:null,o=a("component"),l=a("superType"),d=null;if(l){if(l===r)throw new Error("Can't have a custom view type that references itself");d=Ho(l,e,t,n)}return!o&&d&&(o=d.component),o?{type:r,component:o,defaults:Object.assign(Object.assign({},d?d.defaults:{}),s?s.rawOptions:{}),overrides:Object.assign(Object.assign({},d?d.overrides:{}),i?i.rawOptions:{})}:null}function bd(r){return sr(r,qx)}function qx(r){let e=typeof r=="function"?{component:r}:r,{component:t}=e;return e.content?t=wd(e):t&&!(t.prototype instanceof Ie)&&(t=wd(Object.assign(Object.assign({},e),{content:t}))),{superType:e.type,component:t,rawOptions:e}}function wd(r){return e=>x(or.Consumer,null,t=>x(Ct,{elTag:"div",elClasses:Ah(t.viewSpec),renderProps:Object.assign(Object.assign({},e),{nextDayThreshold:t.options.nextDayThreshold}),generatorName:void 0,customGenerator:r.content,classNameGenerator:r.classNames,didMount:r.didMount,willUnmount:r.willUnmount}))}function Wx(r,e,t,n){let s=bd(r),i=bd(e.views),a=$x(s,i);return sr(a,o=>Vx(o,i,e,t,n))}function Vx(r,e,t,n,s){let i=r.overrides.duration||r.defaults.duration||n.duration||t.duration,a=null,o="",l="",d={};if(i&&(a=Gx(i),a)){let h=To(a);o=h.unit,h.value===1&&(l=o,d=e[o]?e[o].rawOptions:{})}let c=h=>{let g=h.buttonText||{},v=r.defaults.buttonTextKey;return v!=null&&g[v]!=null?g[v]:g[r.type]!=null?g[r.type]:g[l]!=null?g[l]:null},f=h=>{let g=h.buttonHints||{},v=r.defaults.buttonTextKey;return v!=null&&g[v]!=null?g[v]:g[r.type]!=null?g[r.type]:g[l]!=null?g[l]:null};return{type:r.type,component:r.component,duration:a,durationUnit:o,singleUnit:l,optionDefaults:r.defaults,optionOverrides:Object.assign(Object.assign({},d),r.overrides),buttonTextOverride:c(n)||c(t)||r.overrides.buttonText,buttonTextDefault:c(s)||r.defaults.buttonText||c(As)||r.type,buttonTitleOverride:f(n)||f(t)||r.overrides.buttonHint,buttonTitleDefault:f(s)||r.defaults.buttonHint||f(As)}}let xd={};function Gx(r){let e=JSON.stringify(r),t=xd[e];return t===void 0&&(t=je(r),xd[e]=t),t}function Qx(r,e){switch(e.type){case"CHANGE_VIEW_TYPE":r=e.viewType}return r}function Yx(r,e){switch(e.type){case"CHANGE_DATE":return e.dateMarker;default:return r}}function Kx(r,e,t){let n=r.initialDate;return n!=null?e.createMarker(n):t.getDateMarker()}function Jx(r,e){switch(e.type){case"SET_OPTION":return Object.assign(Object.assign({},r),{[e.optionName]:e.rawOptionValue});default:return r}}function Zx(r,e,t,n){let s;switch(e.type){case"CHANGE_VIEW_TYPE":return n.build(e.dateMarker||t);case"CHANGE_DATE":return n.build(e.dateMarker);case"PREV":if(s=n.buildPrev(r,t),s.isValid)return s;break;case"NEXT":if(s=n.buildNext(r,t),s.isValid)return s;break}return r}function Xx(r,e,t){let n=e?e.activeRange:null;return Sf({},a_(r,t),n,t)}function e_(r,e,t,n){let s=t?t.activeRange:null;switch(e.type){case"ADD_EVENT_SOURCES":return Sf(r,e.sources,s,n);case"REMOVE_EVENT_SOURCE":return r_(r,e.sourceId);case"PREV":case"NEXT":case"CHANGE_DATE":case"CHANGE_VIEW_TYPE":return t?Ef(r,s,n):r;case"FETCH_EVENT_SOURCES":return Ml(r,e.sourceIds?_h(e.sourceIds):Cf(r,n),s,e.isRefetch||!1,n);case"RECEIVE_EVENTS":case"RECEIVE_EVENT_ERROR":return i_(r,e.sourceId,e.fetchId,e.fetchRange);case"REMOVE_ALL_EVENT_SOURCES":return{};default:return r}}function t_(r,e,t){let n=e?e.activeRange:null;return Ml(r,Cf(r,t),n,!0,t)}function _f(r){for(let e in r)if(r[e].isFetching)return!0;return!1}function Sf(r,e,t,n){let s={};for(let i of e)s[i.sourceId]=i;return t&&(s=Ef(s,t,n)),Object.assign(Object.assign({},r),s)}function r_(r,e){return gn(r,t=>t.sourceId!==e)}function Ef(r,e,t){return Ml(r,gn(r,n=>n_(n,e,t)),e,!1,t)}function n_(r,e,t){return kf(r,t)?!t.options.lazyFetching||!r.fetchRange||r.isFetching||e.start<r.fetchRange.start||e.end>r.fetchRange.end:!r.latestFetchId}function Ml(r,e,t,n,s){let i={};for(let a in r){let o=r[a];e[a]?i[a]=s_(o,t,n,s):i[a]=o}return i}function s_(r,e,t,n){let{options:s,calendarApi:i}=n,a=n.pluginHooks.eventSourceDefs[r.sourceDefId],o=bn();return a.fetch({eventSource:r,range:e,isRefetch:t,context:n},l=>{let{rawEvents:d}=l;s.eventSourceSuccess&&(d=s.eventSourceSuccess.call(i,d,l.response)||d),r.success&&(d=r.success.call(i,d,l.response)||d),n.dispatch({type:"RECEIVE_EVENTS",sourceId:r.sourceId,fetchId:o,fetchRange:e,rawEvents:d})},l=>{let d=!1;s.eventSourceFailure&&(s.eventSourceFailure.call(i,l),d=!0),r.failure&&(r.failure(l),d=!0),d||console.warn(l.message,l),n.dispatch({type:"RECEIVE_EVENT_ERROR",sourceId:r.sourceId,fetchId:o,fetchRange:e,error:l})}),Object.assign(Object.assign({},r),{isFetching:!0,latestFetchId:o})}function i_(r,e,t,n){let s=r[e];return s&&t===s.latestFetchId?Object.assign(Object.assign({},r),{[e]:Object.assign(Object.assign({},s),{isFetching:!1,fetchRange:n})}):r}function Cf(r,e){return gn(r,t=>kf(t,e))}function a_(r,e){let t=Ph(e),n=[].concat(r.eventSources||[]),s=[];r.initialEvents&&n.unshift(r.initialEvents),r.events&&n.unshift(r.events);for(let i of n){let a=Mh(i,e,t);a&&s.push(a)}return s}function kf(r,e){return!e.pluginHooks.eventSourceDefs[r.sourceDefId].ignoreRange}function o_(r,e){switch(e.type){case"UNSELECT_DATES":return null;case"SELECT_DATES":return e.selection;default:return r}}function l_(r,e){switch(e.type){case"UNSELECT_EVENT":return"";case"SELECT_EVENT":return e.eventInstanceId;default:return r}}function c_(r,e){let t;switch(e.type){case"UNSET_EVENT_DRAG":return null;case"SET_EVENT_DRAG":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return r}}function d_(r,e){let t;switch(e.type){case"UNSET_EVENT_RESIZE":return null;case"SET_EVENT_RESIZE":return t=e.state,{affectedEvents:t.affectedEvents,mutatedEvents:t.mutatedEvents,isEvent:t.isEvent};default:return r}}function u_(r,e,t,n,s){let i=r.headerToolbar?_d(r.headerToolbar,r,e,t,n,s):null,a=r.footerToolbar?_d(r.footerToolbar,r,e,t,n,s):null;return{header:i,footer:a}}function _d(r,e,t,n,s,i){let a={},o=[],l=!1;for(let d in r){let c=r[d],f=h_(c,e,t,n,s,i);a[d]=f.widgets,o.push(...f.viewsWithButtons),l=l||f.hasTitle}return{sectionWidgets:a,viewsWithButtons:o,hasTitle:l}}function h_(r,e,t,n,s,i){let a=e.direction==="rtl",o=e.customButtons||{},l=t.buttonText||{},d=e.buttonText||{},c=t.buttonHints||{},f=e.buttonHints||{},h=r?r.split(" "):[],g=[],v=!1;return{widgets:h.map(p=>p.split(",").map(S=>{if(S==="title")return v=!0,{buttonName:S};let w,k,E,T,H,R;if(w=o[S])E=O=>{w.click&&w.click.call(O.target,O,O.target)},(T=n.getCustomButtonIconClass(w))||(T=n.getIconClass(S,a))||(H=w.text),R=w.hint||w.text;else if(k=s[S]){g.push(S),E=()=>{i.changeView(S)},(H=k.buttonTextOverride)||(T=n.getIconClass(S,a))||(H=k.buttonTextDefault);let O=k.buttonTextOverride||k.buttonTextDefault;R=ks(k.buttonTitleOverride||k.buttonTitleDefault||e.viewHint,[O,S],O)}else if(i[S])if(E=()=>{i[S]()},(H=l[S])||(T=n.getIconClass(S,a))||(H=d[S]),S==="prevYear"||S==="nextYear"){let O=S==="prevYear"?"prev":"next";R=ks(c[O]||f[O],[d.year||"year","year"],d[S])}else R=O=>ks(c[S]||f[S],[d[O]||O,O],d[S]);return{buttonName:S,buttonClick:E,buttonIcon:T,buttonText:H,buttonHint:R}})),viewsWithButtons:g,hasTitle:v}}class f_{constructor(e,t,n){this.type=e,this.getCurrentData=t,this.dateEnv=n}get calendar(){return this.getCurrentData().calendarApi}get title(){return this.getCurrentData().viewTitle}get activeStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.start)}get activeEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.activeRange.end)}get currentStart(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.start)}get currentEnd(){return this.dateEnv.toDate(this.getCurrentData().dateProfile.currentRange.end)}getOption(e){return this.getCurrentData().options[e]}}let g_={ignoreRange:!0,parseMeta(r){return Array.isArray(r.events)?r.events:null},fetch(r,e){e({rawEvents:r.eventSource.meta})}};const m_=lr({name:"array-event-source",eventSourceDefs:[g_]});let p_={parseMeta(r){return typeof r.events=="function"?r.events:null},fetch(r,e,t){const{dateEnv:n}=r.context,s=r.eventSource.meta;kw(s.bind(null,Vh(r.range,n)),i=>e({rawEvents:i}),t)}};const y_=lr({name:"func-event-source",eventSourceDefs:[p_]}),v_={method:String,extraParams:j,startParam:String,endParam:String,timeZoneParam:String};let b_={parseMeta(r){return r.url&&(r.format==="json"||!r.format)?{url:r.url,format:"json",method:(r.method||"GET").toUpperCase(),extraParams:r.extraParams,startParam:r.startParam,endParam:r.endParam,timeZoneParam:r.timeZoneParam}:null},fetch(r,e,t){const{meta:n}=r.eventSource,s=x_(n,r.range,r.context);Aw(n.method,n.url,s).then(([i,a])=>{e({rawEvents:i,response:a})},t)}};const w_=lr({name:"json-event-source",eventSourceRefiners:v_,eventSourceDefs:[b_]});function x_(r,e,t){let{dateEnv:n,options:s}=t,i,a,o,l,d={};return i=r.startParam,i==null&&(i=s.startParam),a=r.endParam,a==null&&(a=s.endParam),o=r.timeZoneParam,o==null&&(o=s.timeZoneParam),typeof r.extraParams=="function"?l=r.extraParams():l=r.extraParams||{},Object.assign(d,l),d[i]=n.formatIso(e.start),d[a]=n.formatIso(e.end),n.timeZone!=="local"&&(d[o]=n.timeZone),d}const __={daysOfWeek:j,startTime:je,endTime:je,duration:je,startRecur:j,endRecur:j};let S_={parse(r,e){if(r.daysOfWeek||r.startTime||r.endTime||r.startRecur||r.endRecur){let t={daysOfWeek:r.daysOfWeek||null,startTime:r.startTime||null,endTime:r.endTime||null,startRecur:r.startRecur?e.createMarker(r.startRecur):null,endRecur:r.endRecur?e.createMarker(r.endRecur):null,dateEnv:e},n;return r.duration&&(n=r.duration),!n&&r.startTime&&r.endTime&&(n=Ub(r.endTime,r.startTime)),{allDayGuess:!r.startTime&&!r.endTime,duration:n,typeData:t}}return null},expand(r,e,t){let n=mn(e,{start:r.startRecur,end:r.endRecur});return n?C_(r.daysOfWeek,r.startTime,r.dateEnv,t,n):[]}};const E_=lr({name:"simple-recurring-event",recurringTypes:[S_],eventRefiners:__});function C_(r,e,t,n,s){let i=r?_h(r):null,a=$e(s.start),o=s.end,l=[];for(;a<o;){let d;(!i||i[a.getUTCDay()])&&(e?d=n.add(a,e):d=a,l.push(n.createMarker(t.toDate(d)))),a=ot(a,1)}return l}const k_=lr({name:"change-handler",optionChangeHandlers:{events(r,e){Sd([r],e)},eventSources:Sd}});function Sd(r,e){let t=ml(e.getCurrentData().eventSources);if(t.length===1&&r.length===1&&Array.isArray(t[0]._raw)&&Array.isArray(r[0])){e.dispatch({type:"RESET_RAW_EVENTS",sourceId:t[0].sourceId,rawEvents:r[0]});return}let n=[];for(let s of r){let i=!1;for(let a=0;a<t.length;a+=1)if(t[a]._raw===s){t.splice(a,1),i=!0;break}i||n.push(s)}for(let s of t)e.dispatch({type:"REMOVE_EVENT_SOURCE",sourceId:s.sourceId});for(let s of n)e.calendarApi.addEventSource(s)}function A_(r,e){e.emitter.trigger("datesSet",Object.assign(Object.assign({},Vh(r.activeRange,e.dateEnv)),{view:e.viewApi}))}function D_(r,e){let{emitter:t}=e;t.hasHandlers("eventsSet")&&t.trigger("eventsSet",dn(r,e))}const j_=[m_,y_,w_,E_,k_,lr({name:"misc",isLoadingFuncs:[r=>_f(r.eventSources)],propSetHandlers:{dateProfile:A_,eventStore:D_}})];class R_{constructor(e,t){this.runTaskOption=e,this.drainedOption=t,this.queue=[],this.delayedRunner=new al(this.drain.bind(this))}request(e,t){this.queue.push(e),this.delayedRunner.request(t)}pause(e){this.delayedRunner.pause(e)}resume(e,t){this.delayedRunner.resume(e,t)}drain(){let{queue:e}=this;for(;e.length;){let t=[],n;for(;n=e.shift();)this.runTask(n),t.push(n);this.drained(t)}}runTask(e){this.runTaskOption&&this.runTaskOption(e)}drained(e){this.drainedOption&&this.drainedOption(e)}}function T_(r,e,t){let n;return/^(year|month)$/.test(r.currentRangeUnit)?n=r.currentRange:n=r.activeRange,t.formatRange(n.start,n.end,Qe(e.titleFormat||N_(r)),{isEndExclusive:r.isRangeAllDay,defaultSeparator:e.titleRangeSeparator})}function N_(r){let{currentRangeUnit:e}=r;if(e==="year")return{year:"numeric"};if(e==="month")return{year:"numeric",month:"long"};let t=Bi(r.currentRange.start,r.currentRange.end);return t!==null&&t>1?{year:"numeric",month:"short",day:"numeric"}:{year:"numeric",month:"long",day:"numeric"}}class Ed{constructor(){this.resetListeners=new Set}handleInput(e,t){const n=this.dateEnv;if(e!==n&&(typeof t=="function"?this.nowFn=t:n||(this.nowAnchorDate=e.toDate(t?e.createMarker(t):e.createNowMarker()),this.nowAnchorQueried=Date.now()),this.dateEnv=e,n))for(const s of this.resetListeners.values())s()}getDateMarker(){return this.nowAnchorDate?this.dateEnv.timestampToMarker(this.nowAnchorDate.valueOf()+(Date.now()-this.nowAnchorQueried)):this.dateEnv.createMarker(this.nowFn())}addResetListener(e){this.resetListeners.add(e)}removeResetListener(e){this.resetListeners.delete(e)}}class O_{constructor(e){this.computeCurrentViewData=he(this._computeCurrentViewData),this.organizeRawLocales=he(Mx),this.buildLocale=he(wf),this.buildPluginHooks=Ux(),this.buildDateEnv=he(I_),this.buildTheme=he(M_),this.parseToolbars=he(u_),this.buildViewSpecs=he(Wx),this.buildDateProfileGenerator=ji(P_),this.buildViewApi=he(L_),this.buildViewUiProps=ji(H_),this.buildEventUiBySource=he(F_,Vt),this.buildEventUiBases=he(U_),this.parseContextBusinessHours=ji(B_),this.buildTitle=he(T_),this.nowManager=new Ed,this.emitter=new ma,this.actionRunner=new R_(this._handleAction.bind(this),this.updateData.bind(this)),this.currentCalendarOptionsInput={},this.currentCalendarOptionsRefined={},this.currentViewOptionsInput={},this.currentViewOptionsRefined={},this.currentCalendarOptionsRefiners={},this.optionsForRefining=[],this.optionsForHandling=[],this.getCurrentData=()=>this.data,this.dispatch=h=>{this.actionRunner.request(h)},this.props=e,this.actionRunner.pause(),this.nowManager=new Ed;let t={},n=this.computeOptionsData(e.optionOverrides,t,e.calendarApi),s=n.calendarOptions.initialView||n.pluginHooks.initialView,i=this.computeCurrentViewData(s,n,e.optionOverrides,t);e.calendarApi.currentDataManager=this,this.emitter.setThisContext(e.calendarApi),this.emitter.setOptions(i.options);let a={nowManager:this.nowManager,dateEnv:n.dateEnv,options:n.calendarOptions,pluginHooks:n.pluginHooks,calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},o=Kx(n.calendarOptions,n.dateEnv,this.nowManager),l=i.dateProfileGenerator.build(o);tr(l.activeRange,o)||(o=l.currentRange.start);for(let h of n.pluginHooks.contextInit)h(a);let d=Xx(n.calendarOptions,l,a),c={dynamicOptionOverrides:t,currentViewType:s,currentDate:o,dateProfile:l,businessHours:this.parseContextBusinessHours(a),eventSources:d,eventUiBases:{},eventStore:Et(),renderableEventStore:Et(),dateSelection:null,eventSelection:"",eventDrag:null,eventResize:null,selectionConfig:this.buildViewUiProps(a).selectionConfig},f=Object.assign(Object.assign({},a),c);for(let h of n.pluginHooks.reducers)Object.assign(c,h(null,null,f));Ya(c,a)&&this.emitter.trigger("loading",!0),this.state=c,this.updateData(),this.actionRunner.resume()}resetOptions(e,t){let{props:n}=this;t===void 0?n.optionOverrides=e:(n.optionOverrides=Object.assign(Object.assign({},n.optionOverrides||{}),e),this.optionsForRefining.push(...t)),(t===void 0||t.length)&&this.actionRunner.request({type:"NOTHING"})}_handleAction(e){let{props:t,state:n,emitter:s}=this,i=Jx(n.dynamicOptionOverrides,e),a=this.computeOptionsData(t.optionOverrides,i,t.calendarApi),o=Qx(n.currentViewType,e),l=this.computeCurrentViewData(o,a,t.optionOverrides,i);t.calendarApi.currentDataManager=this,s.setThisContext(t.calendarApi),s.setOptions(l.options);let d={nowManager:this.nowManager,dateEnv:a.dateEnv,options:a.calendarOptions,pluginHooks:a.pluginHooks,calendarApi:t.calendarApi,dispatch:this.dispatch,emitter:s,getCurrentData:this.getCurrentData},{currentDate:c,dateProfile:f}=n;this.data&&this.data.dateProfileGenerator!==l.dateProfileGenerator&&(f=l.dateProfileGenerator.build(c)),c=Yx(c,e),f=Zx(f,e,c,l.dateProfileGenerator),(e.type==="PREV"||e.type==="NEXT"||!tr(f.currentRange,c))&&(c=f.currentRange.start);let h=e_(n.eventSources,e,f,d),g=X0(n.eventStore,e,h,f,d),y=_f(h)&&!l.options.progressiveEventRendering&&n.renderableEventStore||g,{eventUiSingleBase:p,selectionConfig:S}=this.buildViewUiProps(d),w=this.buildEventUiBySource(h),k=this.buildEventUiBases(y.defs,p,w),E={dynamicOptionOverrides:i,currentViewType:o,currentDate:c,dateProfile:f,eventSources:h,eventStore:g,renderableEventStore:y,selectionConfig:S,eventUiBases:k,businessHours:this.parseContextBusinessHours(d),dateSelection:o_(n.dateSelection,e),eventSelection:l_(n.eventSelection,e),eventDrag:c_(n.eventDrag,e),eventResize:d_(n.eventResize,e)},T=Object.assign(Object.assign({},d),E);for(let O of a.pluginHooks.reducers)Object.assign(E,O(n,e,T));let H=Ya(n,d),R=Ya(E,d);!H&&R?s.trigger("loading",!0):H&&!R&&s.trigger("loading",!1),this.state=E,t.onAction&&t.onAction(e)}updateData(){let{props:e,state:t}=this,n=this.data,s=this.computeOptionsData(e.optionOverrides,t.dynamicOptionOverrides,e.calendarApi),i=this.computeCurrentViewData(t.currentViewType,s,e.optionOverrides,t.dynamicOptionOverrides),a=this.data=Object.assign(Object.assign(Object.assign({nowManager:this.nowManager,viewTitle:this.buildTitle(t.dateProfile,i.options,s.dateEnv),calendarApi:e.calendarApi,dispatch:this.dispatch,emitter:this.emitter,getCurrentData:this.getCurrentData},s),i),t),o=s.pluginHooks.optionChangeHandlers,l=n&&n.calendarOptions,d=s.calendarOptions;if(l&&l!==d){l.timeZone!==d.timeZone&&(t.eventSources=a.eventSources=t_(a.eventSources,t.dateProfile,a),t.eventStore=a.eventStore=fd(a.eventStore,n.dateEnv,a.dateEnv),t.renderableEventStore=a.renderableEventStore=fd(a.renderableEventStore,n.dateEnv,a.dateEnv));for(let c in o)(this.optionsForHandling.indexOf(c)!==-1||l[c]!==d[c])&&o[c](d[c],a)}this.optionsForHandling=[],e.onData&&e.onData(a)}computeOptionsData(e,t,n){if(!this.optionsForRefining.length&&e===this.stableOptionOverrides&&t===this.stableDynamicOptionOverrides)return this.stableCalendarOptionsData;let{refinedOptions:s,pluginHooks:i,localeDefaults:a,availableLocaleData:o,extra:l}=this.processRawCalendarOptions(e,t);Cd(l);let d=this.buildDateEnv(s.timeZone,s.locale,s.weekNumberCalculation,s.firstDay,s.weekText,i,o,s.defaultRangeSeparator),c=this.buildViewSpecs(i.views,this.stableOptionOverrides,this.stableDynamicOptionOverrides,a),f=this.buildTheme(s,i),h=this.parseToolbars(s,this.stableOptionOverrides,f,c,n);return this.stableCalendarOptionsData={calendarOptions:s,pluginHooks:i,dateEnv:d,viewSpecs:c,theme:f,toolbarConfig:h,localeDefaults:a,availableRawLocales:o.map}}processRawCalendarOptions(e,t){let{locales:n,locale:s}=Ha([As,e,t]),i=this.organizeRawLocales(n),a=i.map,o=this.buildLocale(s||i.defaultCode,a).options,l=this.buildPluginHooks(e.plugins||[],j_),d=this.currentCalendarOptionsRefiners=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},od),ld),cd),l.listenerRefiners),l.optionRefiners),c={},f=Ha([As,o,e,t]),h={},g=this.currentCalendarOptionsInput,v=this.currentCalendarOptionsRefined,y=!1;for(let p in f)this.optionsForRefining.indexOf(p)===-1&&(f[p]===g[p]||Yr[p]&&p in g&&Yr[p](g[p],f[p]))?h[p]=v[p]:d[p]?(h[p]=d[p](f[p]),y=!0):c[p]=g[p];return y&&(this.currentCalendarOptionsInput=f,this.currentCalendarOptionsRefined=h,this.stableOptionOverrides=e,this.stableDynamicOptionOverrides=t),this.optionsForHandling.push(...this.optionsForRefining),this.optionsForRefining=[],{rawOptions:this.currentCalendarOptionsInput,refinedOptions:this.currentCalendarOptionsRefined,pluginHooks:l,availableLocaleData:i,localeDefaults:o,extra:c}}_computeCurrentViewData(e,t,n,s){let i=t.viewSpecs[e];if(!i)throw new Error(`viewType "${e}" is not available. Please make sure you've loaded all neccessary plugins`);let{refinedOptions:a,extra:o}=this.processRawViewOptions(i,t.pluginHooks,t.localeDefaults,n,s);Cd(o),this.nowManager.handleInput(t.dateEnv,a.now);let l=this.buildDateProfileGenerator({dateProfileGeneratorClass:i.optionDefaults.dateProfileGeneratorClass,nowManager:this.nowManager,duration:i.duration,durationUnit:i.durationUnit,usesMinMaxTime:i.optionDefaults.usesMinMaxTime,dateEnv:t.dateEnv,calendarApi:this.props.calendarApi,slotMinTime:a.slotMinTime,slotMaxTime:a.slotMaxTime,showNonCurrentDates:a.showNonCurrentDates,dayCount:a.dayCount,dateAlignment:a.dateAlignment,dateIncrement:a.dateIncrement,hiddenDays:a.hiddenDays,weekends:a.weekends,validRangeInput:a.validRange,visibleRangeInput:a.visibleRange,fixedWeekCount:a.fixedWeekCount}),d=this.buildViewApi(e,this.getCurrentData,t.dateEnv);return{viewSpec:i,options:a,dateProfileGenerator:l,viewApi:d}}processRawViewOptions(e,t,n,s,i){let a=Ha([As,e.optionDefaults,n,s,e.optionOverrides,i]),o=Object.assign(Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},od),ld),cd),v0),t.listenerRefiners),t.optionRefiners),l={},d=this.currentViewOptionsInput,c=this.currentViewOptionsRefined,f=!1,h={};for(let g in a)a[g]===d[g]||Yr[g]&&Yr[g](a[g],d[g])?l[g]=c[g]:(a[g]===this.currentCalendarOptionsInput[g]||Yr[g]&&Yr[g](a[g],this.currentCalendarOptionsInput[g])?g in this.currentCalendarOptionsRefined&&(l[g]=this.currentCalendarOptionsRefined[g]):o[g]?l[g]=o[g](a[g]):h[g]=a[g],f=!0);return f&&(this.currentViewOptionsInput=a,this.currentViewOptionsRefined=l),{rawOptions:this.currentViewOptionsInput,refinedOptions:this.currentViewOptionsRefined,extra:h}}}function I_(r,e,t,n,s,i,a,o){let l=wf(e||a.defaultCode,a.map);return new D0({calendarSystem:"gregory",timeZone:r,namedTimeZoneImpl:i.namedTimeZonedImpl,locale:l,weekNumberCalculation:t,firstDay:n,weekText:s,cmdFormatter:i.cmdFormatter,defaultSeparator:o})}function M_(r,e){let t=e.themeClasses[r.themeSystem]||zr;return new t(r)}function P_(r){let e=r.dateProfileGeneratorClass||Rh;return new e(r)}function L_(r,e,t){return new f_(r,e,t)}function F_(r){return sr(r,e=>e.ui)}function U_(r,e,t){let n={"":e};for(let s in r){let i=r[s];i.sourceId&&t[i.sourceId]&&(n[s]=t[i.sourceId])}return n}function H_(r){let{options:e}=r;return{eventUiSingleBase:Qi({display:e.eventDisplay,editable:e.editable,startEditable:e.eventStartEditable,durationEditable:e.eventDurationEditable,constraint:e.eventConstraint,overlap:typeof e.eventOverlap=="boolean"?e.eventOverlap:void 0,allow:e.eventAllow,backgroundColor:e.eventBackgroundColor,borderColor:e.eventBorderColor,textColor:e.eventTextColor,color:e.eventColor},r),selectionConfig:Qi({constraint:e.selectConstraint,overlap:typeof e.selectOverlap=="boolean"?e.selectOverlap:void 0,allow:e.selectAllow},r)}}function Ya(r,e){for(let t of e.pluginHooks.isLoadingFuncs)if(t(r))return!0;return!1}function B_(r){return lw(r.options.businessHours,r)}function Cd(r,e){for(let t in r)console.warn(`Unknown option '${t}'`)}class $_ extends Ie{render(){let e=this.props.widgetGroups.map(t=>this.renderWidgetGroup(t));return x("div",{className:"fc-toolbar-chunk"},...e)}renderWidgetGroup(e){let{props:t}=this,{theme:n}=this.context,s=[],i=!0;for(let a of e){let{buttonName:o,buttonClick:l,buttonText:d,buttonIcon:c,buttonHint:f}=a;if(o==="title")i=!1,s.push(x("h2",{className:"fc-toolbar-title",id:t.titleId},t.title));else{let h=o===t.activeButton,g=!t.isTodayEnabled&&o==="today"||!t.isPrevEnabled&&o==="prev"||!t.isNextEnabled&&o==="next",v=[`fc-${o}-button`,n.getClass("button")];h&&v.push(n.getClass("buttonActive")),s.push(x("button",{type:"button",title:typeof f=="function"?f(t.navUnit):f,disabled:g,"aria-pressed":h,className:v.join(" "),onClick:l},d||(c?x("span",{className:c,role:"img"}):"")))}}if(s.length>1){let a=i&&n.getClass("buttonGroup")||"";return x("div",{className:a},...s)}return s[0]}}class kd extends Ie{render(){let{model:e,extraClassName:t}=this.props,n=!1,s,i,a=e.sectionWidgets,o=a.center;return a.left?(n=!0,s=a.left):s=a.start,a.right?(n=!0,i=a.right):i=a.end,x("div",{className:[t||"","fc-toolbar",n?"fc-toolbar-ltr":""].join(" ")},this.renderSection("start",s||[]),this.renderSection("center",o||[]),this.renderSection("end",i||[]))}renderSection(e,t){let{props:n}=this;return x($_,{key:e,widgetGroups:t,title:n.title,navUnit:n.navUnit,activeButton:n.activeButton,isTodayEnabled:n.isTodayEnabled,isPrevEnabled:n.isPrevEnabled,isNextEnabled:n.isNextEnabled,titleId:n.titleId})}}class z_ extends Ie{constructor(){super(...arguments),this.state={availableWidth:null},this.handleEl=e=>{this.el=e,ir(this.props.elRef,e),this.updateAvailableWidth()},this.handleResize=()=>{this.updateAvailableWidth()}}render(){let{props:e,state:t}=this,{aspectRatio:n}=e,s=["fc-view-harness",n||e.liquid||e.height?"fc-view-harness-active":"fc-view-harness-passive"],i="",a="";return n?t.availableWidth!==null?i=t.availableWidth/n:a=`${1/n*100}%`:i=e.height||"",x("div",{"aria-labelledby":e.labeledById,ref:this.handleEl,className:s.join(" "),style:{height:i,paddingBottom:a}},e.children)}componentDidMount(){this.context.addResizeHandler(this.handleResize)}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}updateAvailableWidth(){this.el&&this.props.aspectRatio&&this.setState({availableWidth:this.el.offsetWidth})}}class q_ extends ls{constructor(e){super(e),this.handleSegClick=(t,n)=>{let{component:s}=this,{context:i}=s,a=ts(n);if(a&&s.isValidSegDownEl(t.target)){let o=at(t.target,".fc-event-forced-url"),l=o?o.querySelector("a[href]").href:"";i.emitter.trigger("eventClick",{el:n,event:new Ve(s.context,a.eventRange.def,a.eventRange.instance),jsEvent:t,view:i.viewApi}),l&&!t.defaultPrevented&&(window.location.href=l)}},this.destroy=yh(e.el,"click",".fc-event",this.handleSegClick)}}class W_ extends ls{constructor(e){super(e),this.handleEventElRemove=t=>{t===this.currentSegEl&&this.handleSegLeave(null,this.currentSegEl)},this.handleSegEnter=(t,n)=>{ts(n)&&(this.currentSegEl=n,this.triggerEvent("eventMouseEnter",t,n))},this.handleSegLeave=(t,n)=>{this.currentSegEl&&(this.currentSegEl=null,this.triggerEvent("eventMouseLeave",t,n))},this.removeHoverListeners=Eb(e.el,".fc-event",this.handleSegEnter,this.handleSegLeave)}destroy(){this.removeHoverListeners()}triggerEvent(e,t,n){let{component:s}=this,{context:i}=s,a=ts(n);(!t||s.isValidSegDownEl(t.target))&&i.emitter.trigger(e,{el:n,event:new Ve(i,a.eventRange.def,a.eventRange.instance),jsEvent:t,view:i.viewApi})}}class V_ extends xn{constructor(){super(...arguments),this.buildViewContext=he(T0),this.buildViewPropTransformers=he(Q_),this.buildToolbarProps=he(G_),this.headerRef=gt(),this.footerRef=gt(),this.interactionsStore={},this.state={viewLabelId:ua()},this.registerInteractiveComponent=(e,t)=>{let n=Rw(e,t),a=[q_,W_].concat(this.props.pluginHooks.componentInteractions).map(o=>new o(n));this.interactionsStore[e.uid]=a,Po[e.uid]=n},this.unregisterInteractiveComponent=e=>{let t=this.interactionsStore[e.uid];if(t){for(let n of t)n.destroy();delete this.interactionsStore[e.uid]}delete Po[e.uid]},this.resizeRunner=new al(()=>{this.props.emitter.trigger("_resize",!0),this.props.emitter.trigger("windowResize",{view:this.props.viewApi})}),this.handleWindowResize=e=>{let{options:t}=this.props;t.handleWindowResize&&e.target===window&&this.resizeRunner.request(t.windowResizeDelay)}}render(){let{props:e}=this,{toolbarConfig:t,options:n}=e,s=!1,i="",a;e.isHeightAuto||e.forPrint?i="":n.height!=null?s=!0:n.contentHeight!=null?i=n.contentHeight:a=Math.max(n.aspectRatio,.5);let o=this.buildViewContext(e.viewSpec,e.viewApi,e.options,e.dateProfileGenerator,e.dateEnv,e.nowManager,e.theme,e.pluginHooks,e.dispatch,e.getCurrentData,e.emitter,e.calendarApi,this.registerInteractiveComponent,this.unregisterInteractiveComponent),l=t.header&&t.header.hasTitle?this.state.viewLabelId:void 0;return x(or.Provider,{value:o},x(cs,{unit:"day"},d=>{let c=this.buildToolbarProps(e.viewSpec,e.dateProfile,e.dateProfileGenerator,e.currentDate,d,e.viewTitle);return x(Be,null,t.header&&x(kd,Object.assign({ref:this.headerRef,extraClassName:"fc-header-toolbar",model:t.header,titleId:l},c)),x(z_,{liquid:s,height:i,aspectRatio:a,labeledById:l},this.renderView(e),this.buildAppendContent()),t.footer&&x(kd,Object.assign({ref:this.footerRef,extraClassName:"fc-footer-toolbar",model:t.footer,titleId:""},c)))}))}componentDidMount(){let{props:e}=this;this.calendarInteractions=e.pluginHooks.calendarInteractions.map(n=>new n(e)),window.addEventListener("resize",this.handleWindowResize);let{propSetHandlers:t}=e.pluginHooks;for(let n in t)t[n](e[n],e)}componentDidUpdate(e){let{props:t}=this,{propSetHandlers:n}=t.pluginHooks;for(let s in n)t[s]!==e[s]&&n[s](t[s],t)}componentWillUnmount(){window.removeEventListener("resize",this.handleWindowResize),this.resizeRunner.clear();for(let e of this.calendarInteractions)e.destroy();this.props.emitter.trigger("_unmount")}buildAppendContent(){let{props:e}=this,t=e.pluginHooks.viewContainerAppends.map(n=>n(e));return x(Be,{},...t)}renderView(e){let{pluginHooks:t}=e,{viewSpec:n}=e,s={dateProfile:e.dateProfile,businessHours:e.businessHours,eventStore:e.renderableEventStore,eventUiBases:e.eventUiBases,dateSelection:e.dateSelection,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,isHeightAuto:e.isHeightAuto,forPrint:e.forPrint},i=this.buildViewPropTransformers(t.viewPropsTransformers);for(let o of i)Object.assign(s,o.transform(s,e));let a=n.component;return x(a,Object.assign({},s))}}function G_(r,e,t,n,s,i){let a=t.build(s,void 0,!1),o=t.buildPrev(e,n,!1),l=t.buildNext(e,n,!1);return{title:i,activeButton:r.type,navUnit:r.singleUnit,isTodayEnabled:a.isValid&&!tr(e.currentRange,s),isPrevEnabled:o.isValid,isNextEnabled:l.isValid}}function Q_(r){return r.map(e=>new e)}class Y_ extends Nw{constructor(e,t={}){super(),this.isRendering=!1,this.isRendered=!1,this.currentClassNames=[],this.customContentRenderId=0,this.handleAction=n=>{switch(n.type){case"SET_EVENT_DRAG":case"SET_EVENT_RESIZE":this.renderRunner.tryDrain()}},this.handleData=n=>{this.currentData=n,this.renderRunner.request(n.calendarOptions.rerenderDelay)},this.handleRenderRequest=()=>{if(this.isRendering){this.isRendered=!0;let{currentData:n}=this;Wi(()=>{Os(x(jw,{options:n.calendarOptions,theme:n.theme,emitter:n.emitter},(s,i,a,o)=>(this.setClassNames(s),this.setHeight(i),x(kh.Provider,{value:this.customContentRenderId},x(V_,Object.assign({isHeightAuto:a,forPrint:o},n))))),this.el)})}else this.isRendered&&(this.isRendered=!1,Os(null,this.el),this.setClassNames([]),this.setHeight(""))},mb(e),this.el=e,this.renderRunner=new al(this.handleRenderRequest),new O_({optionOverrides:t,calendarApi:this,onAction:this.handleAction,onData:this.handleData})}render(){let e=this.isRendering;e?this.customContentRenderId+=1:this.isRendering=!0,this.renderRunner.request(),e&&this.updateSize()}destroy(){this.isRendering&&(this.isRendering=!1,this.renderRunner.request())}updateSize(){Wi(()=>{super.updateSize()})}batchRendering(e){this.renderRunner.pause("batchRendering"),e(),this.renderRunner.resume("batchRendering")}pauseRendering(){this.renderRunner.pause("pauseRendering")}resumeRendering(){this.renderRunner.resume("pauseRendering",!0)}resetOptions(e,t){this.currentDataManager.resetOptions(e,t)}setClassNames(e){if(!Fr(e,this.currentClassNames)){let{classList:t}=this.el;for(let n of this.currentClassNames)t.remove(n);for(let n of e)t.add(n);this.currentClassNames=e}}setHeight(e){mh(this.el,"height",e)}}const K_=parseInt(String(Jn.version).split(".")[0]),J_=K_<18;class Af extends M.Component{constructor(){super(...arguments),this.elRef=M.createRef(),this.isUpdating=!1,this.isUnmounting=!1,this.state={customRenderingMap:new Map},this.requestResize=()=>{this.isUnmounting||(this.cancelResize(),this.resizeId=requestAnimationFrame(()=>{this.doResize()}))}}render(){const e=[];for(const t of this.state.customRenderingMap.values())e.push(Jn.createElement(Z_,{key:t.id,customRendering:t}));return Jn.createElement("div",{ref:this.elRef},e)}componentDidMount(){this.isUnmounting=!1;const e=new Ox;this.handleCustomRendering=e.handle.bind(e),this.calendar=new Y_(this.elRef.current,Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.calendar.render(),this.calendar.on("_beforeprint",()=>{Ti.flushSync(()=>{})});let t;e.subscribe(n=>{const s=Date.now(),i=!t;(J_||i||this.isUpdating||this.isUnmounting||s-t<100?Df:Ti.flushSync)(()=>{this.setState({customRenderingMap:n},()=>{t=s,i?this.doResize():this.requestResize()})})})}componentDidUpdate(){this.isUpdating=!0,this.calendar.resetOptions(Object.assign(Object.assign({},this.props),{handleCustomRendering:this.handleCustomRendering})),this.isUpdating=!1}componentWillUnmount(){this.isUnmounting=!0,this.cancelResize(),this.calendar.destroy()}doResize(){this.calendar.updateSize()}cancelResize(){this.resizeId!==void 0&&(cancelAnimationFrame(this.resizeId),this.resizeId=void 0)}getApi(){return this.calendar}}Af.act=Df;class Z_ extends M.PureComponent{render(){const{customRendering:e}=this.props,{generatorMeta:t}=e,n=typeof t=="function"?t(e.renderProps):t;return Ti.createPortal(n,e.containerEl)}}function Df(r){r()}class X_ extends Gt{constructor(){super(...arguments),this.headerElRef=gt()}renderSimpleLayout(e,t){let{props:n,context:s}=this,i=[],a=Ji(s.options);return e&&i.push({type:"header",key:"header",isSticky:a,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),i.push({type:"body",key:"body",liquid:!0,chunk:{content:t}}),x(Vi,{elClasses:["fc-daygrid"],viewSpec:s.viewSpec},x(Rl,{liquid:!n.isHeightAuto&&!n.forPrint,collapsibleWidth:n.forPrint,cols:[],sections:i}))}renderHScrollLayout(e,t,n,s){let i=this.context.pluginHooks.scrollGridImpl;if(!i)throw new Error("No ScrollGrid implementation");let{props:a,context:o}=this,l=!a.forPrint&&Ji(o.options),d=!a.forPrint&&uf(o.options),c=[];return e&&c.push({type:"header",key:"header",isSticky:l,chunks:[{key:"main",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),c.push({type:"body",key:"body",liquid:!0,chunks:[{key:"main",content:t}]}),d&&c.push({type:"footer",key:"footer",isSticky:!0,chunks:[{key:"main",content:Uo}]}),x(Vi,{elClasses:["fc-daygrid"],viewSpec:o.viewSpec},x(i,{liquid:!a.isHeightAuto&&!a.forPrint,forPrint:a.forPrint,collapsibleWidth:a.forPrint,colGroups:[{cols:[{span:n,minWidth:s}]}],sections:c}))}}function xi(r,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of r)t[n.row].push(n);return t}function _i(r,e){let t=[];for(let n=0;n<e;n+=1)t[n]=[];for(let n of r)t[n.firstCol].push(n);return t}function Ad(r,e){let t=[];if(r){for(let n=0;n<e;n+=1)t[n]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let n of r.segs)t[n.row].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}const jf=Qe({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"narrow"});function Rf(r){let{display:e}=r.eventRange.ui;return e==="list-item"||e==="auto"&&!r.eventRange.def.allDay&&r.firstCol===r.lastCol&&r.isStart&&r.isEnd}class Tf extends Ie{render(){let{props:e}=this;return x(hf,Object.assign({},e,{elClasses:["fc-daygrid-event","fc-daygrid-block-event","fc-h-event"],defaultTimeFormat:jf,defaultDisplayEventEnd:e.defaultDisplayEventEnd,disableResizing:!e.seg.eventRange.def.allDay}))}}class Nf extends Ie{render(){let{props:e,context:t}=this,{options:n}=t,{seg:s}=e,i=n.eventTimeFormat||jf,a=zh(s,i,t,!0,e.defaultDisplayEventEnd);return x(Tl,Object.assign({},e,{elTag:"a",elClasses:["fc-daygrid-event","fc-daygrid-dot-event"],elAttrs:Wh(e.seg,t),defaultGenerator:eS,timeText:a,isResizing:!1,isDateSelecting:!1}))}}function eS(r){return x(Be,null,x("div",{className:"fc-daygrid-event-dot",style:{borderColor:r.borderColor||r.backgroundColor}}),r.timeText&&x("div",{className:"fc-event-time"},r.timeText),x("div",{className:"fc-event-title"},r.event.title||x(Be,null,"")))}class tS extends Ie{constructor(){super(...arguments),this.compileSegs=he(rS)}render(){let{props:e}=this,{allSegs:t,invisibleSegs:n}=this.compileSegs(e.singlePlacements);return x(pf,{elClasses:["fc-daygrid-more-link"],dateProfile:e.dateProfile,todayRange:e.todayRange,allDayDate:e.allDayDate,moreCnt:e.moreCnt,allSegs:t,hiddenSegs:n,alignmentElRef:e.alignmentElRef,alignGridTop:e.alignGridTop,extraDateSpan:e.extraDateSpan,popoverContent:()=>{let s=(e.eventDrag?e.eventDrag.affectedInstances:null)||(e.eventResize?e.eventResize.affectedInstances:null)||{};return x(Be,null,t.map(i=>{let a=i.eventRange.instance.instanceId;return x("div",{className:"fc-daygrid-event-harness",key:a,style:{visibility:s[a]?"hidden":""}},Rf(i)?x(Nf,Object.assign({seg:i,isDragging:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},Pr(i,e.todayRange))):x(Tf,Object.assign({seg:i,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:a===e.eventSelection,defaultDisplayEventEnd:!1},Pr(i,e.todayRange))))}))}})}}function rS(r){let e=[],t=[];for(let n of r)e.push(n.seg),n.isVisible||t.push(n.seg);return{allSegs:e,invisibleSegs:t}}const nS=Qe({week:"narrow"});class sS extends Gt{constructor(){super(...arguments),this.rootElRef=gt(),this.state={dayNumberId:ua()},this.handleRootEl=e=>{ir(this.rootElRef,e),ir(this.props.elRef,e)}}render(){let{context:e,props:t,state:n,rootElRef:s}=this,{options:i,dateEnv:a}=e,{date:o,dateProfile:l}=t;const d=t.showDayNumber&&aS(o,l.currentRange,a);return x(Ol,{elTag:"td",elRef:this.handleRootEl,elClasses:["fc-daygrid-day",...t.extraClassNames||[]],elAttrs:Object.assign(Object.assign(Object.assign({},t.extraDataAttrs),t.showDayNumber?{"aria-labelledby":n.dayNumberId}:{}),{role:"gridcell"}),defaultGenerator:iS,date:o,dateProfile:l,todayRange:t.todayRange,showDayNumber:t.showDayNumber,isMonthStart:d,extraRenderProps:t.extraRenderProps},(c,f)=>x("div",{ref:t.innerElRef,className:"fc-daygrid-day-frame fc-scrollgrid-sync-inner",style:{minHeight:t.minHeight}},t.showWeekNumber&&x(mf,{elTag:"a",elClasses:["fc-daygrid-week-number"],elAttrs:Ki(e,o,"week"),date:o,defaultFormat:nS}),!f.isDisabled&&(t.showDayNumber||Il(i)||t.forceDayTop)?x("div",{className:"fc-daygrid-day-top"},x(c,{elTag:"a",elClasses:["fc-daygrid-day-number",d&&"fc-daygrid-month-start"],elAttrs:Object.assign(Object.assign({},Ki(e,o)),{id:n.dayNumberId})})):t.showDayNumber?x("div",{className:"fc-daygrid-day-top",style:{visibility:"hidden"}},x("a",{className:"fc-daygrid-day-number"},"")):void 0,x("div",{className:"fc-daygrid-day-events",ref:t.fgContentElRef},t.fgContent,x("div",{className:"fc-daygrid-day-bottom",style:{marginTop:t.moreMarginTop}},x(tS,{allDayDate:o,singlePlacements:t.singlePlacements,moreCnt:t.moreCnt,alignmentElRef:s,alignGridTop:!t.showDayNumber,extraDateSpan:t.extraDateSpan,dateProfile:t.dateProfile,eventSelection:t.eventSelection,eventDrag:t.eventDrag,eventResize:t.eventResize,todayRange:t.todayRange}))),x("div",{className:"fc-daygrid-day-bg"},t.bgContent)))}}function iS(r){return r.dayNumberText||x(Be,null,"")}function aS(r,e,t){const{start:n,end:s}=e,i=Ur(s,-1),a=t.getYear(n),o=t.getMonth(n),l=t.getYear(i),d=t.getMonth(i);return!(a===l&&o===d)&&(r.valueOf()===n.valueOf()||t.getDay(r)===1&&r.valueOf()<s.valueOf())}function Of(r){return r.eventRange.instance.instanceId+":"+r.firstCol}function If(r){return Of(r)+":"+r.lastCol}function oS(r,e,t,n,s,i,a){let o=new dS(S=>{let w=r[S.index].eventRange.instance.instanceId+":"+S.span.start+":"+(S.span.end-1);return s[w]||1});o.allowReslicing=!0,o.strictOrder=n,e===!0||t===!0?(o.maxCoord=i,o.hiddenConsumes=!0):typeof e=="number"?o.maxStackCnt=e:typeof t=="number"&&(o.maxStackCnt=t,o.hiddenConsumes=!0);let l=[],d=[];for(let S=0;S<r.length;S+=1){let w=r[S],k=If(w);s[k]!=null?l.push({index:S,span:{start:w.firstCol,end:w.lastCol+1}}):d.push(w)}let c=o.addSegs(l),f=o.toRects(),{singleColPlacements:h,multiColPlacements:g,leftoverMargins:v}=lS(f,r,a),y=[],p=[];for(let S of d){g[S.firstCol].push({seg:S,isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let w=S.firstCol;w<=S.lastCol;w+=1)h[w].push({seg:Ln(S,w,w+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let S=0;S<a.length;S+=1)y.push(0);for(let S of c){let w=r[S.index],k=S.span;g[k.start].push({seg:Ln(w,k.start,k.end,a),isVisible:!1,isAbsolute:!0,absoluteTop:0,marginTop:0});for(let E=k.start;E<k.end;E+=1)y[E]+=1,h[E].push({seg:Ln(w,E,E+1,a),isVisible:!1,isAbsolute:!1,absoluteTop:0,marginTop:0})}for(let S=0;S<a.length;S+=1)p.push(v[S]);return{singleColPlacements:h,multiColPlacements:g,moreCnts:y,moreMarginTops:p}}function lS(r,e,t){let n=cS(r,t.length),s=[],i=[],a=[];for(let o=0;o<t.length;o+=1){let l=n[o],d=[],c=0,f=0;for(let g of l){let v=e[g.index];d.push({seg:Ln(v,o,o+1,t),isVisible:!0,isAbsolute:!1,absoluteTop:g.levelCoord,marginTop:g.levelCoord-c}),c=g.levelCoord+g.thickness}let h=[];c=0,f=0;for(let g of l){let v=e[g.index],y=g.span.end-g.span.start>1,p=g.span.start===o;f+=g.levelCoord-c,c=g.levelCoord+g.thickness,y?(f+=g.thickness,p&&h.push({seg:Ln(v,g.span.start,g.span.end,t),isVisible:!0,isAbsolute:!0,absoluteTop:g.levelCoord,marginTop:0})):p&&(h.push({seg:Ln(v,g.span.start,g.span.end,t),isVisible:!0,isAbsolute:!1,absoluteTop:g.levelCoord,marginTop:f}),f=0)}s.push(d),i.push(h),a.push(f)}return{singleColPlacements:s,multiColPlacements:i,leftoverMargins:a}}function cS(r,e){let t=[];for(let n=0;n<e;n+=1)t.push([]);for(let n of r)for(let s=n.span.start;s<n.span.end;s+=1)t[s].push(n);return t}function Ln(r,e,t,n){if(r.firstCol===e&&r.lastCol===t-1)return r;let s=r.eventRange,i=s.range,a=mn(i,{start:n[e].date,end:ot(n[t-1].date,1)});return Object.assign(Object.assign({},r),{firstCol:e,lastCol:t-1,eventRange:{def:s.def,ui:Object.assign(Object.assign({},s.ui),{durationEditable:!1}),instance:s.instance,range:a},isStart:r.isStart&&a.start.valueOf()===i.start.valueOf(),isEnd:r.isEnd&&a.end.valueOf()===i.end.valueOf()})}class dS extends Xh{constructor(){super(...arguments),this.hiddenConsumes=!1,this.forceHidden={}}addSegs(e){const t=super.addSegs(e),{entriesByLevel:n}=this,s=i=>!this.forceHidden[un(i)];for(let i=0;i<n.length;i+=1)n[i]=n[i].filter(s);return t}handleInvalidInsertion(e,t,n){const{entriesByLevel:s,forceHidden:i}=this,{touchingEntry:a,touchingLevel:o,touchingLateral:l}=e;if(this.hiddenConsumes&&a){const d=un(a);if(!i[d])if(this.allowReslicing){const c=Object.assign(Object.assign({},a),{span:Dl(a.span,t.span)}),f=un(c);i[f]=!0,s[o][l]=c,n.push(c),this.splitEntry(a,t,n)}else i[d]=!0,n.push(a)}super.handleInvalidInsertion(e,t,n)}}class Mf extends Gt{constructor(){super(...arguments),this.cellElRefs=new er,this.frameElRefs=new er,this.fgElRefs=new er,this.segHarnessRefs=new er,this.rootElRef=gt(),this.state={framePositions:null,maxContentHeight:null,segHeights:{}},this.handleResize=e=>{e&&this.updateSizing(!0)}}render(){let{props:e,state:t,context:n}=this,{options:s}=n,i=e.cells.length,a=_i(e.businessHourSegs,i),o=_i(e.bgEventSegs,i),l=_i(this.getHighlightSegs(),i),d=_i(this.getMirrorSegs(),i),{singleColPlacements:c,multiColPlacements:f,moreCnts:h,moreMarginTops:g}=oS($h(e.fgEventSegs,s.eventOrder),e.dayMaxEvents,e.dayMaxEventRows,s.eventOrderStrict,t.segHeights,t.maxContentHeight,e.cells),v=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{};return x("tr",{ref:this.rootElRef,role:"row"},e.renderIntro&&e.renderIntro(),e.cells.map((y,p)=>{let S=this.renderFgSegs(p,e.forPrint?c[p]:f[p],e.todayRange,v),w=this.renderFgSegs(p,uS(d[p],f),e.todayRange,{},!!e.eventDrag,!!e.eventResize,!1);return x(sS,{key:y.key,elRef:this.cellElRefs.createRef(y.key),innerElRef:this.frameElRefs.createRef(y.key),dateProfile:e.dateProfile,date:y.date,showDayNumber:e.showDayNumbers,showWeekNumber:e.showWeekNumbers&&p===0,forceDayTop:e.showWeekNumbers,todayRange:e.todayRange,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,extraRenderProps:y.extraRenderProps,extraDataAttrs:y.extraDataAttrs,extraClassNames:y.extraClassNames,extraDateSpan:y.extraDateSpan,moreCnt:h[p],moreMarginTop:g[p],singlePlacements:c[p],fgContentElRef:this.fgElRefs.createRef(y.key),fgContent:x(Be,null,x(Be,null,S),x(Be,null,w)),bgContent:x(Be,null,this.renderFillSegs(l[p],"highlight"),this.renderFillSegs(a[p],"non-business"),this.renderFillSegs(o[p],"bg-event")),minHeight:e.cellMinHeight})}))}componentDidMount(){this.updateSizing(!0),this.context.addResizeHandler(this.handleResize)}componentDidUpdate(e,t){let n=this.props;this.updateSizing(!Vt(e,n))}componentWillUnmount(){this.context.removeResizeHandler(this.handleResize)}getHighlightSegs(){let{props:e}=this;return e.eventDrag&&e.eventDrag.segs.length?e.eventDrag.segs:e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:e.dateSelectionSegs}getMirrorSegs(){let{props:e}=this;return e.eventResize&&e.eventResize.segs.length?e.eventResize.segs:[]}renderFgSegs(e,t,n,s,i,a,o){let{context:l}=this,{eventSelection:d}=this.props,{framePositions:c}=this.state,f=this.props.cells.length===1,h=i||a||o,g=[];if(c)for(let v of t){let{seg:y}=v,{instanceId:p}=y.eventRange.instance,S=v.isVisible&&!s[p],w=v.isAbsolute,k="",E="";w&&(l.isRtl?(E=0,k=c.lefts[y.lastCol]-c.lefts[y.firstCol]):(k=0,E=c.rights[y.firstCol]-c.rights[y.lastCol])),g.push(x("div",{className:"fc-daygrid-event-harness"+(w?" fc-daygrid-event-harness-abs":""),key:Of(y),ref:h?null:this.segHarnessRefs.createRef(If(y)),style:{visibility:S?"":"hidden",marginTop:w?"":v.marginTop,top:w?v.absoluteTop:"",left:k,right:E}},Rf(y)?x(Nf,Object.assign({seg:y,isDragging:i,isSelected:p===d,defaultDisplayEventEnd:f},Pr(y,n))):x(Tf,Object.assign({seg:y,isDragging:i,isResizing:a,isDateSelecting:o,isSelected:p===d,defaultDisplayEventEnd:f},Pr(y,n)))))}return g}renderFillSegs(e,t){let{isRtl:n}=this.context,{todayRange:s}=this.props,{framePositions:i}=this.state,a=[];if(i)for(let o of e){let l=n?{right:0,left:i.lefts[o.lastCol]-i.lefts[o.firstCol]}:{left:0,right:i.rights[o.firstCol]-i.rights[o.lastCol]};a.push(x("div",{key:qh(o.eventRange),className:"fc-daygrid-bg-harness",style:l},t==="bg-event"?x(ff,Object.assign({seg:o},Pr(o,s))):gf(t)))}return x(Be,{},...a)}updateSizing(e){let{props:t,state:n,frameElRefs:s}=this;if(!t.forPrint&&t.clientWidth!==null){if(e){let l=t.cells.map(d=>s.currentMap[d.key]);if(l.length){let d=this.rootElRef.current,c=new rs(d,l,!0,!1);(!n.framePositions||!n.framePositions.similarTo(c))&&this.setState({framePositions:new rs(d,l,!0,!1)})}}const i=this.state.segHeights,a=this.querySegHeights(),o=t.dayMaxEvents===!0||t.dayMaxEventRows===!0;this.safeSetState({segHeights:Object.assign(Object.assign({},i),a),maxContentHeight:o?this.computeMaxContentHeight():null})}}querySegHeights(){let e=this.segHarnessRefs.currentMap,t={};for(let n in e){let s=Math.round(e[n].getBoundingClientRect().height);t[n]=Math.max(t[n]||0,s)}return t}computeMaxContentHeight(){let e=this.props.cells[0].key,t=this.cellElRefs.currentMap[e],n=this.fgElRefs.currentMap[e];return t.getBoundingClientRect().bottom-n.getBoundingClientRect().top}getCellEls(){let e=this.cellElRefs.currentMap;return this.props.cells.map(t=>e[t.key])}}Mf.addStateEquality({segHeights:Vt});function uS(r,e){if(!r.length)return[];let t=hS(e);return r.map(n=>({seg:n,isVisible:!0,isAbsolute:!0,absoluteTop:t[n.eventRange.instance.instanceId],marginTop:0}))}function hS(r){let e={};for(let t of r)for(let n of t)e[n.seg.eventRange.instance.instanceId]=n.absoluteTop;return e}class fS extends Gt{constructor(){super(...arguments),this.splitBusinessHourSegs=he(xi),this.splitBgEventSegs=he(xi),this.splitFgEventSegs=he(xi),this.splitDateSelectionSegs=he(xi),this.splitEventDrag=he(Ad),this.splitEventResize=he(Ad),this.rowRefs=new er}render(){let{props:e,context:t}=this,n=e.cells.length,s=this.splitBusinessHourSegs(e.businessHourSegs,n),i=this.splitBgEventSegs(e.bgEventSegs,n),a=this.splitFgEventSegs(e.fgEventSegs,n),o=this.splitDateSelectionSegs(e.dateSelectionSegs,n),l=this.splitEventDrag(e.eventDrag,n),d=this.splitEventResize(e.eventResize,n),c=n>=7&&e.clientWidth?e.clientWidth/t.options.aspectRatio/6:null;return x(cs,{unit:"day"},(f,h)=>x(Be,null,e.cells.map((g,v)=>x(Mf,{ref:this.rowRefs.createRef(v),key:g.length?g[0].date.toISOString():v,showDayNumbers:n>1,showWeekNumbers:e.showWeekNumbers,todayRange:h,dateProfile:e.dateProfile,cells:g,renderIntro:e.renderRowIntro,businessHourSegs:s[v],eventSelection:e.eventSelection,bgEventSegs:i[v].filter(gS),fgEventSegs:a[v],dateSelectionSegs:o[v],eventDrag:l[v],eventResize:d[v],dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,clientWidth:e.clientWidth,clientHeight:e.clientHeight,cellMinHeight:c,forPrint:e.forPrint}))))}componentDidMount(){this.registerInteractiveComponent()}componentDidUpdate(){this.registerInteractiveComponent()}registerInteractiveComponent(){if(!this.rootEl){const e=this.rowRefs.currentMap[0].getCellEls()[0],t=e?e.closest(".fc-daygrid-body"):null;t&&(this.rootEl=t,this.context.registerInteractiveComponent(this,{el:t,isHitComboAllowed:this.props.isHitComboAllowed}))}}componentWillUnmount(){this.rootEl&&(this.context.unregisterInteractiveComponent(this),this.rootEl=null)}prepareHits(){this.rowPositions=new rs(this.rootEl,this.rowRefs.collect().map(e=>e.getCellEls()[0]),!1,!0),this.colPositions=new rs(this.rootEl,this.rowRefs.currentMap[0].getCellEls(),!0,!1)}queryHit(e,t){let{colPositions:n,rowPositions:s}=this,i=n.leftToIndex(e),a=s.topToIndex(t);if(a!=null&&i!=null){let o=this.props.cells[a][i];return{dateProfile:this.props.dateProfile,dateSpan:Object.assign({range:this.getCellRange(a,i),allDay:!0},o.extraDateSpan),dayEl:this.getCellEl(a,i),rect:{left:n.lefts[i],right:n.rights[i],top:s.tops[a],bottom:s.bottoms[a]},layer:0}}return null}getCellEl(e,t){return this.rowRefs.currentMap[e].getCellEls()[t]}getCellRange(e,t){let n=this.props.cells[e][t].date,s=ot(n,1);return{start:n,end:s}}}function gS(r){return r.eventRange.def.allDay}class mS extends Gt{constructor(){super(...arguments),this.elRef=gt(),this.needsScrollReset=!1}render(){let{props:e}=this,{dayMaxEventRows:t,dayMaxEvents:n,expandRows:s}=e,i=n===!0||t===!0;i&&!s&&(i=!1,t=null,n=null);let a=["fc-daygrid-body",i?"fc-daygrid-body-balanced":"fc-daygrid-body-unbalanced",s?"":"fc-daygrid-body-natural"];return x("div",{ref:this.elRef,className:a.join(" "),style:{width:e.clientWidth,minWidth:e.tableMinWidth}},x("table",{role:"presentation",className:"fc-scrollgrid-sync-table",style:{width:e.clientWidth,minWidth:e.tableMinWidth,height:s?e.clientHeight:""}},e.colGroupNode,x("tbody",{role:"presentation"},x(fS,{dateProfile:e.dateProfile,cells:e.cells,renderRowIntro:e.renderRowIntro,showWeekNumbers:e.showWeekNumbers,clientWidth:e.clientWidth,clientHeight:e.clientHeight,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,dayMaxEvents:n,dayMaxEventRows:t,forPrint:e.forPrint,isHitComboAllowed:e.isHitComboAllowed}))))}componentDidMount(){this.requestScrollReset()}componentDidUpdate(e){e.dateProfile!==this.props.dateProfile?this.requestScrollReset():this.flushScrollReset()}requestScrollReset(){this.needsScrollReset=!0,this.flushScrollReset()}flushScrollReset(){if(this.needsScrollReset&&this.props.clientWidth){const e=pS(this.elRef.current,this.props.dateProfile);if(e){const t=e.closest(".fc-daygrid-body"),n=t.closest(".fc-scroller"),s=e.getBoundingClientRect().top-t.getBoundingClientRect().top;n.scrollTop=s?s+1:0}this.needsScrollReset=!1}}}function pS(r,e){let t;return e.currentRangeUnit.match(/year|month/)&&(t=r.querySelector(`[data-date="${t0(e.currentDate)}-01"]`)),t||(t=r.querySelector(`[data-date="${ul(e.currentDate)}"]`)),t}class yS extends af{constructor(){super(...arguments),this.forceDayIfListItem=!0}sliceRange(e,t){return t.sliceRange(e)}}class Pf extends Gt{constructor(){super(...arguments),this.slicer=new yS,this.tableRef=gt()}render(){let{props:e,context:t}=this;return x(mS,Object.assign({ref:this.tableRef},this.slicer.sliceProps(e,e.dateProfile,e.nextDayThreshold,t,e.dayTableModel),{dateProfile:e.dateProfile,cells:e.dayTableModel.cells,colGroupNode:e.colGroupNode,tableMinWidth:e.tableMinWidth,renderRowIntro:e.renderRowIntro,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.showWeekNumbers,expandRows:e.expandRows,headerAlignElRef:e.headerAlignElRef,clientWidth:e.clientWidth,clientHeight:e.clientHeight,forPrint:e.forPrint}))}}class vS extends X_{constructor(){super(...arguments),this.buildDayTableModel=he(bS),this.headerRef=gt(),this.tableRef=gt()}render(){let{options:e,dateProfileGenerator:t}=this.context,{props:n}=this,s=this.buildDayTableModel(n.dateProfile,t),i=e.dayHeaders&&x(rf,{ref:this.headerRef,dateProfile:n.dateProfile,dates:s.headerDates,datesRepDistinctDays:s.rowCnt===1}),a=o=>x(Pf,{ref:this.tableRef,dateProfile:n.dateProfile,dayTableModel:s,businessHours:n.businessHours,dateSelection:n.dateSelection,eventStore:n.eventStore,eventUiBases:n.eventUiBases,eventSelection:n.eventSelection,eventDrag:n.eventDrag,eventResize:n.eventResize,nextDayThreshold:e.nextDayThreshold,colGroupNode:o.tableColGroupNode,tableMinWidth:o.tableMinWidth,dayMaxEvents:e.dayMaxEvents,dayMaxEventRows:e.dayMaxEventRows,showWeekNumbers:e.weekNumbers,expandRows:!n.isHeightAuto,headerAlignElRef:this.headerElRef,clientWidth:o.clientWidth,clientHeight:o.clientHeight,forPrint:n.forPrint});return e.dayMinWidth?this.renderHScrollLayout(i,a,s.colCnt,e.dayMinWidth):this.renderSimpleLayout(i,a)}}function bS(r,e){let t=new nf(r.renderRange,e);return new sf(t,/year|month|week/.test(r.currentRangeUnit))}class wS extends Rh{buildRenderRange(e,t,n){let s=super.buildRenderRange(e,t,n),{props:i}=this;return xS({currentRange:s,snapToWeek:/^(year|month)$/.test(t),fixedWeekCount:i.fixedWeekCount,dateEnv:i.dateEnv})}}function xS(r){let{dateEnv:e,currentRange:t}=r,{start:n,end:s}=t,i;if(r.snapToWeek&&(n=e.startOfWeek(n),i=e.startOfWeek(s),i.valueOf()!==s.valueOf()&&(s=rd(i,1))),r.fixedWeekCount){let a=e.startOfWeek(e.startOfMonth(ot(t.end,-1))),o=Math.ceil(qb(a,s));s=rd(s,6-o)}return{start:n,end:s}}var _S=':root{--fc-daygrid-event-dot-width:8px}.fc-daygrid-day-events:after,.fc-daygrid-day-events:before,.fc-daygrid-day-frame:after,.fc-daygrid-day-frame:before,.fc-daygrid-event-harness:after,.fc-daygrid-event-harness:before{clear:both;content:"";display:table}.fc .fc-daygrid-body{position:relative;z-index:1}.fc .fc-daygrid-day.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-daygrid-day-frame{min-height:100%;position:relative}.fc .fc-daygrid-day-top{display:flex;flex-direction:row-reverse}.fc .fc-day-other .fc-daygrid-day-top{opacity:.3}.fc .fc-daygrid-day-number{padding:4px;position:relative;z-index:4}.fc .fc-daygrid-month-start{font-size:1.1em;font-weight:700}.fc .fc-daygrid-day-events{margin-top:1px}.fc .fc-daygrid-body-balanced .fc-daygrid-day-events{left:0;position:absolute;right:0}.fc .fc-daygrid-body-unbalanced .fc-daygrid-day-events{min-height:2em;position:relative}.fc .fc-daygrid-body-natural .fc-daygrid-day-events{margin-bottom:1em}.fc .fc-daygrid-event-harness{position:relative}.fc .fc-daygrid-event-harness-abs{left:0;position:absolute;right:0;top:0}.fc .fc-daygrid-bg-harness{bottom:0;position:absolute;top:0}.fc .fc-daygrid-day-bg .fc-non-business{z-index:1}.fc .fc-daygrid-day-bg .fc-bg-event{z-index:2}.fc .fc-daygrid-day-bg .fc-highlight{z-index:3}.fc .fc-daygrid-event{margin-top:1px;z-index:6}.fc .fc-daygrid-event.fc-event-mirror{z-index:7}.fc .fc-daygrid-day-bottom{font-size:.85em;margin:0 2px}.fc .fc-daygrid-day-bottom:after,.fc .fc-daygrid-day-bottom:before{clear:both;content:"";display:table}.fc .fc-daygrid-more-link{border-radius:3px;cursor:pointer;line-height:1;margin-top:1px;max-width:100%;overflow:hidden;padding:2px;position:relative;white-space:nowrap;z-index:4}.fc .fc-daygrid-more-link:hover{background-color:rgba(0,0,0,.1)}.fc .fc-daygrid-week-number{background-color:var(--fc-neutral-bg-color);color:var(--fc-neutral-text-color);min-width:1.5em;padding:2px;position:absolute;text-align:center;top:0;z-index:5}.fc .fc-more-popover .fc-popover-body{min-width:220px;padding:10px}.fc-direction-ltr .fc-daygrid-event.fc-event-start,.fc-direction-rtl .fc-daygrid-event.fc-event-end{margin-left:2px}.fc-direction-ltr .fc-daygrid-event.fc-event-end,.fc-direction-rtl .fc-daygrid-event.fc-event-start{margin-right:2px}.fc-direction-ltr .fc-daygrid-more-link{float:left}.fc-direction-ltr .fc-daygrid-week-number{border-radius:0 0 3px 0;left:0}.fc-direction-rtl .fc-daygrid-more-link{float:right}.fc-direction-rtl .fc-daygrid-week-number{border-radius:0 0 0 3px;right:0}.fc-liquid-hack .fc-daygrid-day-frame{position:static}.fc-daygrid-event{border-radius:3px;font-size:var(--fc-small-font-size);position:relative;white-space:nowrap}.fc-daygrid-block-event .fc-event-time{font-weight:700}.fc-daygrid-block-event .fc-event-time,.fc-daygrid-block-event .fc-event-title{padding:1px}.fc-daygrid-dot-event{align-items:center;display:flex;padding:2px 0}.fc-daygrid-dot-event .fc-event-title{flex-grow:1;flex-shrink:1;font-weight:700;min-width:0;overflow:hidden}.fc-daygrid-dot-event.fc-event-mirror,.fc-daygrid-dot-event:hover{background:rgba(0,0,0,.1)}.fc-daygrid-dot-event.fc-event-selected:before{bottom:-10px;top:-10px}.fc-daygrid-event-dot{border:calc(var(--fc-daygrid-event-dot-width)/2) solid var(--fc-event-border-color);border-radius:calc(var(--fc-daygrid-event-dot-width)/2);box-sizing:content-box;height:0;margin:0 4px;width:0}.fc-direction-ltr .fc-daygrid-event .fc-event-time{margin-right:3px}.fc-direction-rtl .fc-daygrid-event .fc-event-time{margin-left:3px}';il(_S);var SS=lr({name:"@fullcalendar/daygrid",initialView:"dayGridMonth",views:{dayGrid:{component:vS,dateProfileGeneratorClass:wS},dayGridDay:{type:"dayGrid",duration:{days:1}},dayGridWeek:{type:"dayGrid",duration:{weeks:1}},dayGridMonth:{type:"dayGrid",duration:{months:1},fixedWeekCount:!0},dayGridYear:{type:"dayGrid",duration:{years:1}}}});class ES extends Lw{getKeyInfo(){return{allDay:{},timed:{}}}getKeysForDateSpan(e){return e.allDay?["allDay"]:["timed"]}getKeysForEventDef(e){return e.allDay?fw(e)?["timed","allDay"]:["allDay"]:["timed"]}}const CS=Qe({hour:"numeric",minute:"2-digit",omitZeroMinute:!0,meridiem:"short"});function Lf(r){let e=["fc-timegrid-slot","fc-timegrid-slot-label",r.isLabeled?"fc-scrollgrid-shrink":"fc-timegrid-slot-minor"];return x(or.Consumer,null,t=>{if(!r.isLabeled)return x("td",{className:e.join(" "),"data-time":r.isoTimeStr});let{dateEnv:n,options:s,viewApi:i}=t,a=s.slotLabelFormat==null?CS:Array.isArray(s.slotLabelFormat)?Qe(s.slotLabelFormat[0]):Qe(s.slotLabelFormat),o={level:0,time:r.time,date:n.toDate(r.date),view:i,text:n.format(r.date,a)};return x(Ct,{elTag:"td",elClasses:e,elAttrs:{"data-time":r.isoTimeStr},renderProps:o,generatorName:"slotLabelContent",customGenerator:s.slotLabelContent,defaultGenerator:kS,classNameGenerator:s.slotLabelClassNames,didMount:s.slotLabelDidMount,willUnmount:s.slotLabelWillUnmount},l=>x("div",{className:"fc-timegrid-slot-label-frame fc-scrollgrid-shrink-frame"},x(l,{elTag:"div",elClasses:["fc-timegrid-slot-label-cushion","fc-scrollgrid-shrink-cushion"]})))})}function kS(r){return r.text}class AS extends Ie{render(){return this.props.slatMetas.map(e=>x("tr",{key:e.key},x(Lf,Object.assign({},e))))}}const DS=Qe({week:"short"}),jS=5;class RS extends Gt{constructor(){super(...arguments),this.allDaySplitter=new ES,this.headerElRef=gt(),this.rootElRef=gt(),this.scrollerElRef=gt(),this.state={slatCoords:null},this.handleScrollTopRequest=e=>{let t=this.scrollerElRef.current;t&&(t.scrollTop=e)},this.renderHeadAxis=(e,t="")=>{let{options:n}=this.context,{dateProfile:s}=this.props,i=s.renderRange,o=wn(i.start,i.end)===1?Ki(this.context,i.start,"week"):{};return n.weekNumbers&&e==="day"?x(mf,{elTag:"th",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},date:i.start,defaultFormat:DS},l=>x("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame","fc-timegrid-axis-frame-liquid"].join(" "),style:{height:t}},x(l,{elTag:"a",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"],elAttrs:o}))):x("th",{"aria-hidden":!0,className:"fc-timegrid-axis"},x("div",{className:"fc-timegrid-axis-frame",style:{height:t}}))},this.renderTableRowAxis=e=>{let{options:t,viewApi:n}=this.context,s={text:t.allDayText,view:n};return x(Ct,{elTag:"td",elClasses:["fc-timegrid-axis","fc-scrollgrid-shrink"],elAttrs:{"aria-hidden":!0},renderProps:s,generatorName:"allDayContent",customGenerator:t.allDayContent,defaultGenerator:TS,classNameGenerator:t.allDayClassNames,didMount:t.allDayDidMount,willUnmount:t.allDayWillUnmount},i=>x("div",{className:["fc-timegrid-axis-frame","fc-scrollgrid-shrink-frame",e==null?" fc-timegrid-axis-frame-liquid":""].join(" "),style:{height:e}},x(i,{elTag:"span",elClasses:["fc-timegrid-axis-cushion","fc-scrollgrid-shrink-cushion","fc-scrollgrid-sync-inner"]})))},this.handleSlatCoords=e=>{this.setState({slatCoords:e})}}renderSimpleLayout(e,t,n){let{context:s,props:i}=this,a=[],o=Ji(s.options);return e&&a.push({type:"header",key:"header",isSticky:o,chunk:{elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}}),t&&(a.push({type:"body",key:"all-day",chunk:{content:t}}),a.push({type:"body",key:"all-day-divider",outerContent:x("tr",{role:"presentation",className:"fc-scrollgrid-section"},x("td",{className:"fc-timegrid-divider "+s.theme.getClass("tableCellShaded")}))})),a.push({type:"body",key:"body",liquid:!0,expandRows:!!s.options.expandRows,chunk:{scrollerElRef:this.scrollerElRef,content:n}}),x(Vi,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:s.viewSpec},x(Rl,{liquid:!i.isHeightAuto&&!i.forPrint,collapsibleWidth:i.forPrint,cols:[{width:"shrink"}],sections:a}))}renderHScrollLayout(e,t,n,s,i,a,o){let l=this.context.pluginHooks.scrollGridImpl;if(!l)throw new Error("No ScrollGrid implementation");let{context:d,props:c}=this,f=!c.forPrint&&Ji(d.options),h=!c.forPrint&&uf(d.options),g=[];e&&g.push({type:"header",key:"header",isSticky:f,syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>x("tr",{role:"presentation"},this.renderHeadAxis("day",y.rowSyncHeights[0]))},{key:"cols",elRef:this.headerElRef,tableClassName:"fc-col-header",rowContent:e}]}),t&&(g.push({type:"body",key:"all-day",syncRowHeights:!0,chunks:[{key:"axis",rowContent:y=>x("tr",{role:"presentation"},this.renderTableRowAxis(y.rowSyncHeights[0]))},{key:"cols",content:t}]}),g.push({key:"all-day-divider",type:"body",outerContent:x("tr",{role:"presentation",className:"fc-scrollgrid-section"},x("td",{colSpan:2,className:"fc-timegrid-divider "+d.theme.getClass("tableCellShaded")}))}));let v=d.options.nowIndicator;return g.push({type:"body",key:"body",liquid:!0,expandRows:!!d.options.expandRows,chunks:[{key:"axis",content:y=>x("div",{className:"fc-timegrid-axis-chunk"},x("table",{"aria-hidden":!0,style:{height:y.expandRows?y.clientHeight:""}},y.tableColGroupNode,x("tbody",null,x(AS,{slatMetas:a}))),x("div",{className:"fc-timegrid-now-indicator-container"},x(cs,{unit:v?"minute":"day"},p=>{let S=v&&o&&o.safeComputeTop(p);return typeof S=="number"?x(Nl,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:S},isAxis:!0,date:p}):null})))},{key:"cols",scrollerElRef:this.scrollerElRef,content:n}]}),h&&g.push({key:"footer",type:"footer",isSticky:!0,chunks:[{key:"axis",content:Uo},{key:"cols",content:Uo}]}),x(Vi,{elRef:this.rootElRef,elClasses:["fc-timegrid"],viewSpec:d.viewSpec},x(l,{liquid:!c.isHeightAuto&&!c.forPrint,forPrint:c.forPrint,collapsibleWidth:!1,colGroups:[{width:"shrink",cols:[{width:"shrink"}]},{cols:[{span:s,minWidth:i}]}],sections:g}))}getAllDayMaxEventProps(){let{dayMaxEvents:e,dayMaxEventRows:t}=this.context.options;return(e===!0||t===!0)&&(e=void 0,t=jS),{dayMaxEvents:e,dayMaxEventRows:t}}}function TS(r){return r.text}class NS{constructor(e,t,n){this.positions=e,this.dateProfile=t,this.slotDuration=n}safeComputeTop(e){let{dateProfile:t}=this;if(tr(t.currentRange,e)){let n=$e(e),s=e.valueOf()-n.valueOf();if(s>=Lt(t.slotMinTime)&&s<Lt(t.slotMaxTime))return this.computeTimeTop(je(s))}return null}computeDateTop(e,t){return t||(t=$e(e)),this.computeTimeTop(je(e.valueOf()-t.valueOf()))}computeTimeTop(e){let{positions:t,dateProfile:n}=this,s=t.els.length,i=(e.milliseconds-Lt(n.slotMinTime))/Lt(this.slotDuration),a,o;return i=Math.max(0,i),i=Math.min(s,i),a=Math.floor(i),a=Math.min(a,s-1),o=i-a,t.tops[a]+t.getHeight(a)*o}}class OS extends Ie{render(){let{props:e,context:t}=this,{options:n}=t,{slatElRefs:s}=e;return x("tbody",null,e.slatMetas.map((i,a)=>{let o={time:i.time,date:t.dateEnv.toDate(i.date),view:t.viewApi};return x("tr",{key:i.key,ref:s.createRef(i.key)},e.axis&&x(Lf,Object.assign({},i)),x(Ct,{elTag:"td",elClasses:["fc-timegrid-slot","fc-timegrid-slot-lane",!i.isLabeled&&"fc-timegrid-slot-minor"],elAttrs:{"data-time":i.isoTimeStr},renderProps:o,generatorName:"slotLaneContent",customGenerator:n.slotLaneContent,classNameGenerator:n.slotLaneClassNames,didMount:n.slotLaneDidMount,willUnmount:n.slotLaneWillUnmount}))}))}}class IS extends Ie{constructor(){super(...arguments),this.rootElRef=gt(),this.slatElRefs=new er}render(){let{props:e,context:t}=this;return x("div",{ref:this.rootElRef,className:"fc-timegrid-slots"},x("table",{"aria-hidden":!0,className:t.theme.getClass("table"),style:{minWidth:e.tableMinWidth,width:e.clientWidth,height:e.minHeight}},e.tableColGroupNode,x(OS,{slatElRefs:this.slatElRefs,axis:e.axis,slatMetas:e.slatMetas})))}componentDidMount(){this.updateSizing()}componentDidUpdate(){this.updateSizing()}componentWillUnmount(){this.props.onCoords&&this.props.onCoords(null)}updateSizing(){let{context:e,props:t}=this;t.onCoords&&t.clientWidth!==null&&this.rootElRef.current.offsetHeight&&t.onCoords(new NS(new rs(this.rootElRef.current,MS(this.slatElRefs.currentMap,t.slatMetas),!1,!0),this.props.dateProfile,e.options.slotDuration))}}function MS(r,e){return e.map(t=>r[t.key])}function ms(r,e){let t=[],n;for(n=0;n<e;n+=1)t.push([]);if(r)for(n=0;n<r.length;n+=1)t[r[n].col].push(r[n]);return t}function Dd(r,e){let t=[];if(r){for(let n=0;n<e;n+=1)t[n]={affectedInstances:r.affectedInstances,isEvent:r.isEvent,segs:[]};for(let n of r.segs)t[n.col].segs.push(n)}else for(let n=0;n<e;n+=1)t[n]=null;return t}class PS extends Ie{render(){let{props:e}=this;return x(pf,{elClasses:["fc-timegrid-more-link"],elStyle:{top:e.top,bottom:e.bottom},allDayDate:null,moreCnt:e.hiddenSegs.length,allSegs:e.hiddenSegs,hiddenSegs:e.hiddenSegs,extraDateSpan:e.extraDateSpan,dateProfile:e.dateProfile,todayRange:e.todayRange,popoverContent:()=>Uf(e.hiddenSegs,e),defaultGenerator:LS,forceTimed:!0},t=>x(t,{elTag:"div",elClasses:["fc-timegrid-more-link-inner","fc-sticky"]}))}}function LS(r){return r.shortText}function FS(r,e,t){let n=new Xh;e!=null&&(n.strictOrder=e),t!=null&&(n.maxStackCnt=t);let s=n.addSegs(r),i=Kw(s),a=US(n);return a=zS(a,1),{segRects:qS(a),hiddenGroups:i}}function US(r){const{entriesByLevel:e}=r,t=Pl((n,s)=>n+":"+s,(n,s)=>{let i=$S(r,n,s),a=jd(i,t),o=e[n][s];return[Object.assign(Object.assign({},o),{nextLevelNodes:a[0]}),o.thickness+a[1]]});return jd(e.length?{level:0,lateralStart:0,lateralEnd:e[0].length}:null,t)[0]}function jd(r,e){if(!r)return[[],0];let{level:t,lateralStart:n,lateralEnd:s}=r,i=n,a=[];for(;i<s;)a.push(e(t,i)),i+=1;return a.sort(HS),[a.map(BS),a[0][1]]}function HS(r,e){return e[1]-r[1]}function BS(r){return r[0]}function $S(r,e,t){let{levelCoords:n,entriesByLevel:s}=r,i=s[e][t],a=n[e]+i.thickness,o=n.length,l=e;for(;l<o&&n[l]<a;l+=1);for(;l<o;l+=1){let d=s[l],c,f=Fo(d,i.span.start,Lo),h=f[0]+f[1],g=h;for(;(c=d[g])&&c.span.start<i.span.end;)g+=1;if(h<g)return{level:l,lateralStart:h,lateralEnd:g}}return null}function zS(r,e){const t=Pl((n,s,i)=>un(n),(n,s,i)=>{let{nextLevelNodes:a,thickness:o}=n,l=o+i,d=o/l,c,f=[];if(!a.length)c=e;else for(let g of a)if(c===void 0){let v=t(g,s,l);c=v[0],f.push(v[1])}else{let v=t(g,c,0);f.push(v[1])}let h=(c-s)*d;return[c-h,Object.assign(Object.assign({},n),{thickness:h,nextLevelNodes:f})]});return r.map(n=>t(n,0,0)[1])}function qS(r){let e=[];const t=Pl((s,i,a)=>un(s),(s,i,a)=>{let o=Object.assign(Object.assign({},s),{levelCoord:i,stackDepth:a,stackForward:0});return e.push(o),o.stackForward=n(s.nextLevelNodes,i+s.thickness,a+1)+1});function n(s,i,a){let o=0;for(let l of s)o=Math.max(t(l,i,a),o);return o}return n(r,0,0),e}function Pl(r,e){const t={};return(...n)=>{let s=r(...n);return s in t?t[s]:t[s]=e(...n)}}function Rd(r,e,t=null,n=0){let s=[];if(t)for(let i=0;i<r.length;i+=1){let a=r[i],o=t.computeDateTop(a.start,e),l=Math.max(o+(n||0),t.computeDateTop(a.end,e));s.push({start:Math.round(o),end:Math.round(l)})}return s}function WS(r,e,t,n){let s=[],i=[];for(let d=0;d<r.length;d+=1){let c=e[d];c?s.push({index:d,thickness:1,span:c}):i.push(r[d])}let{segRects:a,hiddenGroups:o}=FS(s,t,n),l=[];for(let d of a)l.push({seg:r[d.index],rect:d});for(let d of i)l.push({seg:d,rect:null});return{segPlacements:l,hiddenGroups:o}}const VS=Qe({hour:"numeric",minute:"2-digit",meridiem:!1});class Ff extends Ie{render(){return x(hf,Object.assign({},this.props,{elClasses:["fc-timegrid-event","fc-v-event",this.props.isShort&&"fc-timegrid-event-short"],defaultTimeFormat:VS}))}}class GS extends Ie{constructor(){super(...arguments),this.sortEventSegs=he($h)}render(){let{props:e,context:t}=this,{options:n}=t,s=n.selectMirror,i=e.eventDrag&&e.eventDrag.segs||e.eventResize&&e.eventResize.segs||s&&e.dateSelectionSegs||[],a=e.eventDrag&&e.eventDrag.affectedInstances||e.eventResize&&e.eventResize.affectedInstances||{},o=this.sortEventSegs(e.fgEventSegs,n.eventOrder);return x(Ol,{elTag:"td",elRef:e.elRef,elClasses:["fc-timegrid-col",...e.extraClassNames||[]],elAttrs:Object.assign({role:"gridcell"},e.extraDataAttrs),date:e.date,dateProfile:e.dateProfile,todayRange:e.todayRange,extraRenderProps:e.extraRenderProps},l=>x("div",{className:"fc-timegrid-col-frame"},x("div",{className:"fc-timegrid-col-bg"},this.renderFillSegs(e.businessHourSegs,"non-business"),this.renderFillSegs(e.bgEventSegs,"bg-event"),this.renderFillSegs(e.dateSelectionSegs,"highlight")),x("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(o,a,!1,!1,!1)),x("div",{className:"fc-timegrid-col-events"},this.renderFgSegs(i,{},!!e.eventDrag,!!e.eventResize,!!s,"mirror")),x("div",{className:"fc-timegrid-now-indicator-container"},this.renderNowIndicator(e.nowIndicatorSegs)),Il(n)&&x(l,{elTag:"div",elClasses:["fc-timegrid-col-misc"]})))}renderFgSegs(e,t,n,s,i,a){let{props:o}=this;return o.forPrint?Uf(e,o):this.renderPositionedFgSegs(e,t,n,s,i,a)}renderPositionedFgSegs(e,t,n,s,i,a){let{eventMaxStack:o,eventShortHeight:l,eventOrderStrict:d,eventMinHeight:c}=this.context.options,{date:f,slatCoords:h,eventSelection:g,todayRange:v,nowDate:y}=this.props,p=n||s||i,S=Rd(e,f,h,c),{segPlacements:w,hiddenGroups:k}=WS(e,S,d,o);return x(Be,null,this.renderHiddenGroups(k,e),w.map(E=>{let{seg:T,rect:H}=E,R=T.eventRange.instance.instanceId,O=p||!!(!t[R]&&H),I=Ka(H&&H.span),z=!p&&H?this.computeSegHStyle(H):{left:0,right:0},re=!!H&&H.stackForward>0,ke=!!H&&H.span.end-H.span.start<l;return x("div",{className:"fc-timegrid-event-harness"+(re?" fc-timegrid-event-harness-inset":""),key:a||R,style:Object.assign(Object.assign({visibility:O?"":"hidden"},I),z)},x(Ff,Object.assign({seg:T,isDragging:n,isResizing:s,isDateSelecting:i,isSelected:R===g,isShort:ke},Pr(T,v,y))))}))}renderHiddenGroups(e,t){let{extraDateSpan:n,dateProfile:s,todayRange:i,nowDate:a,eventSelection:o,eventDrag:l,eventResize:d}=this.props;return x(Be,null,e.map(c=>{let f=Ka(c.span),h=QS(c.entries,t);return x(PS,{key:xh(yf(h)),hiddenSegs:h,top:f.top,bottom:f.bottom,extraDateSpan:n,dateProfile:s,todayRange:i,nowDate:a,eventSelection:o,eventDrag:l,eventResize:d})}))}renderFillSegs(e,t){let{props:n,context:s}=this,a=Rd(e,n.date,n.slatCoords,s.options.eventMinHeight).map((o,l)=>{let d=e[l];return x("div",{key:qh(d.eventRange),className:"fc-timegrid-bg-harness",style:Ka(o)},t==="bg-event"?x(ff,Object.assign({seg:d},Pr(d,n.todayRange,n.nowDate))):gf(t))});return x(Be,null,a)}renderNowIndicator(e){let{slatCoords:t,date:n}=this.props;return t?e.map((s,i)=>x(Nl,{key:i,elClasses:["fc-timegrid-now-indicator-line"],elStyle:{top:t.computeDateTop(s.start,n)},isAxis:!1,date:n})):null}computeSegHStyle(e){let{isRtl:t,options:n}=this.context,s=n.slotEventOverlap,i=e.levelCoord,a=e.levelCoord+e.thickness,o,l;s&&(a=Math.min(1,i+(a-i)*2)),t?(o=1-a,l=i):(o=i,l=1-a);let d={zIndex:e.stackDepth+1,left:o*100+"%",right:l*100+"%"};return s&&!e.stackForward&&(d[t?"marginLeft":"marginRight"]=10*2),d}}function Uf(r,{todayRange:e,nowDate:t,eventSelection:n,eventDrag:s,eventResize:i}){let a=(s?s.affectedInstances:null)||(i?i.affectedInstances:null)||{};return x(Be,null,r.map(o=>{let l=o.eventRange.instance.instanceId;return x("div",{key:l,style:{visibility:a[l]?"hidden":""}},x(Ff,Object.assign({seg:o,isDragging:!1,isResizing:!1,isDateSelecting:!1,isSelected:l===n,isShort:!1},Pr(o,e,t))))}))}function Ka(r){return r?{top:r.start,bottom:-r.end}:{top:"",bottom:""}}function QS(r,e){return r.map(t=>e[t.index])}class YS extends Ie{constructor(){super(...arguments),this.splitFgEventSegs=he(ms),this.splitBgEventSegs=he(ms),this.splitBusinessHourSegs=he(ms),this.splitNowIndicatorSegs=he(ms),this.splitDateSelectionSegs=he(ms),this.splitEventDrag=he(Dd),this.splitEventResize=he(Dd),this.rootElRef=gt(),this.cellElRefs=new er}render(){let{props:e,context:t}=this,n=t.options.nowIndicator&&e.slatCoords&&e.slatCoords.safeComputeTop(e.nowDate),s=e.cells.length,i=this.splitFgEventSegs(e.fgEventSegs,s),a=this.splitBgEventSegs(e.bgEventSegs,s),o=this.splitBusinessHourSegs(e.businessHourSegs,s),l=this.splitNowIndicatorSegs(e.nowIndicatorSegs,s),d=this.splitDateSelectionSegs(e.dateSelectionSegs,s),c=this.splitEventDrag(e.eventDrag,s),f=this.splitEventResize(e.eventResize,s);return x("div",{className:"fc-timegrid-cols",ref:this.rootElRef},x("table",{role:"presentation",style:{minWidth:e.tableMinWidth,width:e.clientWidth}},e.tableColGroupNode,x("tbody",{role:"presentation"},x("tr",{role:"row"},e.axis&&x("td",{"aria-hidden":!0,className:"fc-timegrid-col fc-timegrid-axis"},x("div",{className:"fc-timegrid-col-frame"},x("div",{className:"fc-timegrid-now-indicator-container"},typeof n=="number"&&x(Nl,{elClasses:["fc-timegrid-now-indicator-arrow"],elStyle:{top:n},isAxis:!0,date:e.nowDate})))),e.cells.map((h,g)=>x(GS,{key:h.key,elRef:this.cellElRefs.createRef(h.key),dateProfile:e.dateProfile,date:h.date,nowDate:e.nowDate,todayRange:e.todayRange,extraRenderProps:h.extraRenderProps,extraDataAttrs:h.extraDataAttrs,extraClassNames:h.extraClassNames,extraDateSpan:h.extraDateSpan,fgEventSegs:i[g],bgEventSegs:a[g],businessHourSegs:o[g],nowIndicatorSegs:l[g],dateSelectionSegs:d[g],eventDrag:c[g],eventResize:f[g],slatCoords:e.slatCoords,eventSelection:e.eventSelection,forPrint:e.forPrint}))))))}componentDidMount(){this.updateCoords()}componentDidUpdate(){this.updateCoords()}updateCoords(){let{props:e}=this;e.onColCoords&&e.clientWidth!==null&&e.onColCoords(new rs(this.rootElRef.current,KS(this.cellElRefs.currentMap,e.cells),!0,!1))}}function KS(r,e){return e.map(t=>r[t.key])}class JS extends Gt{constructor(){super(...arguments),this.processSlotOptions=he(ZS),this.state={slatCoords:null},this.handleRootEl=e=>{e?this.context.registerInteractiveComponent(this,{el:e,isHitComboAllowed:this.props.isHitComboAllowed}):this.context.unregisterInteractiveComponent(this)},this.handleScrollRequest=e=>{let{onScrollTopRequest:t}=this.props,{slatCoords:n}=this.state;if(t&&n){if(e.time){let s=n.computeTimeTop(e.time);s=Math.ceil(s),s&&(s+=1),t(s)}return!0}return!1},this.handleColCoords=e=>{this.colCoords=e},this.handleSlatCoords=e=>{this.setState({slatCoords:e}),this.props.onSlatCoords&&this.props.onSlatCoords(e)}}render(){let{props:e,state:t}=this;return x("div",{className:"fc-timegrid-body",ref:this.handleRootEl,style:{width:e.clientWidth,minWidth:e.tableMinWidth}},x(IS,{axis:e.axis,dateProfile:e.dateProfile,slatMetas:e.slatMetas,clientWidth:e.clientWidth,minHeight:e.expandRows?e.clientHeight:"",tableMinWidth:e.tableMinWidth,tableColGroupNode:e.axis?e.tableColGroupNode:null,onCoords:this.handleSlatCoords}),x(YS,{cells:e.cells,axis:e.axis,dateProfile:e.dateProfile,businessHourSegs:e.businessHourSegs,bgEventSegs:e.bgEventSegs,fgEventSegs:e.fgEventSegs,dateSelectionSegs:e.dateSelectionSegs,eventSelection:e.eventSelection,eventDrag:e.eventDrag,eventResize:e.eventResize,todayRange:e.todayRange,nowDate:e.nowDate,nowIndicatorSegs:e.nowIndicatorSegs,clientWidth:e.clientWidth,tableMinWidth:e.tableMinWidth,tableColGroupNode:e.tableColGroupNode,slatCoords:t.slatCoords,onColCoords:this.handleColCoords,forPrint:e.forPrint}))}componentDidMount(){this.scrollResponder=this.context.createScrollResponder(this.handleScrollRequest)}componentDidUpdate(e){this.scrollResponder.update(e.dateProfile!==this.props.dateProfile)}componentWillUnmount(){this.scrollResponder.detach()}queryHit(e,t){let{dateEnv:n,options:s}=this.context,{colCoords:i}=this,{dateProfile:a}=this.props,{slatCoords:o}=this.state,{snapDuration:l,snapsPerSlot:d}=this.processSlotOptions(this.props.slotDuration,s.snapDuration),c=i.leftToIndex(e),f=o.positions.topToIndex(t);if(c!=null&&f!=null){let h=this.props.cells[c],g=o.positions.tops[f],v=o.positions.getHeight(f),y=(t-g)/v,p=Math.floor(y*d),S=f*d+p,w=this.props.cells[c].date,k=Ro(a.slotMinTime,Hb(l,S)),E=n.add(w,k),T=n.add(E,l);return{dateProfile:a,dateSpan:Object.assign({range:{start:E,end:T},allDay:!1},h.extraDateSpan),dayEl:i.els[c],rect:{left:i.lefts[c],right:i.rights[c],top:g,bottom:g+v},layer:0}}return null}}function ZS(r,e){let t=e||r,n=dl(r,t);return n===null&&(t=r,n=1),{snapDuration:t,snapsPerSlot:n}}class XS extends af{sliceRange(e,t){let n=[];for(let s=0;s<t.length;s+=1){let i=mn(e,t[s]);i&&n.push({start:i.start,end:i.end,isStart:i.start.valueOf()===e.start.valueOf(),isEnd:i.end.valueOf()===e.end.valueOf(),col:s})}return n}}class eE extends Gt{constructor(){super(...arguments),this.buildDayRanges=he(tE),this.slicer=new XS,this.timeColsRef=gt()}render(){let{props:e,context:t}=this,{dateProfile:n,dayTableModel:s}=e,{nowIndicator:i,nextDayThreshold:a}=t.options,o=this.buildDayRanges(s,n,t.dateEnv);return x(cs,{unit:i?"minute":"day"},(l,d)=>x(JS,Object.assign({ref:this.timeColsRef},this.slicer.sliceProps(e,n,null,t,o),{forPrint:e.forPrint,axis:e.axis,dateProfile:n,slatMetas:e.slatMetas,slotDuration:e.slotDuration,cells:s.cells[0],tableColGroupNode:e.tableColGroupNode,tableMinWidth:e.tableMinWidth,clientWidth:e.clientWidth,clientHeight:e.clientHeight,expandRows:e.expandRows,nowDate:l,nowIndicatorSegs:i&&this.slicer.sliceNowDate(l,n,a,t,o),todayRange:d,onScrollTopRequest:e.onScrollTopRequest,onSlatCoords:e.onSlatCoords})))}}function tE(r,e,t){let n=[];for(let s of r.headerDates)n.push({start:t.add(s,e.slotMinTime),end:t.add(s,e.slotMaxTime)});return n}const Td=[{hours:1},{minutes:30},{minutes:15},{seconds:30},{seconds:15}];function rE(r,e,t,n,s){let i=new Date(0),a=r,o=je(0),l=t||nE(n),d=[];for(;Lt(a)<Lt(e);){let c=s.add(i,a),f=dl(o,l)!==null;d.push({date:c,time:a,key:c.toISOString(),isoTimeStr:r0(c),isLabeled:f}),a=Ro(a,n),o=Ro(o,n)}return d}function nE(r){let e,t,n;for(e=Td.length-1;e>=0;e-=1)if(t=je(Td[e]),n=dl(t,r),n!==null&&n>1)return t;return r}class sE extends RS{constructor(){super(...arguments),this.buildTimeColsModel=he(iE),this.buildSlatMetas=he(rE)}render(){let{options:e,dateEnv:t,dateProfileGenerator:n}=this.context,{props:s}=this,{dateProfile:i}=s,a=this.buildTimeColsModel(i,n),o=this.allDaySplitter.splitProps(s),l=this.buildSlatMetas(i.slotMinTime,i.slotMaxTime,e.slotLabelInterval,e.slotDuration,t),{dayMinWidth:d}=e,c=!d,f=d,h=e.dayHeaders&&x(rf,{dates:a.headerDates,dateProfile:i,datesRepDistinctDays:!0,renderIntro:c?this.renderHeadAxis:null}),g=e.allDaySlot!==!1&&(y=>x(Pf,Object.assign({},o.allDay,{dateProfile:i,dayTableModel:a,nextDayThreshold:e.nextDayThreshold,tableMinWidth:y.tableMinWidth,colGroupNode:y.tableColGroupNode,renderRowIntro:c?this.renderTableRowAxis:null,showWeekNumbers:!1,expandRows:!1,headerAlignElRef:this.headerElRef,clientWidth:y.clientWidth,clientHeight:y.clientHeight,forPrint:s.forPrint},this.getAllDayMaxEventProps()))),v=y=>x(eE,Object.assign({},o.timed,{dayTableModel:a,dateProfile:i,axis:c,slotDuration:e.slotDuration,slatMetas:l,forPrint:s.forPrint,tableColGroupNode:y.tableColGroupNode,tableMinWidth:y.tableMinWidth,clientWidth:y.clientWidth,clientHeight:y.clientHeight,onSlatCoords:this.handleSlatCoords,expandRows:y.expandRows,onScrollTopRequest:this.handleScrollTopRequest}));return f?this.renderHScrollLayout(h,g,v,a.colCnt,d,l,this.state.slatCoords):this.renderSimpleLayout(h,g,v)}}function iE(r,e){let t=new nf(r.renderRange,e);return new sf(t,!1)}var aE='.fc-v-event{background-color:var(--fc-event-bg-color);border:1px solid var(--fc-event-border-color);display:block}.fc-v-event .fc-event-main{color:var(--fc-event-text-color);height:100%}.fc-v-event .fc-event-main-frame{display:flex;flex-direction:column;height:100%}.fc-v-event .fc-event-time{flex-grow:0;flex-shrink:0;max-height:100%;overflow:hidden}.fc-v-event .fc-event-title-container{flex-grow:1;flex-shrink:1;min-height:0}.fc-v-event .fc-event-title{bottom:0;max-height:100%;overflow:hidden;top:0}.fc-v-event:not(.fc-event-start){border-top-left-radius:0;border-top-right-radius:0;border-top-width:0}.fc-v-event:not(.fc-event-end){border-bottom-left-radius:0;border-bottom-right-radius:0;border-bottom-width:0}.fc-v-event.fc-event-selected:before{left:-10px;right:-10px}.fc-v-event .fc-event-resizer-start{cursor:n-resize}.fc-v-event .fc-event-resizer-end{cursor:s-resize}.fc-v-event:not(.fc-event-selected) .fc-event-resizer{height:var(--fc-event-resizer-thickness);left:0;right:0}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-start{top:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event:not(.fc-event-selected) .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-thickness)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer{left:50%;margin-left:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-start{top:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc-v-event.fc-event-selected .fc-event-resizer-end{bottom:calc(var(--fc-event-resizer-dot-total-width)/-2)}.fc .fc-timegrid .fc-daygrid-body{z-index:2}.fc .fc-timegrid-divider{padding:0 0 2px}.fc .fc-timegrid-body{min-height:100%;position:relative;z-index:1}.fc .fc-timegrid-axis-chunk{position:relative}.fc .fc-timegrid-axis-chunk>table,.fc .fc-timegrid-slots{position:relative;z-index:1}.fc .fc-timegrid-slot{border-bottom:0;height:1.5em}.fc .fc-timegrid-slot:empty:before{content:"\\00a0"}.fc .fc-timegrid-slot-minor{border-top-style:dotted}.fc .fc-timegrid-slot-label-cushion{display:inline-block;white-space:nowrap}.fc .fc-timegrid-slot-label{vertical-align:middle}.fc .fc-timegrid-axis-cushion,.fc .fc-timegrid-slot-label-cushion{padding:0 4px}.fc .fc-timegrid-axis-frame-liquid{height:100%}.fc .fc-timegrid-axis-frame{align-items:center;display:flex;justify-content:flex-end;overflow:hidden}.fc .fc-timegrid-axis-cushion{flex-shrink:0;max-width:60px}.fc-direction-ltr .fc-timegrid-slot-label-frame{text-align:right}.fc-direction-rtl .fc-timegrid-slot-label-frame{text-align:left}.fc-liquid-hack .fc-timegrid-axis-frame-liquid{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col.fc-day-today{background-color:var(--fc-today-bg-color)}.fc .fc-timegrid-col-frame{min-height:100%;position:relative}.fc-media-screen.fc-liquid-hack .fc-timegrid-col-frame{bottom:0;height:auto;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols{bottom:0;left:0;position:absolute;right:0;top:0}.fc-media-screen .fc-timegrid-cols>table{height:100%}.fc-media-screen .fc-timegrid-col-bg,.fc-media-screen .fc-timegrid-col-events,.fc-media-screen .fc-timegrid-now-indicator-container{left:0;position:absolute;right:0;top:0}.fc .fc-timegrid-col-bg{z-index:2}.fc .fc-timegrid-col-bg .fc-non-business{z-index:1}.fc .fc-timegrid-col-bg .fc-bg-event{z-index:2}.fc .fc-timegrid-col-bg .fc-highlight{z-index:3}.fc .fc-timegrid-bg-harness{left:0;position:absolute;right:0}.fc .fc-timegrid-col-events{z-index:3}.fc .fc-timegrid-now-indicator-container{bottom:0;overflow:hidden}.fc-direction-ltr .fc-timegrid-col-events{margin:0 2.5% 0 2px}.fc-direction-rtl .fc-timegrid-col-events{margin:0 2px 0 2.5%}.fc-timegrid-event-harness{position:absolute}.fc-timegrid-event-harness>.fc-timegrid-event{bottom:0;left:0;position:absolute;right:0;top:0}.fc-timegrid-event-harness-inset .fc-timegrid-event,.fc-timegrid-event.fc-event-mirror,.fc-timegrid-more-link{box-shadow:0 0 0 1px var(--fc-page-bg-color)}.fc-timegrid-event,.fc-timegrid-more-link{border-radius:3px;font-size:var(--fc-small-font-size)}.fc-timegrid-event{margin-bottom:1px}.fc-timegrid-event .fc-event-main{padding:1px 1px 0}.fc-timegrid-event .fc-event-time{font-size:var(--fc-small-font-size);margin-bottom:1px;white-space:nowrap}.fc-timegrid-event-short .fc-event-main-frame{flex-direction:row;overflow:hidden}.fc-timegrid-event-short .fc-event-time:after{content:"\\00a0-\\00a0"}.fc-timegrid-event-short .fc-event-title{font-size:var(--fc-small-font-size)}.fc-timegrid-more-link{background:var(--fc-more-link-bg-color);color:var(--fc-more-link-text-color);cursor:pointer;margin-bottom:1px;position:absolute;z-index:9999}.fc-timegrid-more-link-inner{padding:3px 2px;top:0}.fc-direction-ltr .fc-timegrid-more-link{right:0}.fc-direction-rtl .fc-timegrid-more-link{left:0}.fc .fc-timegrid-now-indicator-arrow,.fc .fc-timegrid-now-indicator-line{pointer-events:none}.fc .fc-timegrid-now-indicator-line{border-color:var(--fc-now-indicator-color);border-style:solid;border-width:1px 0 0;left:0;position:absolute;right:0;z-index:4}.fc .fc-timegrid-now-indicator-arrow{border-color:var(--fc-now-indicator-color);border-style:solid;margin-top:-5px;position:absolute;z-index:4}.fc-direction-ltr .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 0 5px 6px;left:0}.fc-direction-rtl .fc-timegrid-now-indicator-arrow{border-bottom-color:transparent;border-top-color:transparent;border-width:5px 6px 5px 0;right:0}';il(aE);const oE={allDaySlot:Boolean};var lE=lr({name:"@fullcalendar/timegrid",initialView:"timeGridWeek",optionRefiners:oE,views:{timeGrid:{component:sE,usesMinMaxTime:!0,allDaySlot:!0,slotDuration:"00:30:00",slotEventOverlap:!0},timeGridDay:{type:"timeGrid",duration:{days:1}},timeGridWeek:{type:"timeGrid",duration:{weeks:1}}}});jl.touchMouseIgnoreWait=500;let Bo=0,Zi=0,$o=!1;class Hf{constructor(e){this.subjectEl=null,this.selector="",this.handleSelector="",this.shouldIgnoreMove=!1,this.shouldWatchScroll=!0,this.isDragging=!1,this.isTouchDragging=!1,this.wasTouchScroll=!1,this.handleMouseDown=t=>{if(!this.shouldIgnoreMouse()&&cE(t)&&this.tryStart(t)){let n=this.createEventFromMouse(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n),this.shouldIgnoreMove||document.addEventListener("mousemove",this.handleMouseMove),document.addEventListener("mouseup",this.handleMouseUp)}},this.handleMouseMove=t=>{let n=this.createEventFromMouse(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleMouseUp=t=>{document.removeEventListener("mousemove",this.handleMouseMove),document.removeEventListener("mouseup",this.handleMouseUp),this.emitter.trigger("pointerup",this.createEventFromMouse(t)),this.cleanup()},this.handleTouchStart=t=>{if(this.tryStart(t)){this.isTouchDragging=!0;let n=this.createEventFromTouch(t,!0);this.emitter.trigger("pointerdown",n),this.initScrollWatch(n);let s=t.target;this.shouldIgnoreMove||s.addEventListener("touchmove",this.handleTouchMove),s.addEventListener("touchend",this.handleTouchEnd),s.addEventListener("touchcancel",this.handleTouchEnd),window.addEventListener("scroll",this.handleTouchScroll,!0)}},this.handleTouchMove=t=>{let n=this.createEventFromTouch(t);this.recordCoords(n),this.emitter.trigger("pointermove",n)},this.handleTouchEnd=t=>{if(this.isDragging){let n=t.target;n.removeEventListener("touchmove",this.handleTouchMove),n.removeEventListener("touchend",this.handleTouchEnd),n.removeEventListener("touchcancel",this.handleTouchEnd),window.removeEventListener("scroll",this.handleTouchScroll,!0),this.emitter.trigger("pointerup",this.createEventFromTouch(t)),this.cleanup(),this.isTouchDragging=!1,dE()}},this.handleTouchScroll=()=>{this.wasTouchScroll=!0},this.handleScroll=t=>{if(!this.shouldIgnoreMove){let n=window.scrollX-this.prevScrollX+this.prevPageX,s=window.scrollY-this.prevScrollY+this.prevPageY;this.emitter.trigger("pointermove",{origEvent:t,isTouch:this.isTouchDragging,subjectEl:this.subjectEl,pageX:n,pageY:s,deltaX:n-this.origPageX,deltaY:s-this.origPageY})}},this.containerEl=e,this.emitter=new ma,e.addEventListener("mousedown",this.handleMouseDown),e.addEventListener("touchstart",this.handleTouchStart,{passive:!0}),uE()}destroy(){this.containerEl.removeEventListener("mousedown",this.handleMouseDown),this.containerEl.removeEventListener("touchstart",this.handleTouchStart,{passive:!0}),hE()}tryStart(e){let t=this.querySubjectEl(e),n=e.target;return t&&(!this.handleSelector||at(n,this.handleSelector))?(this.subjectEl=t,this.isDragging=!0,this.wasTouchScroll=!1,!0):!1}cleanup(){$o=!1,this.isDragging=!1,this.subjectEl=null,this.destroyScrollWatch()}querySubjectEl(e){return this.selector?at(e.target,this.selector):this.containerEl}shouldIgnoreMouse(){return Bo||this.isTouchDragging}cancelTouchScroll(){this.isDragging&&($o=!0)}initScrollWatch(e){this.shouldWatchScroll&&(this.recordCoords(e),window.addEventListener("scroll",this.handleScroll,!0))}recordCoords(e){this.shouldWatchScroll&&(this.prevPageX=e.pageX,this.prevPageY=e.pageY,this.prevScrollX=window.scrollX,this.prevScrollY=window.scrollY)}destroyScrollWatch(){this.shouldWatchScroll&&window.removeEventListener("scroll",this.handleScroll,!0)}createEventFromMouse(e,t){let n=0,s=0;return t?(this.origPageX=e.pageX,this.origPageY=e.pageY):(n=e.pageX-this.origPageX,s=e.pageY-this.origPageY),{origEvent:e,isTouch:!1,subjectEl:this.subjectEl,pageX:e.pageX,pageY:e.pageY,deltaX:n,deltaY:s}}createEventFromTouch(e,t){let n=e.touches,s,i,a=0,o=0;return n&&n.length?(s=n[0].pageX,i=n[0].pageY):(s=e.pageX,i=e.pageY),t?(this.origPageX=s,this.origPageY=i):(a=s-this.origPageX,o=i-this.origPageY),{origEvent:e,isTouch:!0,subjectEl:this.subjectEl,pageX:s,pageY:i,deltaX:a,deltaY:o}}}function cE(r){return r.button===0&&!r.ctrlKey}function dE(){Bo+=1,setTimeout(()=>{Bo-=1},jl.touchMouseIgnoreWait)}function uE(){Zi+=1,Zi===1&&window.addEventListener("touchmove",Bf,{passive:!1})}function hE(){Zi-=1,Zi||window.removeEventListener("touchmove",Bf,{passive:!1})}function Bf(r){$o&&r.preventDefault()}class fE{constructor(){this.isVisible=!1,this.sourceEl=null,this.mirrorEl=null,this.sourceElRect=null,this.parentNode=document.body,this.zIndex=9999,this.revertDuration=0}start(e,t,n){this.sourceEl=e,this.sourceElRect=this.sourceEl.getBoundingClientRect(),this.origScreenX=t-window.scrollX,this.origScreenY=n-window.scrollY,this.deltaX=0,this.deltaY=0,this.updateElPosition()}handleMove(e,t){this.deltaX=e-window.scrollX-this.origScreenX,this.deltaY=t-window.scrollY-this.origScreenY,this.updateElPosition()}setIsVisible(e){e?this.isVisible||(this.mirrorEl&&(this.mirrorEl.style.display=""),this.isVisible=e,this.updateElPosition()):this.isVisible&&(this.mirrorEl&&(this.mirrorEl.style.display="none"),this.isVisible=e)}stop(e,t){let n=()=>{this.cleanup(),t()};e&&this.mirrorEl&&this.isVisible&&this.revertDuration&&(this.deltaX||this.deltaY)?this.doRevertAnimation(n,this.revertDuration):setTimeout(n,0)}doRevertAnimation(e,t){let n=this.mirrorEl,s=this.sourceEl.getBoundingClientRect();n.style.transition="top "+t+"ms,left "+t+"ms",Cs(n,{left:s.left,top:s.top}),Cb(n,()=>{n.style.transition="",e()})}cleanup(){this.mirrorEl&&(ol(this.mirrorEl),this.mirrorEl=null),this.sourceEl=null}updateElPosition(){this.sourceEl&&this.isVisible&&Cs(this.getMirrorEl(),{left:this.sourceElRect.left+this.deltaX,top:this.sourceElRect.top+this.deltaY})}getMirrorEl(){let e=this.sourceElRect,t=this.mirrorEl;return t||(t=this.mirrorEl=this.sourceEl.cloneNode(!0),t.style.userSelect="none",t.style.webkitUserSelect="none",t.style.pointerEvents="none",t.classList.add("fc-event-dragging"),Cs(t,{position:"fixed",zIndex:this.zIndex,visibility:"",boxSizing:"border-box",width:e.right-e.left,height:e.bottom-e.top,right:"auto",bottom:"auto",margin:0}),this.parentNode.appendChild(t)),t}}class $f extends Al{constructor(e,t){super(),this.handleScroll=()=>{this.scrollTop=this.scrollController.getScrollTop(),this.scrollLeft=this.scrollController.getScrollLeft(),this.handleScrollChange()},this.scrollController=e,this.doesListening=t,this.scrollTop=this.origScrollTop=e.getScrollTop(),this.scrollLeft=this.origScrollLeft=e.getScrollLeft(),this.scrollWidth=e.getScrollWidth(),this.scrollHeight=e.getScrollHeight(),this.clientWidth=e.getClientWidth(),this.clientHeight=e.getClientHeight(),this.clientRect=this.computeClientRect(),this.doesListening&&this.getEventTarget().addEventListener("scroll",this.handleScroll)}destroy(){this.doesListening&&this.getEventTarget().removeEventListener("scroll",this.handleScroll)}getScrollTop(){return this.scrollTop}getScrollLeft(){return this.scrollLeft}setScrollTop(e){this.scrollController.setScrollTop(e),this.doesListening||(this.scrollTop=Math.max(Math.min(e,this.getMaxScrollTop()),0),this.handleScrollChange())}setScrollLeft(e){this.scrollController.setScrollLeft(e),this.doesListening||(this.scrollLeft=Math.max(Math.min(e,this.getMaxScrollLeft()),0),this.handleScrollChange())}getClientWidth(){return this.clientWidth}getClientHeight(){return this.clientHeight}getScrollWidth(){return this.scrollWidth}getScrollHeight(){return this.scrollHeight}handleScrollChange(){}}class zf extends $f{constructor(e,t){super(new Qw(e),t)}getEventTarget(){return this.scrollController.el}computeClientRect(){return Vw(this.scrollController.el)}}class gE extends $f{constructor(e){super(new Yw,e)}getEventTarget(){return window}computeClientRect(){return{left:this.scrollLeft,right:this.scrollLeft+this.clientWidth,top:this.scrollTop,bottom:this.scrollTop+this.clientHeight}}handleScrollChange(){this.clientRect=this.computeClientRect()}}const Nd=typeof performance=="function"?performance.now:Date.now;class mE{constructor(){this.isEnabled=!0,this.scrollQuery=[window,".fc-scroller"],this.edgeThreshold=50,this.maxVelocity=300,this.pointerScreenX=null,this.pointerScreenY=null,this.isAnimating=!1,this.scrollCaches=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.animate=()=>{if(this.isAnimating){let e=this.computeBestEdge(this.pointerScreenX+window.scrollX,this.pointerScreenY+window.scrollY);if(e){let t=Nd();this.handleSide(e,(t-this.msSinceRequest)/1e3),this.requestAnimation(t)}else this.isAnimating=!1}}}start(e,t,n){this.isEnabled&&(this.scrollCaches=this.buildCaches(n),this.pointerScreenX=null,this.pointerScreenY=null,this.everMovedUp=!1,this.everMovedDown=!1,this.everMovedLeft=!1,this.everMovedRight=!1,this.handleMove(e,t))}handleMove(e,t){if(this.isEnabled){let n=e-window.scrollX,s=t-window.scrollY,i=this.pointerScreenY===null?0:s-this.pointerScreenY,a=this.pointerScreenX===null?0:n-this.pointerScreenX;i<0?this.everMovedUp=!0:i>0&&(this.everMovedDown=!0),a<0?this.everMovedLeft=!0:a>0&&(this.everMovedRight=!0),this.pointerScreenX=n,this.pointerScreenY=s,this.isAnimating||(this.isAnimating=!0,this.requestAnimation(Nd()))}}stop(){if(this.isEnabled){this.isAnimating=!1;for(let e of this.scrollCaches)e.destroy();this.scrollCaches=null}}requestAnimation(e){this.msSinceRequest=e,requestAnimationFrame(this.animate)}handleSide(e,t){let{scrollCache:n}=e,{edgeThreshold:s}=this,i=s-e.distance,a=i*i/(s*s)*this.maxVelocity*t,o=1;switch(e.name){case"left":o=-1;case"right":n.setScrollLeft(n.getScrollLeft()+a*o);break;case"top":o=-1;case"bottom":n.setScrollTop(n.getScrollTop()+a*o);break}}computeBestEdge(e,t){let{edgeThreshold:n}=this,s=null,i=this.scrollCaches||[];for(let a of i){let o=a.clientRect,l=e-o.left,d=o.right-e,c=t-o.top,f=o.bottom-t;l>=0&&d>=0&&c>=0&&f>=0&&(c<=n&&this.everMovedUp&&a.canScrollUp()&&(!s||s.distance>c)&&(s={scrollCache:a,name:"top",distance:c}),f<=n&&this.everMovedDown&&a.canScrollDown()&&(!s||s.distance>f)&&(s={scrollCache:a,name:"bottom",distance:f}),l<=n&&this.everMovedLeft&&a.canScrollLeft()&&(!s||s.distance>l)&&(s={scrollCache:a,name:"left",distance:l}),d<=n&&this.everMovedRight&&a.canScrollRight()&&(!s||s.distance>d)&&(s={scrollCache:a,name:"right",distance:d}))}return s}buildCaches(e){return this.queryScrollEls(e).map(t=>t===window?new gE(!1):new zf(t,!1))}queryScrollEls(e){let t=[];for(let n of this.scrollQuery)typeof n=="object"?t.push(n):t.push(...Array.prototype.slice.call(e.getRootNode().querySelectorAll(n)));return t}}class Ws extends Zw{constructor(e,t){super(e),this.containerEl=e,this.delay=null,this.minDistance=0,this.touchScrollAllowed=!0,this.mirrorNeedsRevert=!1,this.isInteracting=!1,this.isDragging=!1,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,this.delayTimeoutId=null,this.onPointerDown=s=>{this.isDragging||(this.isInteracting=!0,this.isDelayEnded=!1,this.isDistanceSurpassed=!1,kb(document.body),Db(document.body),s.isTouch||s.origEvent.preventDefault(),this.emitter.trigger("pointerdown",s),this.isInteracting&&!this.pointer.shouldIgnoreMove&&(this.mirror.setIsVisible(!1),this.mirror.start(s.subjectEl,s.pageX,s.pageY),this.startDelay(s),this.minDistance||this.handleDistanceSurpassed(s)))},this.onPointerMove=s=>{if(this.isInteracting){if(this.emitter.trigger("pointermove",s),!this.isDistanceSurpassed){let i=this.minDistance,a,{deltaX:o,deltaY:l}=s;a=o*o+l*l,a>=i*i&&this.handleDistanceSurpassed(s)}this.isDragging&&(s.origEvent.type!=="scroll"&&(this.mirror.handleMove(s.pageX,s.pageY),this.autoScroller.handleMove(s.pageX,s.pageY)),this.emitter.trigger("dragmove",s))}},this.onPointerUp=s=>{this.isInteracting&&(this.isInteracting=!1,Ab(document.body),jb(document.body),this.emitter.trigger("pointerup",s),this.isDragging&&(this.autoScroller.stop(),this.tryStopDrag(s)),this.delayTimeoutId&&(clearTimeout(this.delayTimeoutId),this.delayTimeoutId=null))};let n=this.pointer=new Hf(e);n.emitter.on("pointerdown",this.onPointerDown),n.emitter.on("pointermove",this.onPointerMove),n.emitter.on("pointerup",this.onPointerUp),t&&(n.selector=t),this.mirror=new fE,this.autoScroller=new mE}destroy(){this.pointer.destroy(),this.onPointerUp({})}startDelay(e){typeof this.delay=="number"?this.delayTimeoutId=setTimeout(()=>{this.delayTimeoutId=null,this.handleDelayEnd(e)},this.delay):this.handleDelayEnd(e)}handleDelayEnd(e){this.isDelayEnded=!0,this.tryStartDrag(e)}handleDistanceSurpassed(e){this.isDistanceSurpassed=!0,this.tryStartDrag(e)}tryStartDrag(e){this.isDelayEnded&&this.isDistanceSurpassed&&(!this.pointer.wasTouchScroll||this.touchScrollAllowed)&&(this.isDragging=!0,this.mirrorNeedsRevert=!1,this.autoScroller.start(e.pageX,e.pageY,this.containerEl),this.emitter.trigger("dragstart",e),this.touchScrollAllowed===!1&&this.pointer.cancelTouchScroll())}tryStopDrag(e){this.mirror.stop(this.mirrorNeedsRevert,this.stopDrag.bind(this,e))}stopDrag(e){this.isDragging=!1,this.emitter.trigger("dragend",e)}setIgnoreMove(e){this.pointer.shouldIgnoreMove=e}setMirrorIsVisible(e){this.mirror.setIsVisible(e)}setMirrorNeedsRevert(e){this.mirrorNeedsRevert=e}setAutoScrollEnabled(e){this.autoScroller.isEnabled=e}}class pE{constructor(e){this.el=e,this.origRect=kl(e),this.scrollCaches=Zh(e).map(t=>new zf(t,!0))}destroy(){for(let e of this.scrollCaches)e.destroy()}computeLeft(){let e=this.origRect.left;for(let t of this.scrollCaches)e+=t.origScrollLeft-t.getScrollLeft();return e}computeTop(){let e=this.origRect.top;for(let t of this.scrollCaches)e+=t.origScrollTop-t.getScrollTop();return e}isWithinClipping(e,t){let n={left:e,top:t};for(let s of this.scrollCaches)if(!yE(s.getEventTarget())&&!Ow(n,s.clientRect))return!1;return!0}}function yE(r){let e=r.tagName;return e==="HTML"||e==="BODY"}class pa{constructor(e,t){this.useSubjectCenter=!1,this.requireInitial=!0,this.disablePointCheck=!1,this.initialHit=null,this.movingHit=null,this.finalHit=null,this.handlePointerDown=n=>{let{dragging:s}=this;this.initialHit=null,this.movingHit=null,this.finalHit=null,this.prepareHits(),this.processFirstCoord(n),this.initialHit||!this.requireInitial?(s.setIgnoreMove(!1),this.emitter.trigger("pointerdown",n)):s.setIgnoreMove(!0)},this.handleDragStart=n=>{this.emitter.trigger("dragstart",n),this.handleMove(n,!0)},this.handleDragMove=n=>{this.emitter.trigger("dragmove",n),this.handleMove(n)},this.handlePointerUp=n=>{this.releaseHits(),this.emitter.trigger("pointerup",n)},this.handleDragEnd=n=>{this.movingHit&&this.emitter.trigger("hitupdate",null,!0,n),this.finalHit=this.movingHit,this.movingHit=null,this.emitter.trigger("dragend",n)},this.droppableStore=t,e.emitter.on("pointerdown",this.handlePointerDown),e.emitter.on("dragstart",this.handleDragStart),e.emitter.on("dragmove",this.handleDragMove),e.emitter.on("pointerup",this.handlePointerUp),e.emitter.on("dragend",this.handleDragEnd),this.dragging=e,this.emitter=new ma}processFirstCoord(e){let t={left:e.pageX,top:e.pageY},n=t,s=e.subjectEl,i;s instanceof HTMLElement&&(i=kl(s),n=Iw(n,i));let a=this.initialHit=this.queryHitForOffset(n.left,n.top);if(a){if(this.useSubjectCenter&&i){let o=Yh(i,a.rect);o&&(n=Mw(o))}this.coordAdjust=Pw(n,t)}else this.coordAdjust={left:0,top:0}}handleMove(e,t){let n=this.queryHitForOffset(e.pageX+this.coordAdjust.left,e.pageY+this.coordAdjust.top);(t||!ya(this.movingHit,n))&&(this.movingHit=n,this.emitter.trigger("hitupdate",n,!1,e))}prepareHits(){this.offsetTrackers=sr(this.droppableStore,e=>(e.component.prepareHits(),new pE(e.el)))}releaseHits(){let{offsetTrackers:e}=this;for(let t in e)e[t].destroy();this.offsetTrackers={}}queryHitForOffset(e,t){let{droppableStore:n,offsetTrackers:s}=this,i=null;for(let a in n){let o=n[a].component,l=s[a];if(l&&l.isWithinClipping(e,t)){let d=l.computeLeft(),c=l.computeTop(),f=e-d,h=t-c,{origRect:g}=l,v=g.right-g.left,y=g.bottom-g.top;if(f>=0&&f<v&&h>=0&&h<y){let p=o.queryHit(f,h,v,y);p&&fa(p.dateProfile.activeRange,p.dateSpan.range)&&(this.disablePointCheck||l.el.contains(l.el.getRootNode().elementFromPoint(f+d-window.scrollX,h+c-window.scrollY)))&&(!i||p.layer>i.layer)&&(p.componentId=a,p.context=o.context,p.rect.left+=d,p.rect.right+=d,p.rect.top+=c,p.rect.bottom+=c,i=p)}}}return i}}function ya(r,e){return!r&&!e?!0:!!r!=!!e?!1:_w(r.dateSpan,e.dateSpan)}function qf(r,e){let t={};for(let n of e.pluginHooks.datePointTransforms)Object.assign(t,n(r,e));return Object.assign(t,vE(r,e.dateEnv)),t}function vE(r,e){return{date:e.toDate(r.range.start),dateStr:e.formatIso(r.range.start,{omitTime:r.allDay}),allDay:r.allDay}}class bE extends ls{constructor(e){super(e),this.handlePointerDown=n=>{let{dragging:s}=this,i=n.origEvent.target;s.setIgnoreMove(!this.component.isValidDateDownEl(i))},this.handleDragEnd=n=>{let{component:s}=this,{pointer:i}=this.dragging;if(!i.wasTouchScroll){let{initialHit:a,finalHit:o}=this.hitDragging;if(a&&o&&ya(a,o)){let{context:l}=s,d=Object.assign(Object.assign({},qf(a.dateSpan,l)),{dayEl:a.dayEl,jsEvent:n.origEvent,view:l.viewApi||l.calendarApi.view});l.emitter.trigger("dateClick",d)}}},this.dragging=new Ws(e.el),this.dragging.autoScroller.isEnabled=!1;let t=this.hitDragging=new pa(this.dragging,El(e));t.emitter.on("pointerdown",this.handlePointerDown),t.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}}class wE extends ls{constructor(e){super(e),this.dragSelection=null,this.handlePointerDown=a=>{let{component:o,dragging:l}=this,{options:d}=o.context,c=d.selectable&&o.isValidDateDownEl(a.origEvent.target);l.setIgnoreMove(!c),l.delay=a.isTouch?xE(o):null},this.handleDragStart=a=>{this.component.context.calendarApi.unselect(a)},this.handleHitUpdate=(a,o)=>{let{context:l}=this.component,d=null,c=!1;if(a){let f=this.hitDragging.initialHit;a.componentId===f.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(f,a)||(d=_E(f,a,l.pluginHooks.dateSelectionTransformers)),(!d||!sx(d,a.dateProfile,l))&&(c=!0,d=null)}d?l.dispatch({type:"SELECT_DATES",selection:d}):o||l.dispatch({type:"UNSELECT_DATES"}),c?ll():cl(),o||(this.dragSelection=d)},this.handlePointerUp=a=>{this.dragSelection&&(Uh(this.dragSelection,a,this.component.context),this.dragSelection=null)};let{component:t}=e,{options:n}=t.context,s=this.dragging=new Ws(e.el);s.touchScrollAllowed=!1,s.minDistance=n.selectMinDistance||0,s.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new pa(this.dragging,El(e));i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp)}destroy(){this.dragging.destroy()}}function xE(r){let{options:e}=r.context,t=e.selectLongPressDelay;return t==null&&(t=e.longPressDelay),t}function _E(r,e,t){let n=r.dateSpan,s=e.dateSpan,i=[n.range.start,n.range.end,s.range.start,s.range.end];i.sort(Ib);let a={};for(let o of t){let l=o(r,e);if(l===!1)return null;l&&Object.assign(a,l)}return a.range={start:i[0],end:i[3]},a.allDay=n.allDay,a}class Vs extends ls{constructor(e){super(e),this.subjectEl=null,this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=a=>{let o=a.origEvent.target,{component:l,dragging:d}=this,{mirror:c}=d,{options:f}=l.context,h=l.context;this.subjectEl=a.subjectEl;let g=this.subjectSeg=ts(a.subjectEl),y=(this.eventRange=g.eventRange).instance.instanceId;this.relevantEvents=wl(h.getCurrentData().eventStore,y),d.minDistance=a.isTouch?0:f.eventDragMinDistance,d.delay=a.isTouch&&y!==l.props.eventSelection?EE(l):null,f.fixedMirrorParent?c.parentNode=f.fixedMirrorParent:c.parentNode=at(o,".fc"),c.revertDuration=f.dragRevertDuration;let p=l.isValidSegDownEl(o)&&!at(o,".fc-event-resizer");d.setIgnoreMove(!p),this.isDragging=p&&a.subjectEl.classList.contains("fc-event-draggable")},this.handleDragStart=a=>{let o=this.component.context,l=this.eventRange,d=l.instance.instanceId;a.isTouch?d!==this.component.props.eventSelection&&o.dispatch({type:"SELECT_EVENT",eventInstanceId:d}):o.dispatch({type:"UNSELECT_EVENT"}),this.isDragging&&(o.calendarApi.unselect(a),o.emitter.trigger("eventDragStart",{el:this.subjectEl,event:new Ve(o,l.def,l.instance),jsEvent:a.origEvent,view:o.viewApi}))},this.handleHitUpdate=(a,o)=>{if(!this.isDragging)return;let l=this.relevantEvents,d=this.hitDragging.initialHit,c=this.component.context,f=null,h=null,g=null,v=!1,y={affectedEvents:l,mutatedEvents:Et(),isEvent:!0};if(a){f=a.context;let p=f.options;c===f||p.editable&&p.droppable?(h=SE(d,a,this.eventRange.instance.range.start,f.getCurrentData().pluginHooks.eventDragMutationMassagers),h&&(g=Sl(l,f.getCurrentData().eventUiBases,h,f),y.mutatedEvents=g,of(y,a.dateProfile,f)||(v=!0,h=null,g=null,y.mutatedEvents=Et()))):f=null}this.displayDrag(f,y),v?ll():cl(),o||(c===f&&ya(d,a)&&(h=null),this.dragging.setMirrorNeedsRevert(!h),this.dragging.setMirrorIsVisible(!a||!this.subjectEl.getRootNode().querySelector(".fc-event-mirror")),this.receivingContext=f,this.validMutation=h,this.mutatedRelevantEvents=g)},this.handlePointerUp=()=>{this.isDragging||this.cleanup()},this.handleDragEnd=a=>{if(this.isDragging){let o=this.component.context,l=o.viewApi,{receivingContext:d,validMutation:c}=this,f=this.eventRange.def,h=this.eventRange.instance,g=new Ve(o,f,h),v=this.relevantEvents,y=this.mutatedRelevantEvents,{finalHit:p}=this.hitDragging;if(this.clearDrag(),o.emitter.trigger("eventDragStop",{el:this.subjectEl,event:g,jsEvent:a.origEvent,view:l}),c){if(d===o){let S=new Ve(o,y.defs[f.defId],h?y.instances[h.instanceId]:null);o.dispatch({type:"MERGE_EVENTS",eventStore:y});let w={oldEvent:g,event:S,relatedEvents:dn(y,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:v})}},k={};for(let E of o.getCurrentData().pluginHooks.eventDropTransformers)Object.assign(k,E(c,o));o.emitter.trigger("eventDrop",Object.assign(Object.assign(Object.assign({},w),k),{el:a.subjectEl,delta:c.datesDelta,jsEvent:a.origEvent,view:l})),o.emitter.trigger("eventChange",w)}else if(d){let S={event:g,relatedEvents:dn(v,o,h),revert(){o.dispatch({type:"MERGE_EVENTS",eventStore:v})}};o.emitter.trigger("eventLeave",Object.assign(Object.assign({},S),{draggedEl:a.subjectEl,view:l})),o.dispatch({type:"REMOVE_EVENTS",eventStore:v}),o.emitter.trigger("eventRemove",S);let w=y.defs[f.defId],k=y.instances[h.instanceId],E=new Ve(d,w,k);d.dispatch({type:"MERGE_EVENTS",eventStore:y});let T={event:E,relatedEvents:dn(y,d,k),revert(){d.dispatch({type:"REMOVE_EVENTS",eventStore:y})}};d.emitter.trigger("eventAdd",T),a.isTouch&&d.dispatch({type:"SELECT_EVENT",eventInstanceId:h.instanceId}),d.emitter.trigger("drop",Object.assign(Object.assign({},qf(p.dateSpan,d)),{draggedEl:a.subjectEl,jsEvent:a.origEvent,view:p.context.viewApi})),d.emitter.trigger("eventReceive",Object.assign(Object.assign({},T),{draggedEl:a.subjectEl,view:p.context.viewApi}))}}else o.emitter.trigger("_noEventDrop")}this.cleanup()};let{component:t}=this,{options:n}=t.context,s=this.dragging=new Ws(e.el);s.pointer.selector=Vs.SELECTOR,s.touchScrollAllowed=!1,s.autoScroller.isEnabled=n.dragScroll;let i=this.hitDragging=new pa(this.dragging,Po);i.useSubjectCenter=e.useEventCenter,i.emitter.on("pointerdown",this.handlePointerDown),i.emitter.on("dragstart",this.handleDragStart),i.emitter.on("hitupdate",this.handleHitUpdate),i.emitter.on("pointerup",this.handlePointerUp),i.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}displayDrag(e,t){let n=this.component.context,s=this.receivingContext;s&&s!==e&&(s===n?s.dispatch({type:"SET_EVENT_DRAG",state:{affectedEvents:t.affectedEvents,mutatedEvents:Et(),isEvent:!0}}):s.dispatch({type:"UNSET_EVENT_DRAG"})),e&&e.dispatch({type:"SET_EVENT_DRAG",state:t})}clearDrag(){let e=this.component.context,{receivingContext:t}=this;t&&t.dispatch({type:"UNSET_EVENT_DRAG"}),e!==t&&e.dispatch({type:"UNSET_EVENT_DRAG"})}cleanup(){this.subjectSeg=null,this.isDragging=!1,this.eventRange=null,this.relevantEvents=null,this.receivingContext=null,this.validMutation=null,this.mutatedRelevantEvents=null}}Vs.SELECTOR=".fc-event-draggable, .fc-event-resizable";function SE(r,e,t,n){let s=r.dateSpan,i=e.dateSpan,a=s.range.start,o=i.range.start,l={};s.allDay!==i.allDay&&(l.allDay=i.allDay,l.hasEnd=e.context.options.allDayMaintainDuration,i.allDay?a=$e(t):a=t);let d=On(a,o,r.context.dateEnv,r.componentId===e.componentId?r.largeUnit:null);d.milliseconds&&(l.allDay=!1);let c={datesDelta:d,standardProps:l};for(let f of n)f(c,r,e);return c}function EE(r){let{options:e}=r.context,t=e.eventLongPressDelay;return t==null&&(t=e.longPressDelay),t}class CE extends ls{constructor(e){super(e),this.draggingSegEl=null,this.draggingSeg=null,this.eventRange=null,this.relevantEvents=null,this.validMutation=null,this.mutatedRelevantEvents=null,this.handlePointerDown=i=>{let{component:a}=this,o=this.querySegEl(i),l=ts(o),d=this.eventRange=l.eventRange;this.dragging.minDistance=a.context.options.eventDragMinDistance,this.dragging.setIgnoreMove(!this.component.isValidSegDownEl(i.origEvent.target)||i.isTouch&&this.component.props.eventSelection!==d.instance.instanceId)},this.handleDragStart=i=>{let{context:a}=this.component,o=this.eventRange;this.relevantEvents=wl(a.getCurrentData().eventStore,this.eventRange.instance.instanceId);let l=this.querySegEl(i);this.draggingSegEl=l,this.draggingSeg=ts(l),a.calendarApi.unselect(),a.emitter.trigger("eventResizeStart",{el:l,event:new Ve(a,o.def,o.instance),jsEvent:i.origEvent,view:a.viewApi})},this.handleHitUpdate=(i,a,o)=>{let{context:l}=this.component,d=this.relevantEvents,c=this.hitDragging.initialHit,f=this.eventRange.instance,h=null,g=null,v=!1,y={affectedEvents:d,mutatedEvents:Et(),isEvent:!0};i&&(i.componentId===c.componentId&&this.isHitComboAllowed&&!this.isHitComboAllowed(c,i)||(h=kE(c,i,o.subjectEl.classList.contains("fc-event-resizer-start"),f.range))),h&&(g=Sl(d,l.getCurrentData().eventUiBases,h,l),y.mutatedEvents=g,of(y,i.dateProfile,l)||(v=!0,h=null,g=null,y.mutatedEvents=null)),g?l.dispatch({type:"SET_EVENT_RESIZE",state:y}):l.dispatch({type:"UNSET_EVENT_RESIZE"}),v?ll():cl(),a||(h&&ya(c,i)&&(h=null),this.validMutation=h,this.mutatedRelevantEvents=g)},this.handleDragEnd=i=>{let{context:a}=this.component,o=this.eventRange.def,l=this.eventRange.instance,d=new Ve(a,o,l),c=this.relevantEvents,f=this.mutatedRelevantEvents;if(a.emitter.trigger("eventResizeStop",{el:this.draggingSegEl,event:d,jsEvent:i.origEvent,view:a.viewApi}),this.validMutation){let h=new Ve(a,f.defs[o.defId],l?f.instances[l.instanceId]:null);a.dispatch({type:"MERGE_EVENTS",eventStore:f});let g={oldEvent:d,event:h,relatedEvents:dn(f,a,l),revert(){a.dispatch({type:"MERGE_EVENTS",eventStore:c})}};a.emitter.trigger("eventResize",Object.assign(Object.assign({},g),{el:this.draggingSegEl,startDelta:this.validMutation.startDelta||je(0),endDelta:this.validMutation.endDelta||je(0),jsEvent:i.origEvent,view:a.viewApi})),a.emitter.trigger("eventChange",g)}else a.emitter.trigger("_noEventResize");this.draggingSeg=null,this.relevantEvents=null,this.validMutation=null};let{component:t}=e,n=this.dragging=new Ws(e.el);n.pointer.selector=".fc-event-resizer",n.touchScrollAllowed=!1,n.autoScroller.isEnabled=t.context.options.dragScroll;let s=this.hitDragging=new pa(this.dragging,El(e));s.emitter.on("pointerdown",this.handlePointerDown),s.emitter.on("dragstart",this.handleDragStart),s.emitter.on("hitupdate",this.handleHitUpdate),s.emitter.on("dragend",this.handleDragEnd)}destroy(){this.dragging.destroy()}querySegEl(e){return at(e.subjectEl,".fc-event")}}function kE(r,e,t,n){let s=r.context.dateEnv,i=r.dateSpan.range.start,a=e.dateSpan.range.start,o=On(i,a,s,r.largeUnit);if(t){if(s.add(n.start,o)<n.end)return{startDelta:o}}else if(s.add(n.end,o)>n.start)return{endDelta:o};return null}class AE{constructor(e){this.context=e,this.isRecentPointerDateSelect=!1,this.matchesCancel=!1,this.matchesEvent=!1,this.onSelect=n=>{n.jsEvent&&(this.isRecentPointerDateSelect=!0)},this.onDocumentPointerDown=n=>{let s=this.context.options.unselectCancel,i=ph(n.origEvent);this.matchesCancel=!!at(i,s),this.matchesEvent=!!at(i,Vs.SELECTOR)},this.onDocumentPointerUp=n=>{let{context:s}=this,{documentPointer:i}=this,a=s.getCurrentData();if(!i.wasTouchScroll){if(a.dateSelection&&!this.isRecentPointerDateSelect){let o=s.options.unselectAuto;o&&(!o||!this.matchesCancel)&&s.calendarApi.unselect(n)}a.eventSelection&&!this.matchesEvent&&s.dispatch({type:"UNSELECT_EVENT"})}this.isRecentPointerDateSelect=!1};let t=this.documentPointer=new Hf(document);t.shouldIgnoreMove=!0,t.shouldWatchScroll=!1,t.emitter.on("pointerdown",this.onDocumentPointerDown),t.emitter.on("pointerup",this.onDocumentPointerUp),e.emitter.on("select",this.onSelect)}destroy(){this.context.emitter.off("select",this.onSelect),this.documentPointer.destroy()}}const DE={fixedMirrorParent:j},jE={dateClick:j,eventDragStart:j,eventDragStop:j,eventDrop:j,eventResizeStart:j,eventResizeStop:j,eventResize:j,drop:j,eventReceive:j,eventLeave:j};jl.dataAttrPrefix="";var RE=lr({name:"@fullcalendar/interaction",componentInteractions:[bE,wE,Vs,CE],calendarInteractions:[AE],elementDraggingImpl:Ws,optionRefiners:DE,listenerRefiners:jE});function mt(r){const e=Object.prototype.toString.call(r);return r instanceof Date||typeof r=="object"&&e==="[object Date]"?new r.constructor(+r):typeof r=="number"||e==="[object Number]"||typeof r=="string"||e==="[object String]"?new Date(r):new Date(NaN)}function Hr(r,e){return r instanceof Date?new r.constructor(e):new Date(e)}function TE(r,e){const t=+mt(r);return Hr(r,t+e)}const Wf=6048e5,NE=864e5,Ll=6e4,Vf=36e5;let OE={};function Gs(){return OE}function ns(r,e){var o,l,d,c;const t=Gs(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??t.weekStartsOn??((c=(d=t.locale)==null?void 0:d.options)==null?void 0:c.weekStartsOn)??0,s=mt(r),i=s.getDay(),a=(i<n?7:0)+i-n;return s.setDate(s.getDate()-a),s.setHours(0,0,0,0),s}function Xi(r){return ns(r,{weekStartsOn:1})}function Gf(r){const e=mt(r),t=e.getFullYear(),n=Hr(r,0);n.setFullYear(t+1,0,4),n.setHours(0,0,0,0);const s=Xi(n),i=Hr(r,0);i.setFullYear(t,0,4),i.setHours(0,0,0,0);const a=Xi(i);return e.getTime()>=s.getTime()?t+1:e.getTime()>=a.getTime()?t:t-1}function Od(r){const e=mt(r);return e.setHours(0,0,0,0),e}function Id(r){const e=mt(r),t=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return t.setUTCFullYear(e.getFullYear()),+r-+t}function IE(r,e){const t=Od(r),n=Od(e),s=+t-Id(t),i=+n-Id(n);return Math.round((s-i)/NE)}function ME(r){const e=Gf(r),t=Hr(r,0);return t.setFullYear(e,0,4),t.setHours(0,0,0,0),Xi(t)}function Pt(r,e){return TE(r,e*Ll)}function PE(r){return r instanceof Date||typeof r=="object"&&Object.prototype.toString.call(r)==="[object Date]"}function LE(r){if(!PE(r)&&typeof r!="number")return!1;const e=mt(r);return!isNaN(Number(e))}function FE(r){const e=mt(r),t=e.getMonth();return e.setFullYear(e.getFullYear(),t+1,0),e.setHours(23,59,59,999),e}function UE(r){const e=mt(r);return e.setDate(1),e.setHours(0,0,0,0),e}function HE(r){const e=mt(r),t=Hr(r,0);return t.setFullYear(e.getFullYear(),0,1),t.setHours(0,0,0,0),t}function BE(r,e){var o,l;const t=Gs(),n=t.weekStartsOn??((l=(o=t.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??0,s=mt(r),i=s.getDay(),a=(i<n?-7:0)+6-(i-n);return s.setDate(s.getDate()+a),s.setHours(23,59,59,999),s}const $E={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},zE=(r,e,t)=>{let n;const s=$E[r];return typeof s=="string"?n=s:e===1?n=s.one:n=s.other.replace("{{count}}",e.toString()),t!=null&&t.addSuffix?t.comparison&&t.comparison>0?"in "+n:n+" ago":n};function Ja(r){return(e={})=>{const t=e.width?String(e.width):r.defaultWidth;return r.formats[t]||r.formats[r.defaultWidth]}}const qE={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},WE={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},VE={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},GE={date:Ja({formats:qE,defaultWidth:"full"}),time:Ja({formats:WE,defaultWidth:"full"}),dateTime:Ja({formats:VE,defaultWidth:"full"})},QE={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},YE=(r,e,t,n)=>QE[r];function ps(r){return(e,t)=>{const n=t!=null&&t.context?String(t.context):"standalone";let s;if(n==="formatting"&&r.formattingValues){const a=r.defaultFormattingWidth||r.defaultWidth,o=t!=null&&t.width?String(t.width):a;s=r.formattingValues[o]||r.formattingValues[a]}else{const a=r.defaultWidth,o=t!=null&&t.width?String(t.width):r.defaultWidth;s=r.values[o]||r.values[a]}const i=r.argumentCallback?r.argumentCallback(e):e;return s[i]}}const KE={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},JE={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ZE={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},XE={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},eC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},tC={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},rC=(r,e)=>{const t=Number(r),n=t%100;if(n>20||n<10)switch(n%10){case 1:return t+"st";case 2:return t+"nd";case 3:return t+"rd"}return t+"th"},nC={ordinalNumber:rC,era:ps({values:KE,defaultWidth:"wide"}),quarter:ps({values:JE,defaultWidth:"wide",argumentCallback:r=>r-1}),month:ps({values:ZE,defaultWidth:"wide"}),day:ps({values:XE,defaultWidth:"wide"}),dayPeriod:ps({values:eC,defaultWidth:"wide",formattingValues:tC,defaultFormattingWidth:"wide"})};function ys(r){return(e,t={})=>{const n=t.width,s=n&&r.matchPatterns[n]||r.matchPatterns[r.defaultMatchWidth],i=e.match(s);if(!i)return null;const a=i[0],o=n&&r.parsePatterns[n]||r.parsePatterns[r.defaultParseWidth],l=Array.isArray(o)?iC(o,f=>f.test(a)):sC(o,f=>f.test(a));let d;d=r.valueCallback?r.valueCallback(l):l,d=t.valueCallback?t.valueCallback(d):d;const c=e.slice(a.length);return{value:d,rest:c}}}function sC(r,e){for(const t in r)if(Object.prototype.hasOwnProperty.call(r,t)&&e(r[t]))return t}function iC(r,e){for(let t=0;t<r.length;t++)if(e(r[t]))return t}function aC(r){return(e,t={})=>{const n=e.match(r.matchPattern);if(!n)return null;const s=n[0],i=e.match(r.parsePattern);if(!i)return null;let a=r.valueCallback?r.valueCallback(i[0]):i[0];a=t.valueCallback?t.valueCallback(a):a;const o=e.slice(s.length);return{value:a,rest:o}}}const oC=/^(\d+)(th|st|nd|rd)?/i,lC=/\d+/i,cC={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},dC={any:[/^b/i,/^(a|c)/i]},uC={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},hC={any:[/1/i,/2/i,/3/i,/4/i]},fC={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},gC={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},mC={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pC={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},yC={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vC={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},bC={ordinalNumber:aC({matchPattern:oC,parsePattern:lC,valueCallback:r=>parseInt(r,10)}),era:ys({matchPatterns:cC,defaultMatchWidth:"wide",parsePatterns:dC,defaultParseWidth:"any"}),quarter:ys({matchPatterns:uC,defaultMatchWidth:"wide",parsePatterns:hC,defaultParseWidth:"any",valueCallback:r=>r+1}),month:ys({matchPatterns:fC,defaultMatchWidth:"wide",parsePatterns:gC,defaultParseWidth:"any"}),day:ys({matchPatterns:mC,defaultMatchWidth:"wide",parsePatterns:pC,defaultParseWidth:"any"}),dayPeriod:ys({matchPatterns:yC,defaultMatchWidth:"any",parsePatterns:vC,defaultParseWidth:"any"})},wC={code:"en-US",formatDistance:zE,formatLong:GE,formatRelative:YE,localize:nC,match:bC,options:{weekStartsOn:0,firstWeekContainsDate:1}};function xC(r){const e=mt(r);return IE(e,HE(e))+1}function _C(r){const e=mt(r),t=+Xi(e)-+ME(e);return Math.round(t/Wf)+1}function Qf(r,e){var c,f,h,g;const t=mt(r),n=t.getFullYear(),s=Gs(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((g=(h=s.locale)==null?void 0:h.options)==null?void 0:g.firstWeekContainsDate)??1,a=Hr(r,0);a.setFullYear(n+1,0,i),a.setHours(0,0,0,0);const o=ns(a,e),l=Hr(r,0);l.setFullYear(n,0,i),l.setHours(0,0,0,0);const d=ns(l,e);return t.getTime()>=o.getTime()?n+1:t.getTime()>=d.getTime()?n:n-1}function SC(r,e){var o,l,d,c;const t=Gs(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??t.firstWeekContainsDate??((c=(d=t.locale)==null?void 0:d.options)==null?void 0:c.firstWeekContainsDate)??1,s=Qf(r,e),i=Hr(r,0);return i.setFullYear(s,0,n),i.setHours(0,0,0,0),ns(i,e)}function EC(r,e){const t=mt(r),n=+ns(t,e)-+SC(t,e);return Math.round(n/Wf)+1}function Le(r,e){const t=r<0?"-":"",n=Math.abs(r).toString().padStart(e,"0");return t+n}const mr={y(r,e){const t=r.getFullYear(),n=t>0?t:1-t;return Le(e==="yy"?n%100:n,e.length)},M(r,e){const t=r.getMonth();return e==="M"?String(t+1):Le(t+1,2)},d(r,e){return Le(r.getDate(),e.length)},a(r,e){const t=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.toUpperCase();case"aaa":return t;case"aaaaa":return t[0];case"aaaa":default:return t==="am"?"a.m.":"p.m."}},h(r,e){return Le(r.getHours()%12||12,e.length)},H(r,e){return Le(r.getHours(),e.length)},m(r,e){return Le(r.getMinutes(),e.length)},s(r,e){return Le(r.getSeconds(),e.length)},S(r,e){const t=e.length,n=r.getMilliseconds(),s=Math.trunc(n*Math.pow(10,t-3));return Le(s,e.length)}},Rn={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},Md={G:function(r,e,t){const n=r.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return t.era(n,{width:"abbreviated"});case"GGGGG":return t.era(n,{width:"narrow"});case"GGGG":default:return t.era(n,{width:"wide"})}},y:function(r,e,t){if(e==="yo"){const n=r.getFullYear(),s=n>0?n:1-n;return t.ordinalNumber(s,{unit:"year"})}return mr.y(r,e)},Y:function(r,e,t,n){const s=Qf(r,n),i=s>0?s:1-s;if(e==="YY"){const a=i%100;return Le(a,2)}return e==="Yo"?t.ordinalNumber(i,{unit:"year"}):Le(i,e.length)},R:function(r,e){const t=Gf(r);return Le(t,e.length)},u:function(r,e){const t=r.getFullYear();return Le(t,e.length)},Q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Le(n,2);case"Qo":return t.ordinalNumber(n,{unit:"quarter"});case"QQQ":return t.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return t.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return t.quarter(n,{width:"wide",context:"formatting"})}},q:function(r,e,t){const n=Math.ceil((r.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Le(n,2);case"qo":return t.ordinalNumber(n,{unit:"quarter"});case"qqq":return t.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return t.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return t.quarter(n,{width:"wide",context:"standalone"})}},M:function(r,e,t){const n=r.getMonth();switch(e){case"M":case"MM":return mr.M(r,e);case"Mo":return t.ordinalNumber(n+1,{unit:"month"});case"MMM":return t.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return t.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return t.month(n,{width:"wide",context:"formatting"})}},L:function(r,e,t){const n=r.getMonth();switch(e){case"L":return String(n+1);case"LL":return Le(n+1,2);case"Lo":return t.ordinalNumber(n+1,{unit:"month"});case"LLL":return t.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return t.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return t.month(n,{width:"wide",context:"standalone"})}},w:function(r,e,t,n){const s=EC(r,n);return e==="wo"?t.ordinalNumber(s,{unit:"week"}):Le(s,e.length)},I:function(r,e,t){const n=_C(r);return e==="Io"?t.ordinalNumber(n,{unit:"week"}):Le(n,e.length)},d:function(r,e,t){return e==="do"?t.ordinalNumber(r.getDate(),{unit:"date"}):mr.d(r,e)},D:function(r,e,t){const n=xC(r);return e==="Do"?t.ordinalNumber(n,{unit:"dayOfYear"}):Le(n,e.length)},E:function(r,e,t){const n=r.getDay();switch(e){case"E":case"EE":case"EEE":return t.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return t.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return t.day(n,{width:"short",context:"formatting"});case"EEEE":default:return t.day(n,{width:"wide",context:"formatting"})}},e:function(r,e,t,n){const s=r.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Le(i,2);case"eo":return t.ordinalNumber(i,{unit:"day"});case"eee":return t.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return t.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return t.day(s,{width:"short",context:"formatting"});case"eeee":default:return t.day(s,{width:"wide",context:"formatting"})}},c:function(r,e,t,n){const s=r.getDay(),i=(s-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Le(i,e.length);case"co":return t.ordinalNumber(i,{unit:"day"});case"ccc":return t.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return t.day(s,{width:"narrow",context:"standalone"});case"cccccc":return t.day(s,{width:"short",context:"standalone"});case"cccc":default:return t.day(s,{width:"wide",context:"standalone"})}},i:function(r,e,t){const n=r.getDay(),s=n===0?7:n;switch(e){case"i":return String(s);case"ii":return Le(s,e.length);case"io":return t.ordinalNumber(s,{unit:"day"});case"iii":return t.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return t.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return t.day(n,{width:"short",context:"formatting"});case"iiii":default:return t.day(n,{width:"wide",context:"formatting"})}},a:function(r,e,t){const s=r.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(r,e,t){const n=r.getHours();let s;switch(n===12?s=Rn.noon:n===0?s=Rn.midnight:s=n/12>=1?"pm":"am",e){case"b":case"bb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(r,e,t){const n=r.getHours();let s;switch(n>=17?s=Rn.evening:n>=12?s=Rn.afternoon:n>=4?s=Rn.morning:s=Rn.night,e){case"B":case"BB":case"BBB":return t.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return t.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return t.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(r,e,t){if(e==="ho"){let n=r.getHours()%12;return n===0&&(n=12),t.ordinalNumber(n,{unit:"hour"})}return mr.h(r,e)},H:function(r,e,t){return e==="Ho"?t.ordinalNumber(r.getHours(),{unit:"hour"}):mr.H(r,e)},K:function(r,e,t){const n=r.getHours()%12;return e==="Ko"?t.ordinalNumber(n,{unit:"hour"}):Le(n,e.length)},k:function(r,e,t){let n=r.getHours();return n===0&&(n=24),e==="ko"?t.ordinalNumber(n,{unit:"hour"}):Le(n,e.length)},m:function(r,e,t){return e==="mo"?t.ordinalNumber(r.getMinutes(),{unit:"minute"}):mr.m(r,e)},s:function(r,e,t){return e==="so"?t.ordinalNumber(r.getSeconds(),{unit:"second"}):mr.s(r,e)},S:function(r,e){return mr.S(r,e)},X:function(r,e,t){const n=r.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return Ld(n);case"XXXX":case"XX":return Jr(n);case"XXXXX":case"XXX":default:return Jr(n,":")}},x:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"x":return Ld(n);case"xxxx":case"xx":return Jr(n);case"xxxxx":case"xxx":default:return Jr(n,":")}},O:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+Pd(n,":");case"OOOO":default:return"GMT"+Jr(n,":")}},z:function(r,e,t){const n=r.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+Pd(n,":");case"zzzz":default:return"GMT"+Jr(n,":")}},t:function(r,e,t){const n=Math.trunc(r.getTime()/1e3);return Le(n,e.length)},T:function(r,e,t){const n=r.getTime();return Le(n,e.length)}};function Pd(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=Math.trunc(n/60),i=n%60;return i===0?t+String(s):t+String(s)+e+Le(i,2)}function Ld(r,e){return r%60===0?(r>0?"-":"+")+Le(Math.abs(r)/60,2):Jr(r,e)}function Jr(r,e=""){const t=r>0?"-":"+",n=Math.abs(r),s=Le(Math.trunc(n/60),2),i=Le(n%60,2);return t+s+e+i}const Fd=(r,e)=>{switch(r){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},Yf=(r,e)=>{switch(r){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},CC=(r,e)=>{const t=r.match(/(P+)(p+)?/)||[],n=t[1],s=t[2];if(!s)return Fd(r,e);let i;switch(n){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",Fd(n,e)).replace("{{time}}",Yf(s,e))},kC={p:Yf,P:CC},AC=/^D+$/,DC=/^Y+$/,jC=["D","DD","YY","YYYY"];function RC(r){return AC.test(r)}function TC(r){return DC.test(r)}function NC(r,e,t){const n=OC(r,e,t);if(console.warn(n),jC.includes(r))throw new RangeError(n)}function OC(r,e,t){const n=r[0]==="Y"?"years":"days of the month";return`Use \`${r.toLowerCase()}\` instead of \`${r}\` (in \`${e}\`) for formatting ${n} to the input \`${t}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const IC=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,MC=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,PC=/^'([^]*?)'?$/,LC=/''/g,FC=/[a-zA-Z]/;function it(r,e,t){var c,f,h,g;const n=Gs(),s=n.locale??wC,i=n.firstWeekContainsDate??((f=(c=n.locale)==null?void 0:c.options)==null?void 0:f.firstWeekContainsDate)??1,a=n.weekStartsOn??((g=(h=n.locale)==null?void 0:h.options)==null?void 0:g.weekStartsOn)??0,o=mt(r);if(!LE(o))throw new RangeError("Invalid time value");let l=e.match(MC).map(v=>{const y=v[0];if(y==="p"||y==="P"){const p=kC[y];return p(v,s.formatLong)}return v}).join("").match(IC).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:UC(v)};if(Md[y])return{isToken:!0,value:v};if(y.match(FC))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});s.localize.preprocessor&&(l=s.localize.preprocessor(o,l));const d={firstWeekContainsDate:i,weekStartsOn:a,locale:s};return l.map(v=>{if(!v.isToken)return v.value;const y=v.value;(TC(y)||RC(y))&&NC(y,e,String(r));const p=Md[y[0]];return p(o,y,s.localize,d)}).join("")}function UC(r){const e=r.match(PC);return e?e[1].replace(LC,"'"):r}function Wt(r,e){const n=zC(r);let s;if(n.date){const l=qC(n.date,2);s=WC(l.restDateString,l.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let a=0,o;if(n.time&&(a=VC(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=GC(n.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(i+a),d=new Date(0);return d.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),d.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),d}return new Date(i+a+o)}const Si={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},HC=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,BC=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,$C=/^([+-])(\d{2})(?::?(\d{2}))?$/;function zC(r){const e={},t=r.split(Si.dateTimeDelimiter);let n;if(t.length>2)return e;if(/:/.test(t[0])?n=t[0]:(e.date=t[0],n=t[1],Si.timeZoneDelimiter.test(e.date)&&(e.date=r.split(Si.timeZoneDelimiter)[0],n=r.substr(e.date.length,r.length))),n){const s=Si.timezone.exec(n);s?(e.time=n.replace(s[1],""),e.timezone=s[1]):e.time=n}return e}function qC(r,e){const t=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=r.match(t);if(!n)return{year:NaN,restDateString:""};const s=n[1]?parseInt(n[1]):null,i=n[2]?parseInt(n[2]):null;return{year:i===null?s:i*100,restDateString:r.slice((n[1]||n[2]).length)}}function WC(r,e){if(e===null)return new Date(NaN);const t=r.match(HC);if(!t)return new Date(NaN);const n=!!t[4],s=vs(t[1]),i=vs(t[2])-1,a=vs(t[3]),o=vs(t[4]),l=vs(t[5])-1;if(n)return ZC(e,o,l)?QC(e,o,l):new Date(NaN);{const d=new Date(0);return!KC(e,i,a)||!JC(e,s)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(s,a)),d)}}function vs(r){return r?parseInt(r):1}function VC(r){const e=r.match(BC);if(!e)return NaN;const t=Za(e[1]),n=Za(e[2]),s=Za(e[3]);return XC(t,n,s)?t*Vf+n*Ll+s*1e3:NaN}function Za(r){return r&&parseFloat(r.replace(",","."))||0}function GC(r){if(r==="Z")return 0;const e=r.match($C);if(!e)return 0;const t=e[1]==="+"?-1:1,n=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return ek(n,s)?t*(n*Vf+s*Ll):NaN}function QC(r,e,t){const n=new Date(0);n.setUTCFullYear(r,0,4);const s=n.getUTCDay()||7,i=(e-1)*7+t+1-s;return n.setUTCDate(n.getUTCDate()+i),n}const YC=[31,null,31,30,31,30,31,31,30,31,30,31];function Kf(r){return r%400===0||r%4===0&&r%100!==0}function KC(r,e,t){return e>=0&&e<=11&&t>=1&&t<=(YC[e]||(Kf(r)?29:28))}function JC(r,e){return e>=1&&e<=(Kf(r)?366:365)}function ZC(r,e,t){return e>=1&&e<=53&&t>=0&&t<=6}function XC(r,e,t){return r===24?e===0&&t===0:t>=0&&t<60&&e>=0&&e<60&&r>=0&&r<25}function ek(r,e){return e>=0&&e<=59}function tk(){var U;const[r,e]=M.useState(!1),[t,n]=M.useState(!1),[s,i]=M.useState(!1),[a,o]=M.useState(null),[l,d]=M.useState({start:"08:00",end:"20:00"}),[c,f]=M.useState(null),[h,g]=M.useState(""),[v,y]=M.useState(!1),[p,S]=M.useState({client_id:"",service_id:"",service:"",date:"",time:"",price:"0.00"}),w=Ft(C=>C.user),k=ar(),E=M.useRef(null);M.useEffect(()=>{const C=B=>{E.current&&!E.current.contains(B.target)&&y(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const T=async(C,B)=>{try{const{data:{session:P}}=await ge.auth.getSession();if(!P)throw new Error("No session");const m=await fetch("https://mjhhifknrurxvccmneeq.supabase.co/functions/v1/sync-google-calendar",{method:"POST",headers:{Authorization:`Bearer ${P.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({appointment:C,operation:B})});if(!m.ok){const $=await m.json();throw new Error($.error||"Failed to sync with Google Calendar")}return m.json()}catch(P){throw console.error("Error syncing with Google Calendar:",P),P}},{data:H,isLoading:R}=ft({queryKey:["appointments",w==null?void 0:w.id],queryFn:async()=>{const{data:{user:C}}=await ge.auth.getUser();if(!C)throw new Error("User not authenticated");const{data:B,error:P}=await ge.from("appointments").select(`
          *,
          client:clients(*),
          service_details:services(*)
        `).eq("user_id",C.id).order("date",{ascending:!0}).order("time",{ascending:!0});if(P)throw P;return B},enabled:!!(w!=null&&w.id)}),{data:O}=ft({queryKey:["clients",w==null?void 0:w.id],queryFn:async()=>{const{data:C,error:B}=await ge.from("clients").select("*").eq("user_id",w==null?void 0:w.id).order("name",{ascending:!0});if(B)throw B;return C},enabled:!!(w!=null&&w.id)}),{data:I}=ft({queryKey:["services",w==null?void 0:w.id],queryFn:async()=>{const{data:C,error:B}=await ge.from("services").select("*").eq("user_id",w==null?void 0:w.id).order("name",{ascending:!0});if(B)throw B;return C},enabled:!!(w!=null&&w.id)}),z=(O==null?void 0:O.filter(C=>C.name.toLowerCase().includes(h.toLowerCase())))||[],re=Ke({mutationFn:async C=>{const{data:{user:B}}=await ge.auth.getUser();if(!B)throw new Error("User not authenticated");const P=I==null?void 0:I.find(ue=>ue.id===C.service_id);if(!P)throw new Error("Servio no encontrado");const m=Wt(`${C.date}T${C.time}`),$=parseInt(P.duration),G=Pt(m,$);if(H==null?void 0:H.some(ue=>{if(ue.date!==C.date)return!1;const we=Wt(`${ue.date}T${ue.time}`),_e=I==null?void 0:I.find(A=>A.id===ue.service_id);if(!_e)return!1;const pe=Pt(we,parseInt(_e.duration));return m>=we&&m<pe||G>we&&G<=pe||m<=we&&G>=pe}))throw new Error("J existe um agendamento neste horrio");const{data:me,error:Ee}=await ge.from("appointments").insert([{...C,status:"pending",user_id:B.id,price:parseFloat(C.price)}]).select(`
          *,
          client:clients(*),
          service_details:services(*)
        `).single();if(Ee)throw Ee;try{await T(me,"create")}catch(ue){console.error("Failed to sync with Google Calendar:",ue),ee.error("Agendamento criado, mas falhou ao sincronizar com Google Calendar")}return me},onSuccess:()=>{k.invalidateQueries({queryKey:["appointments",w==null?void 0:w.id]}),e(!1),S({client_id:"",service_id:"",service:"",date:"",time:"",price:"0.00"}),g(""),ee.success("Agendamento criado com sucesso!")},onError:C=>{ee.error(C.message)}}),ke=Ke({mutationFn:async C=>{const B=I==null?void 0:I.find(ue=>ue.id===C.service_id);if(!B)throw new Error("Servio no encontrado");const P=Wt(`${C.date}T${C.time}`),m=parseInt(B.duration),$=Pt(P,m);if(H==null?void 0:H.some(ue=>{if(ue.id===C.id||ue.date!==C.date)return!1;const we=Wt(`${ue.date}T${ue.time}`),_e=I==null?void 0:I.find(A=>A.id===ue.service_id);if(!_e)return!1;const pe=Pt(we,parseInt(_e.duration));return P>=we&&P<pe||$>we&&$<=pe||P<=we&&$>=pe}))throw new Error("J existe um agendamento neste horrio");const te={...C,price:typeof C.price=="string"?parseFloat(C.price):C.price},{data:me,error:Ee}=await ge.from("appointments").update(te).eq("id",C.id).select(`
          *,
          client:clients(*),
          service_details:services(*)
        `).single();if(Ee)throw Ee;try{await T(me,"update")}catch(ue){console.error("Failed to sync with Google Calendar:",ue),ee.error("Agendamento atualizado, mas falhou ao sincronizar com Google Calendar")}return me},onSuccess:()=>{k.invalidateQueries({queryKey:["appointments",w==null?void 0:w.id]}),e(!1),f(null),n(!1),g(""),ee.success("Agendamento atualizado com sucesso!")},onError:C=>{ee.error(C.message)}}),Me=Ke({mutationFn:async C=>{const B=H==null?void 0:H.find(m=>m.id===C);if(!B)throw new Error("Appointment not found");try{B.is_synced_to_google&&await T(B,"delete")}catch(m){console.error("Failed to sync deletion with Google Calendar:",m),ee.error("Erro ao remover evento do Google Calendar")}const{error:P}=await ge.from("appointments").delete().eq("id",C);if(P)throw P},onSuccess:()=>{k.invalidateQueries({queryKey:["appointments",w==null?void 0:w.id]}),i(!1),o(null),ee.success("Agendamento excludo com sucesso!")},onError:()=>{ee.error("Erro ao excluir agendamento")}});Ke({mutationFn:async({id:C,type:B})=>{const{data:{session:P}}=await ge.auth.getSession();if(!P)throw new Error("No session");const m=await fetch("https://mjhhifknrurxvccmneeq.supabase.co/functions/v1/send-whatsapp",{method:"POST",headers:{Authorization:`Bearer ${P.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({appointmentId:C,type:B})});if(!m.ok){const $=await m.json();throw new Error($.error||"Failed to send message")}return{id:C,type:B}},onSuccess:C=>{k.invalidateQueries({queryKey:["appointments",w==null?void 0:w.id]});const B=C.type==="confirmation"?"confirmao":C.type==="reminder_24h"?"lembrete (24h)":C.type==="reminder_1h"?"lembrete (1h)":"cancelamento";ee.success(`Mensagem de ${B} enviada com sucesso!`)},onError:C=>{ee.error(C.message)}});const V=C=>{S({...p,date:it(C.start,"yyyy-MM-dd"),time:it(C.start,"HH:mm")}),e(!0)},Q=C=>{var m;const B=C.event,P=H==null?void 0:H.find($=>$.id===B.id);P&&(f(P),S({client_id:P.client_id,service_id:P.service_id,service:P.service,date:P.date,time:P.time,price:((m=P.price)==null?void 0:m.toString())||"0.00"}),n(!0),e(!0))},X=async()=>{a&&await Me.mutateAsync(a)},N=async C=>{C.preventDefault(),t&&c?await ke.mutateAsync({id:c.id,...p}):await re.mutateAsync(p)},se=C=>{var P;const B=I==null?void 0:I.find(m=>m.id===C);S({...p,service_id:C,service:(B==null?void 0:B.name)||"",price:((P=B==null?void 0:B.price)==null?void 0:P.toString())||"0.00"})},Re=C=>{const B=O==null?void 0:O.find(P=>P.id===C);S({...p,client_id:C}),g((B==null?void 0:B.name)||""),y(!1)},W=(H==null?void 0:H.map(C=>{var $,G,te;const B=`${C.date}T${C.time}`,P=parseInt((($=C.service_details)==null?void 0:$.duration)||"0"),m=it(Pt(Wt(B),P),"yyyy-MM-dd'T'HH:mm:ss");return{id:C.id,title:`${(G=C.client)==null?void 0:G.name} - ${(te=C.service_details)==null?void 0:te.name}`,start:B,end:m,className:`status-${C.status}`,extendedProps:{client:C.client,service:C.service_details,status:C.status,price:C.price}}}))||[];return R?u.jsx("div",{className:"p-6 flex items-center justify-center",children:u.jsx(Ge,{className:"w-8 h-8 text-blue-600 animate-spin"})}):u.jsxs("div",{className:"p-4 sm:p-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm p-4 sm:p-6 border border-gray-100 dark:border-gray-700",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between mb-6 gap-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Calendrio de Agendamentos"}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:[u.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Incio:"}),u.jsx("input",{type:"time",value:l.start,onChange:C=>d({...l,start:C.target.value}),className:"rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white px-[5px] py-[5px]"})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:[u.jsx("label",{className:"text-sm text-gray-600 dark:text-gray-400",children:"Fim:"}),u.jsx("input",{type:"time",value:l.end,onChange:C=>d({...l,end:C.target.value}),className:"rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white px-[5px] py-[5px]"})]}),u.jsxs("button",{onClick:()=>e(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[u.jsx(Us,{className:"w-4 h-4"}),"Novo Agendamento"]})]})]}),u.jsx("div",{className:"h-[400px] sm:h-[600px]",children:u.jsx(Af,{plugins:[SS,lE,RE],initialView:"timeGridWeek",headerToolbar:{left:"prev,next today",center:"title",right:"dayGridMonth,timeGridWeek,timeGridDay"},events:W,slotMinTime:l.start,slotMaxTime:l.end,locale:"pt-br",allDaySlot:!1,editable:!1,selectable:!0,selectMirror:!0,dayMaxEvents:!0,select:V,eventClick:Q,slotDuration:"00:30:00",snapDuration:"00:15:00",businessHours:{daysOfWeek:[0,1,2,3,4,5,6],startTime:l.start,endTime:l.end},height:"100%"})})]}),r&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:t?"Editar Agendamento":"Novo Agendamento"}),u.jsxs("form",{onSubmit:N,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cliente"}),u.jsxs("div",{className:"relative",ref:E,children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Buscar e selecionar cliente...",value:h,onChange:C=>{g(C.target.value),y(!0),C.target.value||S({...p,client_id:""})},onFocus:()=>y(!0),className:"w-full px-[5px] py-[5px] pl-10 pr-10 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"}),u.jsx(Vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx(Wo,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),v&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto",children:z.length>0?z.map(C=>u.jsxs("div",{onClick:()=>Re(C.id),className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer text-gray-900 dark:text-white",children:[u.jsx("div",{className:"font-medium",children:C.name}),C.email&&u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:C.email})]},C.id)):u.jsx("div",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:"Nenhum cliente encontrado"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Servio"}),u.jsxs("select",{required:!0,value:p.service_id,onChange:C=>se(C.target.value),className:"w-full px-[5px] py-[5px] rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Selecione um servio"}),I==null?void 0:I.map(C=>{var B;return u.jsxs("option",{value:C.id,children:[C.name," - ",C.duration,"min - R$ ",((B=C.price)==null?void 0:B.toFixed(2))||"0.00"]},C.id)})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Preo (R$)"}),u.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:p.price,onChange:C=>S({...p,price:C.target.value}),className:"w-full px-[5px] py-[5px] rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data"}),u.jsx("input",{type:"date",required:!0,value:p.date,onChange:C=>S({...p,date:C.target.value}),className:"w-full px-[5px] py-[5px] rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Horrio"}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:[u.jsx("input",{type:"time",required:!0,value:p.time,onChange:C=>S({...p,time:C.target.value}),className:"w-full sm:flex-1 px-[5px] py-[5px] rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"}),p.service_id&&p.time&&u.jsxs("div",{className:"px-[5px] py-[5px] bg-gray-100 dark:bg-gray-700 rounded-md text-gray-500 dark:text-gray-400 text-sm whitespace-nowrap",children:["at ",it(Pt(Wt(`${p.date}T${p.time}`),parseInt(((U=I==null?void 0:I.find(C=>C.id===p.service_id))==null?void 0:U.duration)||"0")),"HH:mm")]})]})]})]}),u.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>{e(!1),n(!1),f(null),g(""),y(!1)},className:"w-full sm:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsxs("button",{type:"submit",disabled:re.isPending||ke.isPending||!p.client_id,className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(re.isPending||ke.isPending)&&u.jsx(Ge,{className:"w-4 h-4 animate-spin"}),t?"Atualizar":"Salvar"]})]})]})]})}),s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Confirmar Excluso"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Tem certeza que deseja excluir este agendamento?"}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[u.jsx("button",{onClick:()=>{i(!1),o(null)},className:"w-full sm:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsxs("button",{onClick:X,disabled:Me.isPending,className:"w-full sm:w-auto px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[Me.isPending&&u.jsx(Ge,{className:"w-4 h-4 animate-spin"}),"Confirmar"]})]})]})}),u.jsx("style",{children:`
        .status-pending { background-color: #FEF3C7; border-color: #F59E0B; }
        .status-confirmed { background-color: #D1FAE5; border-color: #10B981; }
        .status-cancelled { background-color: #FEE2E2; border-color: #EF4444; }

        .dark .status-pending { background-color: #78350F; border-color: #F59E0B; }
        .dark .status-confirmed { background-color: #064E3B; border-color: #10B981; }
        .dark .status-cancelled { background-color: #7F1D1D; border-color: #EF4444; }

        .fc { height: 100%; }
        .fc-theme-standard td { border: 1px solid #E5E7EB; }
        .dark .fc-theme-standard td { border-color: #374151; }
        .fc-theme-standard th { border: 1px solid #E5E7EB; background: #F3F4F6; }
        .dark .fc-theme-standard th { border-color: #374151; background: #1F2937; }
        .fc-theme-standard .fc-scrollgrid { border: 1px solid #E5E7EB; }
        .dark .fc-theme-standard .fc-scrollgrid { border-color: #374151; }
        .fc-theme-standard td.fc-today { background: #EFF6FF; }
        .dark .fc-theme-standard td.fc-today { background: #1E3A8A; }
        .fc-day-today { background: #EFF6FF !important; }
        .dark .fc-day-today { background: #1E3A8A !important; }
        .fc-button { background: #F3F4F6 !important; border: 1px solid #E5E7EB !important; color: #374151 !important; }
        .dark .fc-button { background: #374151 !important; border-color: #4B5563 !important; color: #F3F4F6 !important; }
        .fc-button-active { background: #2563EB !important; color: white !important; }
        .dark .fc-button-active { background: #1D4ED8 !important; }
        .fc-timegrid-slot { height: 48px !important; }
      `})]})}function rk(){var P;const[r,e]=M.useState(!1),[t,n]=M.useState(!1),[s,i]=M.useState(!1),[a,o]=M.useState(null),[l,d]=M.useState("all"),[c,f]=M.useState(new Date),[h,g]=M.useState(null),[v,y]=M.useState(""),[p,S]=M.useState(!1),[w,k]=M.useState({client_id:"",service_id:"",service:"",date:"",time:"",price:"0.00"}),E=Ft(m=>m.user),T=ar(),H=M.useRef(null);M.useEffect(()=>{const m=$=>{H.current&&!H.current.contains($.target)&&S(!1)};return document.addEventListener("mousedown",m),()=>{document.removeEventListener("mousedown",m)}},[]);const R=(m,$)=>{const[G,te]=m.split(":"),me=new Date;me.setHours(parseInt(G),parseInt(te));const Ee=Pt(me,parseInt($));return it(Ee,"HH:mm")},{data:O,isLoading:I}=ft({queryKey:["appointments",E==null?void 0:E.id,l,c],queryFn:async()=>{let m=ge.from("appointments").select(`
          *,
          client:clients(*),
          service_details:services(*)
        `).eq("user_id",E==null?void 0:E.id);l==="day"?m=m.eq("date",it(c,"yyyy-MM-dd")):l==="week"?m=m.gte("date",it(ns(c),"yyyy-MM-dd")).lte("date",it(BE(c),"yyyy-MM-dd")):l==="month"&&(m=m.gte("date",it(UE(c),"yyyy-MM-dd")).lte("date",it(FE(c),"yyyy-MM-dd")));const{data:$,error:G}=await m.order("date",{ascending:!0}).order("time",{ascending:!0});if(G)throw G;return $},enabled:!!(E!=null&&E.id)}),{data:z}=ft({queryKey:["clients",E==null?void 0:E.id],queryFn:async()=>{const{data:m,error:$}=await ge.from("clients").select("*").eq("user_id",E==null?void 0:E.id).order("name",{ascending:!0});if($)throw $;return m},enabled:!!(E!=null&&E.id)}),{data:re}=ft({queryKey:["services",E==null?void 0:E.id],queryFn:async()=>{const{data:m,error:$}=await ge.from("services").select("*").eq("user_id",E==null?void 0:E.id).order("name",{ascending:!0});if($)throw $;return m},enabled:!!(E!=null&&E.id)}),ke=(z==null?void 0:z.filter(m=>m.name.toLowerCase().includes(v.toLowerCase())))||[],Me=Ke({mutationFn:async m=>{const $=re==null?void 0:re.find(_e=>_e.id===m.service_id);if(!$)throw new Error("Servio no encontrado");const G=Wt(`${m.date}T${m.time}`),te=parseInt($.duration),me=Pt(G,te);if(O==null?void 0:O.some(_e=>{if(_e.date!==m.date||t&&(h==null?void 0:h.id)===_e.id)return!1;const pe=Wt(`${_e.date}T${_e.time}`),A=re==null?void 0:re.find(Y=>Y.id===_e.service_id);if(!A)return!1;const L=Pt(pe,parseInt(A.duration));return G>=pe&&G<L||me>pe&&me<=L||G<=pe&&me>=L}))throw new Error("J existe um agendamento neste horrio");const{data:ue,error:we}=await ge.from("appointments").insert([{...m,user_id:E==null?void 0:E.id,status:"pending",price:parseFloat(m.price)}]).select().single();if(we)throw we;return ue},onSuccess:()=>{T.invalidateQueries({queryKey:["appointments",E==null?void 0:E.id]}),e(!1),k({client_id:"",service_id:"",service:"",date:"",time:"",price:"0.00"}),y(""),ee.success("Agendamento criado com sucesso!")},onError:m=>{ee.error(m.message)}}),V=Ke({mutationFn:async m=>{const $=re==null?void 0:re.find(pe=>pe.id===m.service_id);if(!$)throw new Error("Servio no encontrado");const G=Wt(`${m.date}T${m.time}`),te=parseInt($.duration),me=Pt(G,te);if(O==null?void 0:O.some(pe=>{if(pe.id===m.id||pe.date!==m.date)return!1;const A=Wt(`${pe.date}T${pe.time}`),L=re==null?void 0:re.find(fe=>fe.id===pe.service_id);if(!L)return!1;const Y=Pt(A,parseInt(L.duration));return G>=A&&G<Y||me>A&&me<=Y||G<=A&&me>=Y}))throw new Error("J existe um agendamento neste horrio");const ue={...m,price:typeof m.price=="string"?parseFloat(m.price):m.price},{data:we,error:_e}=await ge.from("appointments").update(ue).eq("id",m.id).select().single();if(_e)throw _e;return we},onSuccess:()=>{T.invalidateQueries({queryKey:["appointments",E==null?void 0:E.id]}),e(!1),g(null),n(!1),y(""),ee.success("Agendamento atualizado com sucesso!")},onError:m=>{ee.error(m.message)}}),Q=Ke({mutationFn:async m=>{const{error:$}=await ge.from("appointments").delete().eq("id",m);if($)throw $},onSuccess:()=>{T.invalidateQueries({queryKey:["appointments",E==null?void 0:E.id]}),i(!1),o(null),ee.success("Agendamento excludo com sucesso!")},onError:()=>{ee.error("Erro ao excluir agendamento")}}),X=Ke({mutationFn:async({id:m,type:$})=>{const{data:{session:G}}=await ge.auth.getSession();if(!G)throw new Error("No session");const te=await fetch("https://mjhhifknrurxvccmneeq.supabase.co/functions/v1/send-whatsapp",{method:"POST",headers:{Authorization:`Bearer ${G.access_token}`,"Content-Type":"application/json"},body:JSON.stringify({appointmentId:m,type:$})});if(!te.ok){const me=await te.json();throw new Error(me.error||"Failed to send message")}return{id:m,type:$}},onSuccess:m=>{T.invalidateQueries({queryKey:["appointments",E==null?void 0:E.id]});const $=m.type==="confirmation"?"confirmao":m.type==="reminder_24h"?"lembrete (24h)":m.type==="reminder_1h"?"lembrete (1h)":"cancelamento";ee.success(`Mensagem de ${$} enviada com sucesso!`)},onError:m=>{ee.error(m.message)}}),N=m=>{var $,G;g(m),k({client_id:m.client_id,service_id:m.service_id,service:m.service,date:m.date,time:m.time,price:(($=m.price)==null?void 0:$.toString())||"0.00"}),y(((G=m.client)==null?void 0:G.name)||""),n(!0),e(!0)},se=m=>{o(m),i(!0)},Re=async()=>{a&&await Q.mutateAsync(a)},W=async m=>{m.preventDefault(),t&&h?await V.mutateAsync({id:h.id,...w}):await Me.mutateAsync(w)},U=async(m,$)=>{var te;const G=O==null?void 0:O.find(me=>me.id===m);(te=G==null?void 0:G.messages_sent)!=null&&te[$]?ee.error("Esta mensagem j foi enviada anteriormente"):await X.mutateAsync({id:m,type:$})},C=m=>{var G;const $=re==null?void 0:re.find(te=>te.id===m);k({...w,service_id:m,service:($==null?void 0:$.name)||"",price:((G=$==null?void 0:$.price)==null?void 0:G.toString())||"0.00"})},B=m=>{const $=z==null?void 0:z.find(G=>G.id===m);k({...w,client_id:m}),y(($==null?void 0:$.name)||""),S(!1)};return I?u.jsx("div",{className:"p-6 flex items-center justify-center",children:u.jsx(Ge,{className:"w-8 h-8 text-blue-600 animate-spin"})}):u.jsxs("div",{className:"p-4 sm:p-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-100 dark:border-gray-700",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center gap-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Agendamentos"}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-2",children:[u.jsxs("select",{value:l,onChange:m=>d(m.target.value),className:"rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white px-[5px] py-[5px]",children:[u.jsx("option",{value:"all",children:"Todos"}),u.jsx("option",{value:"day",children:"Hoje"}),u.jsx("option",{value:"week",children:"Esta Semana"}),u.jsx("option",{value:"month",children:"Este Ms"})]}),u.jsx("input",{type:"date",value:it(c,"yyyy-MM-dd"),onChange:m=>f(new Date(m.target.value)),className:"rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white px-[5px] py-[5px]"})]})]}),u.jsxs("button",{onClick:()=>e(!0),className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[u.jsx(Us,{className:"w-4 h-4"}),"Novo Agendamento"]})]})}),u.jsx("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:O==null?void 0:O.map(m=>{var $,G,te,me,Ee,ue,we,_e,pe,A,L,Y,fe,oe,ye,ve;return u.jsxs("div",{className:"p-4 sm:p-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx(gg,{className:"w-10 h-10 text-gray-400"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:($=m.client)==null?void 0:$.name}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:(G=m.service_details)==null?void 0:G.name}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[u.jsx(qo,{className:"w-3 h-3 text-gray-400"}),u.jsxs("span",{className:"text-xs text-gray-500 dark:text-gray-400",children:["R$ ",((te=m.price)==null?void 0:te.toFixed(2))||"0.00"]})]})]})]}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center space-y-2 sm:space-y-0 sm:space-x-8",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Lr,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(m.date).toLocaleDateString()})]}),u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Go,{className:"w-4 h-4 text-gray-400"}),u.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[m.time," - ",R(m.time,((me=m.service_details)==null?void 0:me.duration)||"0")]})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>N(m),className:"p-2 text-blue-600 hover:bg-blue-50 rounded-full",children:u.jsx(Qo,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>se(m.id),className:"p-2 text-red-600 hover:bg-red-50 rounded-full",children:u.jsx(Hs,{className:"w-4 h-4"})})]})]})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.jsxs("button",{onClick:()=>U(m.id,"confirmation"),disabled:(Ee=m.messages_sent)==null?void 0:Ee.confirmation,className:`px-3 py-1 text-sm rounded-md flex items-center gap-1 ${(ue=m.messages_sent)!=null&&ue.confirmation?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed opacity-70":"bg-blue-100 text-blue-800 hover:bg-blue-200 dark:bg-blue-900/30 dark:text-blue-300 dark:hover:bg-blue-900/50"}`,children:[u.jsx(li,{className:"w-4 h-4"}),(we=m.messages_sent)!=null&&we.confirmation?"Enviado":"Confirmao"]}),u.jsxs("button",{onClick:()=>U(m.id,"reminder_24h"),disabled:(_e=m.messages_sent)==null?void 0:_e.reminder_24h,className:`px-3 py-1 text-sm rounded-md flex items-center gap-1 ${(pe=m.messages_sent)!=null&&pe.reminder_24h?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed opacity-70":"bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/50"}`,children:[u.jsx(li,{className:"w-4 h-4"}),(A=m.messages_sent)!=null&&A.reminder_24h?"Enviado":"Lembrete (24h)"]}),u.jsxs("button",{onClick:()=>U(m.id,"reminder_1h"),disabled:(L=m.messages_sent)==null?void 0:L.reminder_1h,className:`px-3 py-1 text-sm rounded-md flex items-center gap-1 ${(Y=m.messages_sent)!=null&&Y.reminder_1h?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed opacity-70":"bg-green-100 text-green-800 hover:bg-green-200 dark:bg-green-900/30 dark:text-green-300 dark:hover:bg-green-900/50"}`,children:[u.jsx(li,{className:"w-4 h-4"}),(fe=m.messages_sent)!=null&&fe.reminder_1h?"Enviado":"Lembrete (1h)"]}),u.jsxs("button",{onClick:()=>U(m.id,"cancellation"),disabled:(oe=m.messages_sent)==null?void 0:oe.cancellation,className:`px-3 py-1 text-sm rounded-md flex items-center gap-1 ${(ye=m.messages_sent)!=null&&ye.cancellation?"bg-gray-200 dark:bg-gray-700 text-gray-400 dark:text-gray-500 cursor-not-allowed opacity-70":"bg-red-100 text-red-800 hover:bg-red-200 dark:bg-red-900/30 dark:text-red-300 dark:hover:bg-red-900/50"}`,children:[u.jsx(li,{className:"w-4 h-4"}),(ve=m.messages_sent)!=null&&ve.cancellation?"Enviado":"Cancelamento"]})]})]},m.id)})})]}),r&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md max-h-[90vh] overflow-y-auto",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:t?"Editar Agendamento":"Novo Agendamento"}),u.jsxs("form",{onSubmit:W,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Cliente"}),u.jsxs("div",{className:"relative",ref:H,children:[u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",placeholder:"Buscar e selecionar cliente...",value:v,onChange:m=>{y(m.target.value),S(!0),m.target.value||k({...w,client_id:""})},onFocus:()=>S(!0),className:"w-full px-[5px] py-[5px] pl-10 pr-10 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"}),u.jsx(Vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx(Wo,{className:"absolute right-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"})]}),p&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white dark:bg-gray-700 border border-gray-300 dark:border-gray-600 rounded-md shadow-lg max-h-60 overflow-auto",children:ke.length>0?ke.map(m=>u.jsxs("div",{onClick:()=>B(m.id),className:"px-4 py-2 hover:bg-gray-100 dark:hover:bg-gray-600 cursor-pointer text-gray-900 dark:text-white",children:[u.jsx("div",{className:"font-medium",children:m.name}),m.email&&u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:m.email})]},m.id)):u.jsx("div",{className:"px-4 py-2 text-gray-500 dark:text-gray-400",children:"Nenhum cliente encontrado"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Servio"}),u.jsxs("select",{required:!0,value:w.service_id,onChange:m=>C(m.target.value),className:"w-full px-[5px] py-[5px] rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"",children:"Selecione um servio"}),re==null?void 0:re.map(m=>{var $;return u.jsxs("option",{value:m.id,children:[m.name," - ",m.duration,"min - R$ ",(($=m.price)==null?void 0:$.toFixed(2))||"0.00"]},m.id)})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Preo (R$)"}),u.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:w.price,onChange:m=>k({...w,price:m.target.value}),className:"w-full px-[5px] py-[5px] rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Data"}),u.jsx("input",{type:"date",required:!0,value:w.date,onChange:m=>k({...w,date:m.target.value}),className:"w-full px-[5px] py-[5px] rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Horrio"}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-2",children:[u.jsx("input",{type:"time",required:!0,value:w.time,onChange:m=>k({...w,time:m.target.value}),className:"w-full sm:flex-1 px-[5px] py-[5px] rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"}),w.service_id&&w.time&&u.jsxs("div",{className:"px-[5px] py-[5px] bg-gray-100 dark:bg-gray-700 rounded-md text-gray-500 dark:text-gray-400 text-sm whitespace-nowrap",children:["at ",R(w.time,((P=re==null?void 0:re.find(m=>m.id===w.service_id))==null?void 0:P.duration)||"0")]})]})]})]}),u.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>{e(!1),n(!1),g(null),y(""),S(!1)},className:"w-full sm:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsxs("button",{type:"submit",disabled:Me.isPending||V.isPending||!w.client_id,className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(Me.isPending||V.isPending)&&u.jsx(Ge,{className:"w-4 h-4 animate-spin"}),t?"Atualizar":"Salvar"]})]})]})]})}),s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Confirmar Excluso"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Tem certeza que deseja excluir este agendamento?"}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[u.jsx("button",{onClick:()=>{i(!1),o(null)},className:"w-full sm:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsx("button",{onClick:Re,className:"w-full sm:w-auto px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700",children:"Confirmar"})]})]})})]})}var nk=function(r){var e={};function t(n){if(e[n])return e[n].exports;var s=e[n]={i:n,l:!1,exports:{}};return r[n].call(s.exports,s,s.exports,t),s.l=!0,s.exports}return t.m=r,t.c=e,t.d=function(n,s,i){t.o(n,s)||Object.defineProperty(n,s,{enumerable:!0,get:i})},t.r=function(n){typeof Symbol<"u"&&Symbol.toStringTag&&Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(n,"__esModule",{value:!0})},t.t=function(n,s){if(1&s&&(n=t(n)),8&s||4&s&&typeof n=="object"&&n&&n.__esModule)return n;var i=Object.create(null);if(t.r(i),Object.defineProperty(i,"default",{enumerable:!0,value:n}),2&s&&typeof n!="string")for(var a in n)t.d(i,a,(function(o){return n[o]}).bind(null,a));return i},t.n=function(n){var s=n&&n.__esModule?function(){return n.default}:function(){return n};return t.d(s,"a",s),s},t.o=function(n,s){return Object.prototype.hasOwnProperty.call(n,s)},t.p="",t(t.s=9)}([function(r,e){r.exports=M},function(r,e,t){var n;/*!
  Copyright (c) 2017 Jed Watson.
  Licensed under the MIT License (MIT), see
  http://jedwatson.github.io/classnames
*/(function(){var s={}.hasOwnProperty;function i(){for(var a=[],o=0;o<arguments.length;o++){var l=arguments[o];if(l){var d=typeof l;if(d==="string"||d==="number")a.push(l);else if(Array.isArray(l)&&l.length){var c=i.apply(null,l);c&&a.push(c)}else if(d==="object")for(var f in l)s.call(l,f)&&l[f]&&a.push(f)}}return a.join(" ")}r.exports?(i.default=i,r.exports=i):(n=(function(){return i}).apply(e,[]))===void 0||(r.exports=n)})()},function(r,e,t){(function(n){var s=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,d=typeof n=="object"&&n&&n.Object===Object&&n,c=typeof self=="object"&&self&&self.Object===Object&&self,f=d||c||Function("return this")(),h=Object.prototype.toString,g=f.Symbol,v=g?g.prototype:void 0,y=v?v.toString:void 0;function p(E){if(typeof E=="string")return E;if(w(E))return y?y.call(E):"";var T=E+"";return T=="0"&&1/E==-1/0?"-0":T}function S(E){var T=typeof E;return!!E&&(T=="object"||T=="function")}function w(E){return typeof E=="symbol"||function(T){return!!T&&typeof T=="object"}(E)&&h.call(E)=="[object Symbol]"}function k(E){return E?(E=function(T){if(typeof T=="number")return T;if(w(T))return NaN;if(S(T)){var H=typeof T.valueOf=="function"?T.valueOf():T;T=S(H)?H+"":H}if(typeof T!="string")return T===0?T:+T;T=T.replace(s,"");var R=a.test(T);return R||o.test(T)?l(T.slice(2),R?2:8):i.test(T)?NaN:+T}(E))===1/0||E===-1/0?17976931348623157e292*(E<0?-1:1):E==E?E:0:E===0?E:0}r.exports=function(E,T,H){var R,O,I,z;return E=(R=E)==null?"":p(R),O=function(re){var ke=k(re),Me=ke%1;return ke==ke?Me?ke-Me:ke:0}(H),I=0,z=E.length,O==O&&(z!==void 0&&(O=O<=z?O:z),I!==void 0&&(O=O>=I?O:I)),H=O,T=p(T),E.slice(H,H+T.length)==T}}).call(this,t(3))},function(r,e){var t;t=function(){return this}();try{t=t||new Function("return this")()}catch{typeof window=="object"&&(t=window)}r.exports=t},function(r,e,t){(function(n){var s=/^\[object .+?Constructor\]$/,i=typeof n=="object"&&n&&n.Object===Object&&n,a=typeof self=="object"&&self&&self.Object===Object&&self,o=i||a||Function("return this")(),l,d=Array.prototype,c=Function.prototype,f=Object.prototype,h=o["__core-js_shared__"],g=(l=/[^.]+$/.exec(h&&h.keys&&h.keys.IE_PROTO||""))?"Symbol(src)_1."+l:"",v=c.toString,y=f.hasOwnProperty,p=f.toString,S=RegExp("^"+v.call(y).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),w=d.splice,k=re(o,"Map"),E=re(Object,"create");function T(V){var Q=-1,X=V?V.length:0;for(this.clear();++Q<X;){var N=V[Q];this.set(N[0],N[1])}}function H(V){var Q=-1,X=V?V.length:0;for(this.clear();++Q<X;){var N=V[Q];this.set(N[0],N[1])}}function R(V){var Q=-1,X=V?V.length:0;for(this.clear();++Q<X;){var N=V[Q];this.set(N[0],N[1])}}function O(V,Q){for(var X,N,se=V.length;se--;)if((X=V[se][0])===(N=Q)||X!=X&&N!=N)return se;return-1}function I(V){return!(!Me(V)||(Q=V,g&&g in Q))&&(function(X){var N=Me(X)?p.call(X):"";return N=="[object Function]"||N=="[object GeneratorFunction]"}(V)||function(X){var N=!1;if(X!=null&&typeof X.toString!="function")try{N=!!(X+"")}catch{}return N}(V)?S:s).test(function(X){if(X!=null){try{return v.call(X)}catch{}try{return X+""}catch{}}return""}(V));var Q}function z(V,Q){var X,N,se=V.__data__;return((N=typeof(X=Q))=="string"||N=="number"||N=="symbol"||N=="boolean"?X!=="__proto__":X===null)?se[typeof Q=="string"?"string":"hash"]:se.map}function re(V,Q){var X=function(N,se){return N==null?void 0:N[se]}(V,Q);return I(X)?X:void 0}function ke(V,Q){if(typeof V!="function"||Q&&typeof Q!="function")throw new TypeError("Expected a function");var X=function(){var N=arguments,se=Q?Q.apply(this,N):N[0],Re=X.cache;if(Re.has(se))return Re.get(se);var W=V.apply(this,N);return X.cache=Re.set(se,W),W};return X.cache=new(ke.Cache||R),X}function Me(V){var Q=typeof V;return!!V&&(Q=="object"||Q=="function")}T.prototype.clear=function(){this.__data__=E?E(null):{}},T.prototype.delete=function(V){return this.has(V)&&delete this.__data__[V]},T.prototype.get=function(V){var Q=this.__data__;if(E){var X=Q[V];return X==="__lodash_hash_undefined__"?void 0:X}return y.call(Q,V)?Q[V]:void 0},T.prototype.has=function(V){var Q=this.__data__;return E?Q[V]!==void 0:y.call(Q,V)},T.prototype.set=function(V,Q){return this.__data__[V]=E&&Q===void 0?"__lodash_hash_undefined__":Q,this},H.prototype.clear=function(){this.__data__=[]},H.prototype.delete=function(V){var Q=this.__data__,X=O(Q,V);return!(X<0)&&(X==Q.length-1?Q.pop():w.call(Q,X,1),!0)},H.prototype.get=function(V){var Q=this.__data__,X=O(Q,V);return X<0?void 0:Q[X][1]},H.prototype.has=function(V){return O(this.__data__,V)>-1},H.prototype.set=function(V,Q){var X=this.__data__,N=O(X,V);return N<0?X.push([V,Q]):X[N][1]=Q,this},R.prototype.clear=function(){this.__data__={hash:new T,map:new(k||H),string:new T}},R.prototype.delete=function(V){return z(this,V).delete(V)},R.prototype.get=function(V){return z(this,V).get(V)},R.prototype.has=function(V){return z(this,V).has(V)},R.prototype.set=function(V,Q){return z(this,V).set(V,Q),this},ke.Cache=R,r.exports=ke}).call(this,t(3))},function(r,e,t){(function(n){var s=/^\s+|\s+$/g,i=/^[-+]0x[0-9a-f]+$/i,a=/^0b[01]+$/i,o=/^0o[0-7]+$/i,l=parseInt,d=typeof n=="object"&&n&&n.Object===Object&&n,c=typeof self=="object"&&self&&self.Object===Object&&self,f=d||c||Function("return this")(),h=Object.prototype.toString,g=Math.max,v=Math.min,y=function(){return f.Date.now()};function p(w){var k=typeof w;return!!w&&(k=="object"||k=="function")}function S(w){if(typeof w=="number")return w;if(function(T){return typeof T=="symbol"||function(H){return!!H&&typeof H=="object"}(T)&&h.call(T)=="[object Symbol]"}(w))return NaN;if(p(w)){var k=typeof w.valueOf=="function"?w.valueOf():w;w=p(k)?k+"":k}if(typeof w!="string")return w===0?w:+w;w=w.replace(s,"");var E=a.test(w);return E||o.test(w)?l(w.slice(2),E?2:8):i.test(w)?NaN:+w}r.exports=function(w,k,E){var T,H,R,O,I,z,re=0,ke=!1,Me=!1,V=!0;if(typeof w!="function")throw new TypeError("Expected a function");function Q(U){var C=T,B=H;return T=H=void 0,re=U,O=w.apply(B,C)}function X(U){return re=U,I=setTimeout(se,k),ke?Q(U):O}function N(U){var C=U-z;return z===void 0||C>=k||C<0||Me&&U-re>=R}function se(){var U=y();if(N(U))return Re(U);I=setTimeout(se,function(C){var B=k-(C-z);return Me?v(B,R-(C-re)):B}(U))}function Re(U){return I=void 0,V&&T?Q(U):(T=H=void 0,O)}function W(){var U=y(),C=N(U);if(T=arguments,H=this,z=U,C){if(I===void 0)return X(z);if(Me)return I=setTimeout(se,k),Q(z)}return I===void 0&&(I=setTimeout(se,k)),O}return k=S(k)||0,p(E)&&(ke=!!E.leading,R=(Me="maxWait"in E)?g(S(E.maxWait)||0,k):R,V="trailing"in E?!!E.trailing:V),W.cancel=function(){I!==void 0&&clearTimeout(I),re=0,T=z=H=I=void 0},W.flush=function(){return I===void 0?O:Re(y())},W}}).call(this,t(3))},function(r,e,t){(function(n,s){var i="[object Arguments]",a="[object Map]",o="[object Object]",l="[object Set]",d=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,c=/^\w*$/,f=/^\./,h=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,g=/\\(\\)?/g,v=/^\[object .+?Constructor\]$/,y=/^(?:0|[1-9]\d*)$/,p={};p["[object Float32Array]"]=p["[object Float64Array]"]=p["[object Int8Array]"]=p["[object Int16Array]"]=p["[object Int32Array]"]=p["[object Uint8Array]"]=p["[object Uint8ClampedArray]"]=p["[object Uint16Array]"]=p["[object Uint32Array]"]=!0,p[i]=p["[object Array]"]=p["[object ArrayBuffer]"]=p["[object Boolean]"]=p["[object DataView]"]=p["[object Date]"]=p["[object Error]"]=p["[object Function]"]=p[a]=p["[object Number]"]=p[o]=p["[object RegExp]"]=p[l]=p["[object String]"]=p["[object WeakMap]"]=!1;var S=typeof n=="object"&&n&&n.Object===Object&&n,w=typeof self=="object"&&self&&self.Object===Object&&self,k=S||w||Function("return this")(),E=e&&!e.nodeType&&e,T=E&&typeof s=="object"&&s&&!s.nodeType&&s,H=T&&T.exports===E&&S.process,R=function(){try{return H&&H.binding("util")}catch{}}(),O=R&&R.isTypedArray;function I(b,D,F,q){var ie=-1,ae=b?b.length:0;for(q&&ae&&(F=b[++ie]);++ie<ae;)F=D(F,b[ie],ie,b);return F}function z(b,D){for(var F=-1,q=b?b.length:0;++F<q;)if(D(b[F],F,b))return!0;return!1}function re(b,D,F,q,ie){return ie(b,function(ae,be,qe){F=q?(q=!1,ae):D(F,ae,be,qe)}),F}function ke(b){var D=!1;if(b!=null&&typeof b.toString!="function")try{D=!!(b+"")}catch{}return D}function Me(b){var D=-1,F=Array(b.size);return b.forEach(function(q,ie){F[++D]=[ie,q]}),F}function V(b){var D=-1,F=Array(b.size);return b.forEach(function(q){F[++D]=q}),F}var Q,X,N,se=Array.prototype,Re=Function.prototype,W=Object.prototype,U=k["__core-js_shared__"],C=(Q=/[^.]+$/.exec(U&&U.keys&&U.keys.IE_PROTO||""))?"Symbol(src)_1."+Q:"",B=Re.toString,P=W.hasOwnProperty,m=W.toString,$=RegExp("^"+B.call(P).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),G=k.Symbol,te=k.Uint8Array,me=W.propertyIsEnumerable,Ee=se.splice,ue=(X=Object.keys,N=Object,function(b){return X(N(b))}),we=Sn(k,"DataView"),_e=Sn(k,"Map"),pe=Sn(k,"Promise"),A=Sn(k,"Set"),L=Sn(k,"WeakMap"),Y=Sn(Object,"create"),fe=Wr(we),oe=Wr(_e),ye=Wr(pe),ve=Wr(A),Ne=Wr(L),J=G?G.prototype:void 0,le=J?J.valueOf:void 0,Ce=J?J.toString:void 0;function Z(b){var D=-1,F=b?b.length:0;for(this.clear();++D<F;){var q=b[D];this.set(q[0],q[1])}}function ne(b){var D=-1,F=b?b.length:0;for(this.clear();++D<F;){var q=b[D];this.set(q[0],q[1])}}function ze(b){var D=-1,F=b?b.length:0;for(this.clear();++D<F;){var q=b[D];this.set(q[0],q[1])}}function xt(b){var D=-1,F=b?b.length:0;for(this.__data__=new ze;++D<F;)this.add(b[D])}function rt(b){this.__data__=new ne(b)}function kt(b,D){var F=dr(b)||ql(b)?function(be,qe){for(var We=-1,Fe=Array(be);++We<be;)Fe[We]=qe(We);return Fe}(b.length,String):[],q=F.length,ie=!!q;for(var ae in b)!P.call(b,ae)||ie&&(ae=="length"||Hl(ae,q))||F.push(ae);return F}function Ut(b,D){for(var F=b.length;F--;)if(zl(b[F][0],D))return F;return-1}Z.prototype.clear=function(){this.__data__=Y?Y(null):{}},Z.prototype.delete=function(b){return this.has(b)&&delete this.__data__[b]},Z.prototype.get=function(b){var D=this.__data__;if(Y){var F=D[b];return F==="__lodash_hash_undefined__"?void 0:F}return P.call(D,b)?D[b]:void 0},Z.prototype.has=function(b){var D=this.__data__;return Y?D[b]!==void 0:P.call(D,b)},Z.prototype.set=function(b,D){return this.__data__[b]=Y&&D===void 0?"__lodash_hash_undefined__":D,this},ne.prototype.clear=function(){this.__data__=[]},ne.prototype.delete=function(b){var D=this.__data__,F=Ut(D,b);return!(F<0)&&(F==D.length-1?D.pop():Ee.call(D,F,1),!0)},ne.prototype.get=function(b){var D=this.__data__,F=Ut(D,b);return F<0?void 0:D[F][1]},ne.prototype.has=function(b){return Ut(this.__data__,b)>-1},ne.prototype.set=function(b,D){var F=this.__data__,q=Ut(F,b);return q<0?F.push([b,D]):F[q][1]=D,this},ze.prototype.clear=function(){this.__data__={hash:new Z,map:new(_e||ne),string:new Z}},ze.prototype.delete=function(b){return Qs(this,b).delete(b)},ze.prototype.get=function(b){return Qs(this,b).get(b)},ze.prototype.has=function(b){return Qs(this,b).has(b)},ze.prototype.set=function(b,D){return Qs(this,b).set(b,D),this},xt.prototype.add=xt.prototype.push=function(b){return this.__data__.set(b,"__lodash_hash_undefined__"),this},xt.prototype.has=function(b){return this.__data__.has(b)},rt.prototype.clear=function(){this.__data__=new ne},rt.prototype.delete=function(b){return this.__data__.delete(b)},rt.prototype.get=function(b){return this.__data__.get(b)},rt.prototype.has=function(b){return this.__data__.has(b)},rt.prototype.set=function(b,D){var F=this.__data__;if(F instanceof ne){var q=F.__data__;if(!_e||q.length<199)return q.push([b,D]),this;F=this.__data__=new ze(q)}return F.set(b,D),this};var qr,Je=(qr=function(b,D){return b&&_n(b,D,Xs)},function(b,D){if(b==null)return b;if(!wa(b))return qr(b,D);for(var F=b.length,q=-1,ie=Object(b);++q<F&&D(ie[q],q,ie)!==!1;);return b}),_n=function(b){return function(D,F,q){for(var ie=-1,ae=Object(D),be=q(D),qe=be.length;qe--;){var We=be[++ie];if(F(ae[We],We,ae)===!1)break}return D}}();function ds(b,D){for(var F=0,q=(D=Ys(D,b)?[D]:Fl(D)).length;b!=null&&F<q;)b=b[Ks(D[F++])];return F&&F==q?b:void 0}function va(b,D){return b!=null&&D in Object(b)}function us(b,D,F,q,ie){return b===D||(b==null||D==null||!Js(b)&&!Zs(D)?b!=b&&D!=D:function(ae,be,qe,We,Fe,Te){var At=dr(ae),nt=dr(be),Ze="[object Array]",et="[object Array]";At||(Ze=(Ze=cr(ae))==i?o:Ze),nt||(et=(et=cr(be))==i?o:et);var Rt=Ze==o&&!ke(ae),En=et==o&&!ke(be),ur=Ze==et;if(ur&&!Rt)return Te||(Te=new rt),At||eg(ae)?Ul(ae,be,qe,We,Fe,Te):function(Ue,Pe,Sa,Vr,ei,_t,Qt){switch(Sa){case"[object DataView]":if(Ue.byteLength!=Pe.byteLength||Ue.byteOffset!=Pe.byteOffset)return!1;Ue=Ue.buffer,Pe=Pe.buffer;case"[object ArrayBuffer]":return!(Ue.byteLength!=Pe.byteLength||!Vr(new te(Ue),new te(Pe)));case"[object Boolean]":case"[object Date]":case"[object Number]":return zl(+Ue,+Pe);case"[object Error]":return Ue.name==Pe.name&&Ue.message==Pe.message;case"[object RegExp]":case"[object String]":return Ue==Pe+"";case a:var hr=Me;case l:var fs=2&_t;if(hr||(hr=V),Ue.size!=Pe.size&&!fs)return!1;var ti=Qt.get(Ue);if(ti)return ti==Pe;_t|=1,Qt.set(Ue,Pe);var Cn=Ul(hr(Ue),hr(Pe),Vr,ei,_t,Qt);return Qt.delete(Ue),Cn;case"[object Symbol]":if(le)return le.call(Ue)==le.call(Pe)}return!1}(ae,be,Ze,qe,We,Fe,Te);if(!(2&Fe)){var Vl=Rt&&P.call(ae,"__wrapped__"),Gl=En&&P.call(be,"__wrapped__");if(Vl||Gl){var rg=Vl?ae.value():ae,ng=Gl?be.value():be;return Te||(Te=new rt),qe(rg,ng,We,Fe,Te)}}return ur?(Te||(Te=new rt),function(Ue,Pe,Sa,Vr,ei,_t){var Qt=2&ei,hr=Xs(Ue),fs=hr.length,ti=Xs(Pe).length;if(fs!=ti&&!Qt)return!1;for(var Cn=fs;Cn--;){var fr=hr[Cn];if(!(Qt?fr in Pe:P.call(Pe,fr)))return!1}var Ql=_t.get(Ue);if(Ql&&_t.get(Pe))return Ql==Pe;var ri=!0;_t.set(Ue,Pe),_t.set(Pe,Ue);for(var Ea=Qt;++Cn<fs;){fr=hr[Cn];var ni=Ue[fr],si=Pe[fr];if(Vr)var Yl=Qt?Vr(si,ni,fr,Pe,Ue,_t):Vr(ni,si,fr,Ue,Pe,_t);if(!(Yl===void 0?ni===si||Sa(ni,si,Vr,ei,_t):Yl)){ri=!1;break}Ea||(Ea=fr=="constructor")}if(ri&&!Ea){var ii=Ue.constructor,ai=Pe.constructor;ii==ai||!("constructor"in Ue)||!("constructor"in Pe)||typeof ii=="function"&&ii instanceof ii&&typeof ai=="function"&&ai instanceof ai||(ri=!1)}return _t.delete(Ue),_t.delete(Pe),ri}(ae,be,qe,We,Fe,Te)):!1}(b,D,us,F,q,ie))}function hs(b){return!(!Js(b)||function(D){return!!C&&C in D}(b))&&(Wl(b)||ke(b)?$:v).test(Wr(b))}function Jf(b){return typeof b=="function"?b:b==null?tg:typeof b=="object"?dr(b)?function(q,ie){return Ys(q)&&Bl(ie)?$l(Ks(q),ie):function(ae){var be=function(qe,We,Fe){var Te=qe==null?void 0:ds(qe,We);return Te===void 0?Fe:Te}(ae,q);return be===void 0&&be===ie?function(qe,We){return qe!=null&&function(Fe,Te,At){Te=Ys(Te,Fe)?[Te]:Fl(Te);for(var nt,Ze=-1,et=Te.length;++Ze<et;){var Rt=Ks(Te[Ze]);if(!(nt=Fe!=null&&At(Fe,Rt)))break;Fe=Fe[Rt]}return nt||!!(et=Fe?Fe.length:0)&&xa(et)&&Hl(Rt,et)&&(dr(Fe)||ql(Fe))}(qe,We,va)}(ae,q):us(ie,be,void 0,3)}}(b[0],b[1]):function(q){var ie=function(ae){for(var be=Xs(ae),qe=be.length;qe--;){var We=be[qe],Fe=ae[We];be[qe]=[We,Fe,Bl(Fe)]}return be}(q);return ie.length==1&&ie[0][2]?$l(ie[0][0],ie[0][1]):function(ae){return ae===q||function(be,qe,We,Fe){var Te=We.length,At=Te;if(be==null)return!At;for(be=Object(be);Te--;){var nt=We[Te];if(nt[2]?nt[1]!==be[nt[0]]:!(nt[0]in be))return!1}for(;++Te<At;){var Ze=(nt=We[Te])[0],et=be[Ze],Rt=nt[1];if(nt[2]){if(et===void 0&&!(Ze in be))return!1}else{var En=new rt,ur;if(!(ur===void 0?us(Rt,et,Fe,3,En):ur))return!1}}return!0}(ae,q,ie)}}(b):Ys(D=b)?(F=Ks(D),function(q){return q==null?void 0:q[F]}):function(q){return function(ie){return ds(ie,q)}}(D);var D,F}function Zf(b){if(F=(D=b)&&D.constructor,q=typeof F=="function"&&F.prototype||W,D!==q)return ue(b);var D,F,q,ie=[];for(var ae in Object(b))P.call(b,ae)&&ae!="constructor"&&ie.push(ae);return ie}function Fl(b){return dr(b)?b:Xf(b)}function Ul(b,D,F,q,ie,ae){var be=2&ie,qe=b.length,We=D.length;if(qe!=We&&!(be&&We>qe))return!1;var Fe=ae.get(b);if(Fe&&ae.get(D))return Fe==D;var Te=-1,At=!0,nt=1&ie?new xt:void 0;for(ae.set(b,D),ae.set(D,b);++Te<qe;){var Ze=b[Te],et=D[Te];if(q)var Rt=be?q(et,Ze,Te,D,b,ae):q(Ze,et,Te,b,D,ae);if(Rt!==void 0){if(Rt)continue;At=!1;break}if(nt){if(!z(D,function(En,ur){if(!nt.has(ur)&&(Ze===En||F(Ze,En,q,ie,ae)))return nt.add(ur)})){At=!1;break}}else if(Ze!==et&&!F(Ze,et,q,ie,ae)){At=!1;break}}return ae.delete(b),ae.delete(D),At}function Qs(b,D){var F,q,ie=b.__data__;return((q=typeof(F=D))=="string"||q=="number"||q=="symbol"||q=="boolean"?F!=="__proto__":F===null)?ie[typeof D=="string"?"string":"hash"]:ie.map}function Sn(b,D){var F=function(q,ie){return q==null?void 0:q[ie]}(b,D);return hs(F)?F:void 0}var cr=function(b){return m.call(b)};function Hl(b,D){return!!(D=D??9007199254740991)&&(typeof b=="number"||y.test(b))&&b>-1&&b%1==0&&b<D}function Ys(b,D){if(dr(b))return!1;var F=typeof b;return!(F!="number"&&F!="symbol"&&F!="boolean"&&b!=null&&!_a(b))||c.test(b)||!d.test(b)||D!=null&&b in Object(D)}function Bl(b){return b==b&&!Js(b)}function $l(b,D){return function(F){return F!=null&&F[b]===D&&(D!==void 0||b in Object(F))}}(we&&cr(new we(new ArrayBuffer(1)))!="[object DataView]"||_e&&cr(new _e)!=a||pe&&cr(pe.resolve())!="[object Promise]"||A&&cr(new A)!=l||L&&cr(new L)!="[object WeakMap]")&&(cr=function(b){var D=m.call(b),F=D==o?b.constructor:void 0,q=F?Wr(F):void 0;if(q)switch(q){case fe:return"[object DataView]";case oe:return a;case ye:return"[object Promise]";case ve:return l;case Ne:return"[object WeakMap]"}return D});var Xf=ba(function(b){var D;b=(D=b)==null?"":function(q){if(typeof q=="string")return q;if(_a(q))return Ce?Ce.call(q):"";var ie=q+"";return ie=="0"&&1/q==-1/0?"-0":ie}(D);var F=[];return f.test(b)&&F.push(""),b.replace(h,function(q,ie,ae,be){F.push(ae?be.replace(g,"$1"):ie||q)}),F});function Ks(b){if(typeof b=="string"||_a(b))return b;var D=b+"";return D=="0"&&1/b==-1/0?"-0":D}function Wr(b){if(b!=null){try{return B.call(b)}catch{}try{return b+""}catch{}}return""}function ba(b,D){if(typeof b!="function"||D&&typeof D!="function")throw new TypeError("Expected a function");var F=function(){var q=arguments,ie=D?D.apply(this,q):q[0],ae=F.cache;if(ae.has(ie))return ae.get(ie);var be=b.apply(this,q);return F.cache=ae.set(ie,be),be};return F.cache=new(ba.Cache||ze),F}function zl(b,D){return b===D||b!=b&&D!=D}function ql(b){return function(D){return Zs(D)&&wa(D)}(b)&&P.call(b,"callee")&&(!me.call(b,"callee")||m.call(b)==i)}ba.Cache=ze;var dr=Array.isArray;function wa(b){return b!=null&&xa(b.length)&&!Wl(b)}function Wl(b){var D=Js(b)?m.call(b):"";return D=="[object Function]"||D=="[object GeneratorFunction]"}function xa(b){return typeof b=="number"&&b>-1&&b%1==0&&b<=9007199254740991}function Js(b){var D=typeof b;return!!b&&(D=="object"||D=="function")}function Zs(b){return!!b&&typeof b=="object"}function _a(b){return typeof b=="symbol"||Zs(b)&&m.call(b)=="[object Symbol]"}var eg=O?function(b){return function(D){return b(D)}}(O):function(b){return Zs(b)&&xa(b.length)&&!!p[m.call(b)]};function Xs(b){return wa(b)?kt(b):Zf(b)}function tg(b){return b}s.exports=function(b,D,F){var q=dr(b)?I:re,ie=arguments.length<3;return q(b,Jf(D),F,ie,Je)}}).call(this,t(3),t(7)(r))},function(r,e){r.exports=function(t){return t.webpackPolyfill||(t.deprecate=function(){},t.paths=[],t.children||(t.children=[]),Object.defineProperty(t,"loaded",{enumerable:!0,get:function(){return t.l}}),Object.defineProperty(t,"id",{enumerable:!0,get:function(){return t.i}}),t.webpackPolyfill=1),t}},function(r,e){String.prototype.padEnd||(String.prototype.padEnd=function(t,n){return t>>=0,n=String(n!==void 0?n:" "),this.length>t?String(this):((t-=this.length)>n.length&&(n+=n.repeat(t/n.length)),String(this)+n.slice(0,t))})},function(r,e,t){function n(W,U,C){return U in W?Object.defineProperty(W,U,{value:C,enumerable:!0,configurable:!0,writable:!0}):W[U]=C,W}function s(W){if(Symbol.iterator in Object(W)||Object.prototype.toString.call(W)==="[object Arguments]")return Array.from(W)}function i(W){return function(U){if(Array.isArray(U)){for(var C=0,B=new Array(U.length);C<U.length;C++)B[C]=U[C];return B}}(W)||s(W)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance")}()}function a(W){if(Array.isArray(W))return W}function o(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}function l(W,U){if(!(W instanceof U))throw new TypeError("Cannot call a class as a function")}function d(W,U){for(var C=0;C<U.length;C++){var B=U[C];B.enumerable=B.enumerable||!1,B.configurable=!0,"value"in B&&(B.writable=!0),Object.defineProperty(W,B.key,B)}}function c(W){return(c=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(U){return typeof U}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":typeof U})(W)}function f(W){return(f=typeof Symbol=="function"&&c(Symbol.iterator)==="symbol"?function(U){return c(U)}:function(U){return U&&typeof Symbol=="function"&&U.constructor===Symbol&&U!==Symbol.prototype?"symbol":c(U)})(W)}function h(W){if(W===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return W}function g(W){return(g=Object.setPrototypeOf?Object.getPrototypeOf:function(U){return U.__proto__||Object.getPrototypeOf(U)})(W)}function v(W,U){return(v=Object.setPrototypeOf||function(C,B){return C.__proto__=B,C})(W,U)}t.r(e);var y=t(0),p=t.n(y),S=t(5),w=t.n(S),k=t(4),E=t.n(k),T=t(6),H=t.n(T),R=t(2),O=t.n(R),I=t(1),z=t.n(I);t(8);function re(W,U){return a(W)||function(C,B){var P=[],m=!0,$=!1,G=void 0;try{for(var te,me=C[Symbol.iterator]();!(m=(te=me.next()).done)&&(P.push(te.value),!B||P.length!==B);m=!0);}catch(Ee){$=!0,G=Ee}finally{try{m||me.return==null||me.return()}finally{if($)throw G}}return P}(W,U)||o()}var ke=[["Afghanistan",["asia"],"af","93"],["Albania",["europe"],"al","355"],["Algeria",["africa","north-africa"],"dz","213"],["Andorra",["europe"],"ad","376"],["Angola",["africa"],"ao","244"],["Antigua and Barbuda",["america","carribean"],"ag","1268"],["Argentina",["america","south-america"],"ar","54","(..) ........",0,["11","221","223","261","264","2652","280","2905","291","2920","2966","299","341","342","343","351","376","379","381","3833","385","387","388"]],["Armenia",["asia","ex-ussr"],"am","374",".. ......"],["Aruba",["america","carribean"],"aw","297"],["Australia",["oceania"],"au","61","(..) .... ....",0,["2","3","4","7","8","02","03","04","07","08"]],["Austria",["europe","eu-union"],"at","43"],["Azerbaijan",["asia","ex-ussr"],"az","994","(..) ... .. .."],["Bahamas",["america","carribean"],"bs","1242"],["Bahrain",["middle-east"],"bh","973"],["Bangladesh",["asia"],"bd","880"],["Barbados",["america","carribean"],"bb","1246"],["Belarus",["europe","ex-ussr"],"by","375","(..) ... .. .."],["Belgium",["europe","eu-union"],"be","32","... .. .. .."],["Belize",["america","central-america"],"bz","501"],["Benin",["africa"],"bj","229"],["Bhutan",["asia"],"bt","975"],["Bolivia",["america","south-america"],"bo","591"],["Bosnia and Herzegovina",["europe","ex-yugos"],"ba","387"],["Botswana",["africa"],"bw","267"],["Brazil",["america","south-america"],"br","55","(..) ........."],["British Indian Ocean Territory",["asia"],"io","246"],["Brunei",["asia"],"bn","673"],["Bulgaria",["europe","eu-union"],"bg","359"],["Burkina Faso",["africa"],"bf","226"],["Burundi",["africa"],"bi","257"],["Cambodia",["asia"],"kh","855"],["Cameroon",["africa"],"cm","237"],["Canada",["america","north-america"],"ca","1","(...) ...-....",1,["204","226","236","249","250","289","306","343","365","387","403","416","418","431","437","438","450","506","514","519","548","579","581","587","604","613","639","647","672","705","709","742","778","780","782","807","819","825","867","873","902","905"]],["Cape Verde",["africa"],"cv","238"],["Caribbean Netherlands",["america","carribean"],"bq","599","",1],["Central African Republic",["africa"],"cf","236"],["Chad",["africa"],"td","235"],["Chile",["america","south-america"],"cl","56"],["China",["asia"],"cn","86","..-........."],["Colombia",["america","south-america"],"co","57","... ... ...."],["Comoros",["africa"],"km","269"],["Congo",["africa"],"cd","243"],["Congo",["africa"],"cg","242"],["Costa Rica",["america","central-america"],"cr","506","....-...."],["Cte dIvoire",["africa"],"ci","225",".. .. .. .."],["Croatia",["europe","eu-union","ex-yugos"],"hr","385"],["Cuba",["america","carribean"],"cu","53"],["Curaao",["america","carribean"],"cw","599","",0],["Cyprus",["europe","eu-union"],"cy","357",".. ......"],["Czech Republic",["europe","eu-union"],"cz","420","... ... ..."],["Denmark",["europe","eu-union","baltic"],"dk","45",".. .. .. .."],["Djibouti",["africa"],"dj","253"],["Dominica",["america","carribean"],"dm","1767"],["Dominican Republic",["america","carribean"],"do","1","",2,["809","829","849"]],["Ecuador",["america","south-america"],"ec","593"],["Egypt",["africa","north-africa"],"eg","20"],["El Salvador",["america","central-america"],"sv","503","....-...."],["Equatorial Guinea",["africa"],"gq","240"],["Eritrea",["africa"],"er","291"],["Estonia",["europe","eu-union","ex-ussr","baltic"],"ee","372",".... ......"],["Ethiopia",["africa"],"et","251"],["Fiji",["oceania"],"fj","679"],["Finland",["europe","eu-union","baltic"],"fi","358",".. ... .. .."],["France",["europe","eu-union"],"fr","33",". .. .. .. .."],["French Guiana",["america","south-america"],"gf","594"],["French Polynesia",["oceania"],"pf","689"],["Gabon",["africa"],"ga","241"],["Gambia",["africa"],"gm","220"],["Georgia",["asia","ex-ussr"],"ge","995"],["Germany",["europe","eu-union","baltic"],"de","49",".... ........"],["Ghana",["africa"],"gh","233"],["Greece",["europe","eu-union"],"gr","30"],["Grenada",["america","carribean"],"gd","1473"],["Guadeloupe",["america","carribean"],"gp","590","",0],["Guam",["oceania"],"gu","1671"],["Guatemala",["america","central-america"],"gt","502","....-...."],["Guinea",["africa"],"gn","224"],["Guinea-Bissau",["africa"],"gw","245"],["Guyana",["america","south-america"],"gy","592"],["Haiti",["america","carribean"],"ht","509","....-...."],["Honduras",["america","central-america"],"hn","504"],["Hong Kong",["asia"],"hk","852",".... ...."],["Hungary",["europe","eu-union"],"hu","36"],["Iceland",["europe"],"is","354","... ...."],["India",["asia"],"in","91",".....-....."],["Indonesia",["asia"],"id","62"],["Iran",["middle-east"],"ir","98","... ... ...."],["Iraq",["middle-east"],"iq","964"],["Ireland",["europe","eu-union"],"ie","353",".. ......."],["Israel",["middle-east"],"il","972","... ... ...."],["Italy",["europe","eu-union"],"it","39","... .......",0],["Jamaica",["america","carribean"],"jm","1876"],["Japan",["asia"],"jp","81",".. .... ...."],["Jordan",["middle-east"],"jo","962"],["Kazakhstan",["asia","ex-ussr"],"kz","7","... ...-..-..",1,["310","311","312","313","315","318","321","324","325","326","327","336","7172","73622"]],["Kenya",["africa"],"ke","254"],["Kiribati",["oceania"],"ki","686"],["Kosovo",["europe","ex-yugos"],"xk","383"],["Kuwait",["middle-east"],"kw","965"],["Kyrgyzstan",["asia","ex-ussr"],"kg","996","... ... ..."],["Laos",["asia"],"la","856"],["Latvia",["europe","eu-union","ex-ussr","baltic"],"lv","371",".. ... ..."],["Lebanon",["middle-east"],"lb","961"],["Lesotho",["africa"],"ls","266"],["Liberia",["africa"],"lr","231"],["Libya",["africa","north-africa"],"ly","218"],["Liechtenstein",["europe"],"li","423"],["Lithuania",["europe","eu-union","ex-ussr","baltic"],"lt","370"],["Luxembourg",["europe","eu-union"],"lu","352"],["Macau",["asia"],"mo","853"],["Macedonia",["europe","ex-yugos"],"mk","389"],["Madagascar",["africa"],"mg","261"],["Malawi",["africa"],"mw","265"],["Malaysia",["asia"],"my","60","..-....-...."],["Maldives",["asia"],"mv","960"],["Mali",["africa"],"ml","223"],["Malta",["europe","eu-union"],"mt","356"],["Marshall Islands",["oceania"],"mh","692"],["Martinique",["america","carribean"],"mq","596"],["Mauritania",["africa"],"mr","222"],["Mauritius",["africa"],"mu","230"],["Mexico",["america","central-america"],"mx","52","... ... ....",0,["55","81","33","656","664","998","774","229"]],["Micronesia",["oceania"],"fm","691"],["Moldova",["europe"],"md","373","(..) ..-..-.."],["Monaco",["europe"],"mc","377"],["Mongolia",["asia"],"mn","976"],["Montenegro",["europe","ex-yugos"],"me","382"],["Morocco",["africa","north-africa"],"ma","212"],["Mozambique",["africa"],"mz","258"],["Myanmar",["asia"],"mm","95"],["Namibia",["africa"],"na","264"],["Nauru",["africa"],"nr","674"],["Nepal",["asia"],"np","977"],["Netherlands",["europe","eu-union"],"nl","31",".. ........"],["New Caledonia",["oceania"],"nc","687"],["New Zealand",["oceania"],"nz","64","...-...-...."],["Nicaragua",["america","central-america"],"ni","505"],["Niger",["africa"],"ne","227"],["Nigeria",["africa"],"ng","234"],["North Korea",["asia"],"kp","850"],["Norway",["europe","baltic"],"no","47","... .. ..."],["Oman",["middle-east"],"om","968"],["Pakistan",["asia"],"pk","92","...-......."],["Palau",["oceania"],"pw","680"],["Palestine",["middle-east"],"ps","970"],["Panama",["america","central-america"],"pa","507"],["Papua New Guinea",["oceania"],"pg","675"],["Paraguay",["america","south-america"],"py","595"],["Peru",["america","south-america"],"pe","51"],["Philippines",["asia"],"ph","63",".... ......."],["Poland",["europe","eu-union","baltic"],"pl","48","...-...-..."],["Portugal",["europe","eu-union"],"pt","351"],["Puerto Rico",["america","carribean"],"pr","1","",3,["787","939"]],["Qatar",["middle-east"],"qa","974"],["Runion",["africa"],"re","262"],["Romania",["europe","eu-union"],"ro","40"],["Russia",["europe","asia","ex-ussr","baltic"],"ru","7","(...) ...-..-..",0],["Rwanda",["africa"],"rw","250"],["Saint Kitts and Nevis",["america","carribean"],"kn","1869"],["Saint Lucia",["america","carribean"],"lc","1758"],["Saint Vincent and the Grenadines",["america","carribean"],"vc","1784"],["Samoa",["oceania"],"ws","685"],["San Marino",["europe"],"sm","378"],["So Tom and Prncipe",["africa"],"st","239"],["Saudi Arabia",["middle-east"],"sa","966"],["Senegal",["africa"],"sn","221"],["Serbia",["europe","ex-yugos"],"rs","381"],["Seychelles",["africa"],"sc","248"],["Sierra Leone",["africa"],"sl","232"],["Singapore",["asia"],"sg","65","....-...."],["Slovakia",["europe","eu-union"],"sk","421"],["Slovenia",["europe","eu-union","ex-yugos"],"si","386"],["Solomon Islands",["oceania"],"sb","677"],["Somalia",["africa"],"so","252"],["South Africa",["africa"],"za","27"],["South Korea",["asia"],"kr","82","... .... ...."],["South Sudan",["africa","north-africa"],"ss","211"],["Spain",["europe","eu-union"],"es","34","... ... ..."],["Sri Lanka",["asia"],"lk","94"],["Sudan",["africa"],"sd","249"],["Suriname",["america","south-america"],"sr","597"],["Swaziland",["africa"],"sz","268"],["Sweden",["europe","eu-union","baltic"],"se","46","(...) ...-..."],["Switzerland",["europe"],"ch","41",".. ... .. .."],["Syria",["middle-east"],"sy","963"],["Taiwan",["asia"],"tw","886"],["Tajikistan",["asia","ex-ussr"],"tj","992"],["Tanzania",["africa"],"tz","255"],["Thailand",["asia"],"th","66"],["Timor-Leste",["asia"],"tl","670"],["Togo",["africa"],"tg","228"],["Tonga",["oceania"],"to","676"],["Trinidad and Tobago",["america","carribean"],"tt","1868"],["Tunisia",["africa","north-africa"],"tn","216"],["Turkey",["europe"],"tr","90","... ... .. .."],["Turkmenistan",["asia","ex-ussr"],"tm","993"],["Tuvalu",["asia"],"tv","688"],["Uganda",["africa"],"ug","256"],["Ukraine",["europe","ex-ussr"],"ua","380","(..) ... .. .."],["United Arab Emirates",["middle-east"],"ae","971"],["United Kingdom",["europe","eu-union"],"gb","44",".... ......"],["United States",["america","north-america"],"us","1","(...) ...-....",0,["907","205","251","256","334","479","501","870","480","520","602","623","928","209","213","310","323","408","415","510","530","559","562","619","626","650","661","707","714","760","805","818","831","858","909","916","925","949","951","303","719","970","203","860","202","302","239","305","321","352","386","407","561","727","772","813","850","863","904","941","954","229","404","478","706","770","912","808","319","515","563","641","712","208","217","309","312","618","630","708","773","815","847","219","260","317","574","765","812","316","620","785","913","270","502","606","859","225","318","337","504","985","413","508","617","781","978","301","410","207","231","248","269","313","517","586","616","734","810","906","989","218","320","507","612","651","763","952","314","417","573","636","660","816","228","601","662","406","252","336","704","828","910","919","701","308","402","603","201","609","732","856","908","973","505","575","702","775","212","315","516","518","585","607","631","716","718","845","914","216","330","419","440","513","614","740","937","405","580","918","503","541","215","412","570","610","717","724","814","401","803","843","864","605","423","615","731","865","901","931","210","214","254","281","325","361","409","432","512","713","806","817","830","903","915","936","940","956","972","979","435","801","276","434","540","703","757","804","802","206","253","360","425","509","262","414","608","715","920","304","307"]],["Uruguay",["america","south-america"],"uy","598"],["Uzbekistan",["asia","ex-ussr"],"uz","998",".. ... .. .."],["Vanuatu",["oceania"],"vu","678"],["Vatican City",["europe"],"va","39",".. .... ....",1],["Venezuela",["america","south-america"],"ve","58"],["Vietnam",["asia"],"vn","84"],["Yemen",["middle-east"],"ye","967"],["Zambia",["africa"],"zm","260"],["Zimbabwe",["africa"],"zw","263"]],Me=[["American Samoa",["oceania"],"as","1684"],["Anguilla",["america","carribean"],"ai","1264"],["Bermuda",["america","north-america"],"bm","1441"],["British Virgin Islands",["america","carribean"],"vg","1284"],["Cayman Islands",["america","carribean"],"ky","1345"],["Cook Islands",["oceania"],"ck","682"],["Falkland Islands",["america","south-america"],"fk","500"],["Faroe Islands",["europe"],"fo","298"],["Gibraltar",["europe"],"gi","350"],["Greenland",["america"],"gl","299"],["Jersey",["europe","eu-union"],"je","44",".... ......"],["Montserrat",["america","carribean"],"ms","1664"],["Niue",["asia"],"nu","683"],["Norfolk Island",["oceania"],"nf","672"],["Northern Mariana Islands",["oceania"],"mp","1670"],["Saint Barthlemy",["america","carribean"],"bl","590","",1],["Saint Helena",["africa"],"sh","290"],["Saint Martin",["america","carribean"],"mf","590","",2],["Saint Pierre and Miquelon",["america","north-america"],"pm","508"],["Sint Maarten",["america","carribean"],"sx","1721"],["Tokelau",["oceania"],"tk","690"],["Turks and Caicos Islands",["america","carribean"],"tc","1649"],["U.S. Virgin Islands",["america","carribean"],"vi","1340"],["Wallis and Futuna",["oceania"],"wf","681"]];function V(W,U,C,B,P){return!C||P?W+"".padEnd(U.length,".")+" "+B:W+"".padEnd(U.length,".")+" "+C}function Q(W,U,C,B,P){var m,$,G=[];return $=U===!0,[(m=[]).concat.apply(m,i(W.map(function(te){var me={name:te[0],regions:te[1],iso2:te[2],countryCode:te[3],dialCode:te[3],format:V(C,te[3],te[4],B,P),priority:te[5]||0},Ee=[];return te[6]&&te[6].map(function(ue){var we=function(_e){for(var pe=1;pe<arguments.length;pe++){var A=arguments[pe]!=null?arguments[pe]:{},L=Object.keys(A);typeof Object.getOwnPropertySymbols=="function"&&(L=L.concat(Object.getOwnPropertySymbols(A).filter(function(Y){return Object.getOwnPropertyDescriptor(A,Y).enumerable}))),L.forEach(function(Y){n(_e,Y,A[Y])})}return _e}({},me);we.dialCode=te[3]+ue,we.isAreaCode=!0,we.areaCodeLength=ue.length,Ee.push(we)}),Ee.length>0?(me.mainCode=!0,$||U.constructor.name==="Array"&&U.includes(te[2])?(me.hasAreaCodes=!0,[me].concat(Ee)):(G=G.concat(Ee),[me])):[me]}))),G]}function X(W,U,C,B){if(C!==null){var P=Object.keys(C),m=Object.values(C);P.forEach(function($,G){if(B)return W.push([$,m[G]]);var te=W.findIndex(function(Ee){return Ee[0]===$});if(te===-1){var me=[$];me[U]=m[G],W.push(me)}else W[te][U]=m[G]})}}function N(W,U){return U.length===0?W:W.map(function(C){var B=U.findIndex(function(m){return m[0]===C[2]});if(B===-1)return C;var P=U[B];return P[1]&&(C[4]=P[1]),P[3]&&(C[5]=P[3]),P[2]&&(C[6]=P[2]),C})}var se=function W(U,C,B,P,m,$,G,te,me,Ee,ue,we,_e,pe){l(this,W),this.filterRegions=function(J,le){if(typeof J=="string"){var Ce=J;return le.filter(function(Z){return Z.regions.some(function(ne){return ne===Ce})})}return le.filter(function(Z){return J.map(function(ne){return Z.regions.some(function(ze){return ze===ne})}).some(function(ne){return ne})})},this.sortTerritories=function(J,le){var Ce=[].concat(i(J),i(le));return Ce.sort(function(Z,ne){return Z.name<ne.name?-1:Z.name>ne.name?1:0}),Ce},this.getFilteredCountryList=function(J,le,Ce){return J.length===0?le:Ce?J.map(function(Z){var ne=le.find(function(ze){return ze.iso2===Z});if(ne)return ne}).filter(function(Z){return Z}):le.filter(function(Z){return J.some(function(ne){return ne===Z.iso2})})},this.localizeCountries=function(J,le,Ce){for(var Z=0;Z<J.length;Z++)le[J[Z].iso2]!==void 0?J[Z].localName=le[J[Z].iso2]:le[J[Z].name]!==void 0&&(J[Z].localName=le[J[Z].name]);return Ce||J.sort(function(ne,ze){return ne.localName<ze.localName?-1:ne.localName>ze.localName?1:0}),J},this.getCustomAreas=function(J,le){for(var Ce=[],Z=0;Z<le.length;Z++){var ne=JSON.parse(JSON.stringify(J));ne.dialCode+=le[Z],Ce.push(ne)}return Ce},this.excludeCountries=function(J,le){return le.length===0?J:J.filter(function(Ce){return!le.includes(Ce.iso2)})};var A=function(J,le,Ce){var Z=[];return X(Z,1,J,!0),X(Z,3,le),X(Z,2,Ce),Z}(te,me,Ee),L=N(JSON.parse(JSON.stringify(ke)),A),Y=N(JSON.parse(JSON.stringify(Me)),A),fe=re(Q(L,U,we,_e,pe),2),oe=fe[0],ye=fe[1];if(C){var ve=re(Q(Y,U,we,_e,pe),2),Ne=ve[0];ve[1],oe=this.sortTerritories(Ne,oe)}B&&(oe=this.filterRegions(B,oe)),this.onlyCountries=this.localizeCountries(this.excludeCountries(this.getFilteredCountryList(P,oe,G.includes("onlyCountries")),$),ue,G.includes("onlyCountries")),this.preferredCountries=m.length===0?[]:this.localizeCountries(this.getFilteredCountryList(m,oe,G.includes("preferredCountries")),ue,G.includes("preferredCountries")),this.hiddenAreaCodes=this.excludeCountries(this.getFilteredCountryList(P,ye),$)},Re=function(W){function U(P){var m;l(this,U),(m=function(A,L){return!L||f(L)!=="object"&&typeof L!="function"?h(A):L}(this,g(U).call(this,P))).getProbableCandidate=E()(function(A){return A&&A.length!==0?m.state.onlyCountries.filter(function(L){return O()(L.name.toLowerCase(),A.toLowerCase())},h(h(m)))[0]:null}),m.guessSelectedCountry=E()(function(A,L,Y,fe){var oe;if(m.props.enableAreaCodes===!1&&(fe.some(function(Ne){if(O()(A,Ne.dialCode))return Y.some(function(J){if(Ne.iso2===J.iso2&&J.mainCode)return oe=J,!0}),!0}),oe))return oe;var ye=Y.find(function(Ne){return Ne.iso2==L});if(A.trim()==="")return ye;var ve=Y.reduce(function(Ne,J){return O()(A,J.dialCode)&&(J.dialCode.length>Ne.dialCode.length||J.dialCode.length===Ne.dialCode.length&&J.priority<Ne.priority)?J:Ne},{dialCode:"",priority:10001},h(h(m)));return ve.name?ve:ye}),m.updateCountry=function(A){var L,Y=m.state.onlyCountries;(L=A.indexOf(0)>="0"&&A.indexOf(0)<="9"?Y.find(function(fe){return fe.dialCode==+A}):Y.find(function(fe){return fe.iso2==A}))&&L.dialCode&&m.setState({selectedCountry:L,formattedNumber:m.props.disableCountryCode?"":m.formatNumber(L.dialCode,L)})},m.scrollTo=function(A,L){if(A){var Y=m.dropdownRef;if(Y&&document.body){var fe=Y.offsetHeight,oe=Y.getBoundingClientRect().top+document.body.scrollTop,ye=oe+fe,ve=A,Ne=ve.getBoundingClientRect(),J=ve.offsetHeight,le=Ne.top+document.body.scrollTop,Ce=le+J,Z=le-oe+Y.scrollTop,ne=fe/2-J/2;if(m.props.enableSearch?le<oe+32:le<oe)L&&(Z-=ne),Y.scrollTop=Z;else if(Ce>ye){L&&(Z+=ne);var ze=fe-J;Y.scrollTop=Z-ze}}}},m.scrollToTop=function(){var A=m.dropdownRef;A&&document.body&&(A.scrollTop=0)},m.formatNumber=function(A,L){if(!L)return A;var Y,fe=L.format,oe=m.props,ye=oe.disableCountryCode,ve=oe.enableAreaCodeStretch,Ne=oe.enableLongNumbers,J=oe.autoFormat;if(ye?((Y=fe.split(" ")).shift(),Y=Y.join(" ")):ve&&L.isAreaCode?((Y=fe.split(" "))[1]=Y[1].replace(/\.+/,"".padEnd(L.areaCodeLength,".")),Y=Y.join(" ")):Y=fe,!A||A.length===0)return ye?"":m.props.prefix;if(A&&A.length<2||!Y||!J)return ye?A:m.props.prefix+A;var le,Ce=H()(Y,function(Z,ne){if(Z.remainingText.length===0)return Z;if(ne!==".")return{formattedText:Z.formattedText+ne,remainingText:Z.remainingText};var ze,xt=a(ze=Z.remainingText)||s(ze)||o(),rt=xt[0],kt=xt.slice(1);return{formattedText:Z.formattedText+rt,remainingText:kt}},{formattedText:"",remainingText:A.split("")});return(le=Ne?Ce.formattedText+Ce.remainingText.join(""):Ce.formattedText).includes("(")&&!le.includes(")")&&(le+=")"),le},m.cursorToEnd=function(){var A=m.numberInputRef;if(document.activeElement===A){A.focus();var L=A.value.length;A.value.charAt(L-1)===")"&&(L-=1),A.setSelectionRange(L,L)}},m.getElement=function(A){return m["flag_no_".concat(A)]},m.getCountryData=function(){return m.state.selectedCountry?{name:m.state.selectedCountry.name||"",dialCode:m.state.selectedCountry.dialCode||"",countryCode:m.state.selectedCountry.iso2||"",format:m.state.selectedCountry.format||""}:{}},m.handleFlagDropdownClick=function(A){if(A.preventDefault(),m.state.showDropdown||!m.props.disabled){var L=m.state,Y=L.preferredCountries,fe=L.onlyCountries,oe=L.selectedCountry,ye=m.concatPreferredCountries(Y,fe).findIndex(function(ve){return ve.dialCode===oe.dialCode&&ve.iso2===oe.iso2});m.setState({showDropdown:!m.state.showDropdown,highlightCountryIndex:ye},function(){m.state.showDropdown&&m.scrollTo(m.getElement(m.state.highlightCountryIndex))})}},m.handleInput=function(A){var L=A.target.value,Y=m.props,fe=Y.prefix,oe=Y.onChange,ye=m.props.disableCountryCode?"":fe,ve=m.state.selectedCountry,Ne=m.state.freezeSelection;if(!m.props.countryCodeEditable){var J=fe+(ve.hasAreaCodes?m.state.onlyCountries.find(function(Je){return Je.iso2===ve.iso2&&Je.mainCode}).dialCode:ve.dialCode);if(L.slice(0,J.length)!==J)return}if(L===fe)return oe&&oe("",m.getCountryData(),A,""),m.setState({formattedNumber:""});if(!(L.replace(/\D/g,"").length>15&&(m.props.enableLongNumbers===!1||typeof m.props.enableLongNumbers=="number"&&L.replace(/\D/g,"").length>m.props.enableLongNumbers))&&L!==m.state.formattedNumber){A.preventDefault?A.preventDefault():A.returnValue=!1;var le=m.props.country,Ce=m.state,Z=Ce.onlyCountries,ne=Ce.selectedCountry,ze=Ce.hiddenAreaCodes;if(oe&&A.persist(),L.length>0){var xt=L.replace(/\D/g,"");(!m.state.freezeSelection||ne&&ne.dialCode.length>xt.length)&&(ve=m.props.disableCountryGuess?ne:m.guessSelectedCountry(xt.substring(0,6),le,Z,ze)||ne,Ne=!1),ye=m.formatNumber(xt,ve),ve=ve.dialCode?ve:ne}var rt=A.target.selectionStart,kt=A.target.selectionStart,Ut=m.state.formattedNumber,qr=ye.length-Ut.length;m.setState({formattedNumber:ye,freezeSelection:Ne,selectedCountry:ve},function(){qr>0&&(kt-=qr),ye.charAt(ye.length-1)==")"?m.numberInputRef.setSelectionRange(ye.length-1,ye.length-1):kt>0&&Ut.length>=ye.length?m.numberInputRef.setSelectionRange(kt,kt):rt<Ut.length&&m.numberInputRef.setSelectionRange(rt,rt),oe&&oe(ye.replace(/[^0-9]+/g,""),m.getCountryData(),A,ye)})}},m.handleInputClick=function(A){m.setState({showDropdown:!1}),m.props.onClick&&m.props.onClick(A,m.getCountryData())},m.handleDoubleClick=function(A){var L=A.target.value.length;A.target.setSelectionRange(0,L)},m.handleFlagItemClick=function(A,L){var Y=m.state.selectedCountry,fe=m.state.onlyCountries.find(function(Ne){return Ne==A});if(fe){var oe=m.state.formattedNumber.replace(" ","").replace("(","").replace(")","").replace("-",""),ye=oe.length>1?oe.replace(Y.dialCode,fe.dialCode):fe.dialCode,ve=m.formatNumber(ye.replace(/\D/g,""),fe);m.setState({showDropdown:!1,selectedCountry:fe,freezeSelection:!0,formattedNumber:ve,searchValue:""},function(){m.cursorToEnd(),m.props.onChange&&m.props.onChange(ve.replace(/[^0-9]+/g,""),m.getCountryData(),L,ve)})}},m.handleInputFocus=function(A){m.numberInputRef&&m.numberInputRef.value===m.props.prefix&&m.state.selectedCountry&&!m.props.disableCountryCode&&m.setState({formattedNumber:m.props.prefix+m.state.selectedCountry.dialCode},function(){m.props.jumpCursorToEnd&&setTimeout(m.cursorToEnd,0)}),m.setState({placeholder:""}),m.props.onFocus&&m.props.onFocus(A,m.getCountryData()),m.props.jumpCursorToEnd&&setTimeout(m.cursorToEnd,0)},m.handleInputBlur=function(A){A.target.value||m.setState({placeholder:m.props.placeholder}),m.props.onBlur&&m.props.onBlur(A,m.getCountryData())},m.handleInputCopy=function(A){if(m.props.copyNumbersOnly){var L=window.getSelection().toString().replace(/[^0-9]+/g,"");A.clipboardData.setData("text/plain",L),A.preventDefault()}},m.getHighlightCountryIndex=function(A){var L=m.state.highlightCountryIndex+A;return L<0||L>=m.state.onlyCountries.length+m.state.preferredCountries.length?L-A:m.props.enableSearch&&L>m.getSearchFilteredCountries().length?0:L},m.searchCountry=function(){var A=m.getProbableCandidate(m.state.queryString)||m.state.onlyCountries[0],L=m.state.onlyCountries.findIndex(function(Y){return Y==A})+m.state.preferredCountries.length;m.scrollTo(m.getElement(L),!0),m.setState({queryString:"",highlightCountryIndex:L})},m.handleKeydown=function(A){var L=m.props.keys,Y=A.target.className;if(Y.includes("selected-flag")&&A.which===L.ENTER&&!m.state.showDropdown)return m.handleFlagDropdownClick(A);if(Y.includes("form-control")&&(A.which===L.ENTER||A.which===L.ESC))return A.target.blur();if(m.state.showDropdown&&!m.props.disabled&&(!Y.includes("search-box")||A.which===L.UP||A.which===L.DOWN||A.which===L.ENTER||A.which===L.ESC&&A.target.value==="")){A.preventDefault?A.preventDefault():A.returnValue=!1;var fe=function(oe){m.setState({highlightCountryIndex:m.getHighlightCountryIndex(oe)},function(){m.scrollTo(m.getElement(m.state.highlightCountryIndex),!0)})};switch(A.which){case L.DOWN:fe(1);break;case L.UP:fe(-1);break;case L.ENTER:m.props.enableSearch?m.handleFlagItemClick(m.getSearchFilteredCountries()[m.state.highlightCountryIndex]||m.getSearchFilteredCountries()[0],A):m.handleFlagItemClick([].concat(i(m.state.preferredCountries),i(m.state.onlyCountries))[m.state.highlightCountryIndex],A);break;case L.ESC:case L.TAB:m.setState({showDropdown:!1},m.cursorToEnd);break;default:(A.which>=L.A&&A.which<=L.Z||A.which===L.SPACE)&&m.setState({queryString:m.state.queryString+String.fromCharCode(A.which)},m.state.debouncedQueryStingSearcher)}}},m.handleInputKeyDown=function(A){var L=m.props,Y=L.keys,fe=L.onEnterKeyPress,oe=L.onKeyDown;A.which===Y.ENTER&&fe&&fe(A),oe&&oe(A)},m.handleClickOutside=function(A){m.dropdownRef&&!m.dropdownContainerRef.contains(A.target)&&m.state.showDropdown&&m.setState({showDropdown:!1})},m.handleSearchChange=function(A){var L=A.currentTarget.value,Y=m.state,fe=Y.preferredCountries,oe=Y.selectedCountry,ye=0;if(L===""&&oe){var ve=m.state.onlyCountries;ye=m.concatPreferredCountries(fe,ve).findIndex(function(Ne){return Ne==oe}),setTimeout(function(){return m.scrollTo(m.getElement(ye))},100)}m.setState({searchValue:L,highlightCountryIndex:ye})},m.concatPreferredCountries=function(A,L){return A.length>0?i(new Set(A.concat(L))):L},m.getDropdownCountryName=function(A){return A.localName||A.name},m.getSearchFilteredCountries=function(){var A=m.state,L=A.preferredCountries,Y=A.onlyCountries,fe=A.searchValue,oe=m.props.enableSearch,ye=m.concatPreferredCountries(L,Y),ve=fe.trim().toLowerCase().replace("+","");if(oe&&ve){if(/^\d+$/.test(ve))return ye.filter(function(le){var Ce=le.dialCode;return["".concat(Ce)].some(function(Z){return Z.toLowerCase().includes(ve)})});var Ne=ye.filter(function(le){var Ce=le.iso2;return["".concat(Ce)].some(function(Z){return Z.toLowerCase().includes(ve)})}),J=ye.filter(function(le){var Ce=le.name,Z=le.localName;return le.iso2,["".concat(Ce),"".concat(Z||"")].some(function(ne){return ne.toLowerCase().includes(ve)})});return m.scrollToTop(),i(new Set([].concat(Ne,J)))}return ye},m.getCountryDropdownList=function(){var A=m.state,L=A.preferredCountries,Y=A.highlightCountryIndex,fe=A.showDropdown,oe=A.searchValue,ye=m.props,ve=ye.disableDropdown,Ne=ye.prefix,J=m.props,le=J.enableSearch,Ce=J.searchNotFound,Z=J.disableSearchIcon,ne=J.searchClass,ze=J.searchStyle,xt=J.searchPlaceholder,rt=J.autocompleteSearch,kt=m.getSearchFilteredCountries().map(function(Je,_n){var ds=Y===_n,va=z()({country:!0,preferred:Je.iso2==="us"||Je.iso2==="gb",active:Je.iso2==="us",highlight:ds}),us="flag ".concat(Je.iso2);return p.a.createElement("li",Object.assign({ref:function(hs){return m["flag_no_".concat(_n)]=hs},key:"flag_no_".concat(_n),"data-flag-key":"flag_no_".concat(_n),className:va,"data-dial-code":"1",tabIndex:ve?"-1":"0","data-country-code":Je.iso2,onClick:function(hs){return m.handleFlagItemClick(Je,hs)},role:"option"},ds?{"aria-selected":!0}:{}),p.a.createElement("div",{className:us}),p.a.createElement("span",{className:"country-name"},m.getDropdownCountryName(Je)),p.a.createElement("span",{className:"dial-code"},Je.format?m.formatNumber(Je.dialCode,Je):Ne+Je.dialCode))}),Ut=p.a.createElement("li",{key:"dashes",className:"divider"});L.length>0&&(!le||le&&!oe.trim())&&kt.splice(L.length,0,Ut);var qr=z()(n({"country-list":!0,hide:!fe},m.props.dropdownClass,!0));return p.a.createElement("ul",{ref:function(Je){return!le&&Je&&Je.focus(),m.dropdownRef=Je},className:qr,style:m.props.dropdownStyle,role:"listbox",tabIndex:"0"},le&&p.a.createElement("li",{className:z()(n({search:!0},ne,ne))},!Z&&p.a.createElement("span",{className:z()(n({"search-emoji":!0},"".concat(ne,"-emoji"),ne)),role:"img","aria-label":"Magnifying glass"},""),p.a.createElement("input",{className:z()(n({"search-box":!0},"".concat(ne,"-box"),ne)),style:ze,type:"search",placeholder:xt,autoFocus:!0,autoComplete:rt?"on":"off",value:oe,onChange:m.handleSearchChange})),kt.length>0?kt:p.a.createElement("li",{className:"no-entries-message"},p.a.createElement("span",null,Ce)))};var $,G=new se(P.enableAreaCodes,P.enableTerritories,P.regions,P.onlyCountries,P.preferredCountries,P.excludeCountries,P.preserveOrder,P.masks,P.priority,P.areaCodes,P.localization,P.prefix,P.defaultMask,P.alwaysDefaultMask),te=G.onlyCountries,me=G.preferredCountries,Ee=G.hiddenAreaCodes,ue=P.value?P.value.replace(/\D/g,""):"";$=P.disableInitialCountryGuess?0:ue.length>1?m.guessSelectedCountry(ue.substring(0,6),P.country,te,Ee)||0:P.country&&te.find(function(A){return A.iso2==P.country})||0;var we,_e=ue.length<2&&$&&!O()(ue,$.dialCode)?$.dialCode:"";we=ue===""&&$===0?"":m.formatNumber((P.disableCountryCode?"":_e)+ue,$.name?$:void 0);var pe=te.findIndex(function(A){return A==$});return m.state={showDropdown:P.showDropdown,formattedNumber:we,onlyCountries:te,preferredCountries:me,hiddenAreaCodes:Ee,selectedCountry:$,highlightCountryIndex:pe,queryString:"",freezeSelection:!1,debouncedQueryStingSearcher:w()(m.searchCountry,250),searchValue:""},m}var C,B;return function(P,m){if(typeof m!="function"&&m!==null)throw new TypeError("Super expression must either be null or a function");P.prototype=Object.create(m&&m.prototype,{constructor:{value:P,writable:!0,configurable:!0}}),m&&v(P,m)}(U,W),C=U,(B=[{key:"componentDidMount",value:function(){document.addEventListener&&this.props.enableClickOutside&&document.addEventListener("mousedown",this.handleClickOutside),this.props.onMount&&this.props.onMount(this.state.formattedNumber.replace(/[^0-9]+/g,""),this.getCountryData(),this.state.formattedNumber)}},{key:"componentWillUnmount",value:function(){document.removeEventListener&&this.props.enableClickOutside&&document.removeEventListener("mousedown",this.handleClickOutside)}},{key:"componentDidUpdate",value:function(P,m,$){P.country!==this.props.country?this.updateCountry(this.props.country):P.value!==this.props.value&&this.updateFormattedNumber(this.props.value)}},{key:"updateFormattedNumber",value:function(P){if(P===null)return this.setState({selectedCountry:0,formattedNumber:""});var m=this.state,$=m.onlyCountries,G=m.selectedCountry,te=m.hiddenAreaCodes,me=this.props,Ee=me.country,ue=me.prefix;if(P==="")return this.setState({selectedCountry:G,formattedNumber:""});var we,_e,pe=P.replace(/\D/g,"");if(G&&O()(P,ue+G.dialCode))_e=this.formatNumber(pe,G),this.setState({formattedNumber:_e});else{var A=(we=this.props.disableCountryGuess?G:this.guessSelectedCountry(pe.substring(0,6),Ee,$,te)||G)&&O()(pe,ue+we.dialCode)?we.dialCode:"";_e=this.formatNumber((this.props.disableCountryCode?"":A)+pe,we||void 0),this.setState({selectedCountry:we,formattedNumber:_e})}}},{key:"render",value:function(){var P,m,$,G=this,te=this.state,me=te.onlyCountries,Ee=te.selectedCountry,ue=te.showDropdown,we=te.formattedNumber,_e=te.hiddenAreaCodes,pe=this.props,A=pe.disableDropdown,L=pe.renderStringAsFlag,Y=pe.isValid,fe=pe.defaultErrorMessage,oe=pe.specialLabel;if(typeof Y=="boolean")m=Y;else{var ye=Y(we.replace(/\D/g,""),Ee,me,_e);typeof ye=="boolean"?(m=ye)===!1&&($=fe):(m=!1,$=ye)}var ve=z()((n(P={},this.props.containerClass,!0),n(P,"react-tel-input",!0),P)),Ne=z()({arrow:!0,up:ue}),J=z()(n({"form-control":!0,"invalid-number":!m,open:ue},this.props.inputClass,!0)),le=z()({"selected-flag":!0,open:ue}),Ce=z()(n({"flag-dropdown":!0,"invalid-number":!m,open:ue},this.props.buttonClass,!0)),Z="flag ".concat(Ee&&Ee.iso2);return p.a.createElement("div",{className:"".concat(ve," ").concat(this.props.className),style:this.props.style||this.props.containerStyle,onKeyDown:this.handleKeydown},oe&&p.a.createElement("div",{className:"special-label"},oe),$&&p.a.createElement("div",{className:"invalid-number-message"},$),p.a.createElement("input",Object.assign({className:J,style:this.props.inputStyle,onChange:this.handleInput,onClick:this.handleInputClick,onDoubleClick:this.handleDoubleClick,onFocus:this.handleInputFocus,onBlur:this.handleInputBlur,onCopy:this.handleInputCopy,value:we,onKeyDown:this.handleInputKeyDown,placeholder:this.props.placeholder,disabled:this.props.disabled,type:"tel"},this.props.inputProps,{ref:function(ne){G.numberInputRef=ne,typeof G.props.inputProps.ref=="function"?G.props.inputProps.ref(ne):typeof G.props.inputProps.ref=="object"&&(G.props.inputProps.ref.current=ne)}})),p.a.createElement("div",{className:Ce,style:this.props.buttonStyle,ref:function(ne){return G.dropdownContainerRef=ne}},L?p.a.createElement("div",{className:le},L):p.a.createElement("div",{onClick:A?void 0:this.handleFlagDropdownClick,className:le,title:Ee?"".concat(Ee.localName||Ee.name,": + ").concat(Ee.dialCode):"",tabIndex:A?"-1":"0",role:"button","aria-haspopup":"listbox","aria-expanded":!!ue||void 0},p.a.createElement("div",{className:Z},!A&&p.a.createElement("div",{className:Ne}))),ue&&this.getCountryDropdownList()))}}])&&d(C.prototype,B),U}(p.a.Component);Re.defaultProps={country:"",value:"",onlyCountries:[],preferredCountries:[],excludeCountries:[],placeholder:"1 (702) 123-4567",searchPlaceholder:"search",searchNotFound:"No entries to show",flagsImagePath:"./flags.png",disabled:!1,containerStyle:{},inputStyle:{},buttonStyle:{},dropdownStyle:{},searchStyle:{},containerClass:"",inputClass:"",buttonClass:"",dropdownClass:"",searchClass:"",className:"",autoFormat:!0,enableAreaCodes:!1,enableTerritories:!1,disableCountryCode:!1,disableDropdown:!1,enableLongNumbers:!1,countryCodeEditable:!0,enableSearch:!1,disableSearchIcon:!1,disableInitialCountryGuess:!1,disableCountryGuess:!1,regions:"",inputProps:{},localization:{},masks:null,priority:null,areaCodes:null,preserveOrder:[],defaultMask:"... ... ... ... ..",alwaysDefaultMask:!1,prefix:"+",copyNumbersOnly:!0,renderStringAsFlag:"",autocompleteSearch:!1,jumpCursorToEnd:!0,enableAreaCodeStretch:!1,enableClickOutside:!0,showDropdown:!1,isValid:!0,defaultErrorMessage:"",specialLabel:"Phone",onEnterKeyPress:null,keys:{UP:38,DOWN:40,RIGHT:39,LEFT:37,ENTER:13,ESC:27,PLUS:43,A:65,Z:90,SPACE:32,TAB:9}},e.default=Re}]);const sk=Yd(nk);function ik(){const[r,e]=M.useState(!1),[t,n]=M.useState(!1),[s,i]=M.useState(!1),[a,o]=M.useState(null),[l,d]=M.useState(null),[c,f]=M.useState({name:"",email:"",phone:""}),h=Ft(R=>R.user),g=ar(),{data:v,isLoading:y}=ft({queryKey:["clients",h==null?void 0:h.id],queryFn:async()=>{const{data:R,error:O}=await ge.from("clients").select("*").eq("user_id",h==null?void 0:h.id).order("created_at",{ascending:!1});if(O)throw O;return R},enabled:!!(h!=null&&h.id)}),p=Ke({mutationFn:async R=>{const{data:O,error:I}=await ge.from("clients").insert([{...R,user_id:h==null?void 0:h.id}]).select().single();if(I)throw I;return O},onSuccess:()=>{g.invalidateQueries({queryKey:["clients",h==null?void 0:h.id]}),e(!1),f({name:"",email:"",phone:""}),ee.success("Cliente criado com sucesso!")},onError:()=>{ee.error("Erro ao criar cliente")}}),S=Ke({mutationFn:async R=>{const{data:O,error:I}=await ge.from("clients").update(R).eq("id",R.id).select().single();if(I)throw I;return O},onSuccess:()=>{g.invalidateQueries({queryKey:["clients",h==null?void 0:h.id]}),e(!1),d(null),n(!1),ee.success("Cliente atualizado com sucesso!")},onError:()=>{ee.error("Erro ao atualizar cliente")}}),w=Ke({mutationFn:async R=>{const{error:O}=await ge.from("clients").delete().eq("id",R);if(O)throw O},onSuccess:()=>{g.invalidateQueries({queryKey:["clients",h==null?void 0:h.id]}),i(!1),o(null),ee.success("Cliente excludo com sucesso!")},onError:()=>{ee.error("Erro ao excluir cliente")}}),k=R=>{d(R),f({name:R.name,email:R.email||"",phone:R.phone||""}),n(!0),e(!0)},E=R=>{o(R),i(!0)},T=async()=>{a&&await w.mutateAsync(a)},H=async R=>{R.preventDefault(),t&&l?await S.mutateAsync({id:l.id,...c}):await p.mutateAsync(c)};return y?u.jsx("div",{className:"p-6 flex items-center justify-center",children:u.jsx(Ge,{className:"w-8 h-8 text-blue-600 animate-spin"})}):u.jsxs("div",{className:"p-4 sm:p-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-100 dark:border-gray-700",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Clientes"}),u.jsxs("button",{onClick:()=>{n(!1),d(null),f({name:"",email:"",phone:""}),e(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[u.jsx(Us,{className:"w-4 h-4"}),"Novo Cliente"]})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nome"}),u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Contato"}),u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Data de Cadastro"}),u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Aes"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:v==null?void 0:v.map(R=>u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:R.name})}),u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex flex-col space-y-1",children:[R.phone&&u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(mg,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:R.phone})]}),R.email&&u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(pg,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:R.email})]})]})}),u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Lr,{className:"w-4 h-4 text-gray-400"}),u.jsx("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:new Date(R.created_at).toLocaleDateString()})]})}),u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>k(R),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:u.jsx(Qo,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>E(R.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:u.jsx(Hs,{className:"w-4 h-4"})})]})})]},R.id))})]})})]}),r&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:t?"Editar Cliente":"Novo Cliente"}),u.jsxs("form",{onSubmit:H,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome"}),u.jsx("input",{type:"text",required:!0,value:c.name,onChange:R=>f({...c,name:R.target.value}),className:"w-full px-[5px] py-[5px] rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Email"}),u.jsx("input",{type:"email",value:c.email,onChange:R=>f({...c,email:R.target.value}),className:"w-full px-[5px] py-[5px] rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Telefone"}),u.jsx(sk,{country:"br",value:c.phone,onChange:R=>f({...c,phone:R}),inputClass:"!w-full !py-[5px] !px-[5px] !rounded-md !border-gray-300 dark:!border-gray-600 dark:!bg-gray-700 dark:!text-white !shadow-sm focus:!border-blue-500 focus:!ring-blue-500",containerClass:"!w-full",buttonClass:"!border-gray-300 dark:!border-gray-600 dark:!bg-gray-700",dropdownClass:"!bg-white dark:!bg-gray-700 !text-gray-900 dark:!text-white"})]})]}),u.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>{e(!1),n(!1),d(null)},className:"w-full sm:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsxs("button",{type:"submit",disabled:p.isPending||S.isPending,className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(p.isPending||S.isPending)&&u.jsx(Ge,{className:"w-4 h-4 animate-spin"}),t?"Atualizar":"Salvar"]})]})]})]})}),s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Confirmar Excluso"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Tem certeza que deseja excluir este cliente? Esta ao no pode ser desfeita."}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[u.jsx("button",{onClick:()=>{i(!1),o(null)},className:"w-full sm:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsxs("button",{onClick:T,disabled:w.isPending,className:"w-full sm:w-auto px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[w.isPending&&u.jsx(Ge,{className:"w-4 h-4 animate-spin"}),"Confirmar"]})]})]})})]})}function ak(){const[r,e]=M.useState(!1),[t,n]=M.useState(!1),[s,i]=M.useState(!1),[a,o]=M.useState(null),[l,d]=M.useState(null),[c,f]=M.useState({name:"",duration:"60",price:"0.00"}),h=Ft(R=>R.user),g=ar(),{data:v,isLoading:y}=ft({queryKey:["services",h==null?void 0:h.id],queryFn:async()=>{const{data:R,error:O}=await ge.from("services").select("*").eq("user_id",h==null?void 0:h.id).order("created_at",{ascending:!1});if(O)throw O;return R},enabled:!!(h!=null&&h.id)}),p=Ke({mutationFn:async R=>{const{data:O,error:I}=await ge.from("services").insert([{...R,user_id:h==null?void 0:h.id}]).select().single();if(I)throw I;return O},onSuccess:()=>{g.invalidateQueries({queryKey:["services",h==null?void 0:h.id]}),e(!1),f({name:"",duration:"60",price:"0.00"}),ee.success("Servio criado com sucesso!")},onError:()=>{ee.error("Erro ao criar servio")}}),S=Ke({mutationFn:async R=>{const{data:O,error:I}=await ge.from("services").update(R).eq("id",R.id).select().single();if(I)throw I;return O},onSuccess:()=>{g.invalidateQueries({queryKey:["services",h==null?void 0:h.id]}),e(!1),d(null),n(!1),ee.success("Servio atualizado com sucesso!")},onError:()=>{ee.error("Erro ao atualizar servio")}}),w=Ke({mutationFn:async R=>{const{error:O}=await ge.from("services").delete().eq("id",R);if(O)throw O},onSuccess:()=>{g.invalidateQueries({queryKey:["services",h==null?void 0:h.id]}),i(!1),o(null),ee.success("Servio excludo com sucesso!")},onError:()=>{ee.error("Erro ao excluir servio")}}),k=R=>{d(R),f({name:R.name,duration:R.duration.toString(),price:R.price.toString()}),n(!0),e(!0)},E=R=>{o(R),i(!0)},T=async()=>{a&&await w.mutateAsync(a)},H=async R=>{R.preventDefault(),t&&l?await S.mutateAsync({id:l.id,name:c.name,duration:parseInt(c.duration),price:parseFloat(c.price)}):await p.mutateAsync({name:c.name,duration:parseInt(c.duration),price:parseFloat(c.price)})};return y?u.jsx("div",{className:"p-6 flex items-center justify-center",children:u.jsx(Ge,{className:"w-8 h-8 text-blue-600 animate-spin"})}):u.jsxs("div",{className:"p-4 sm:p-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-100 dark:border-gray-700",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Servios"}),u.jsxs("button",{onClick:()=>{n(!1),d(null),f({name:"",duration:"60",price:"0.00"}),e(!0)},className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors flex items-center gap-2 whitespace-nowrap",children:[u.jsx(Us,{className:"w-4 h-4"}),"Novo Servio"]})]})}),u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nome"}),u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Durao"}),u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Preo"}),u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Aes"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:v==null?void 0:v.map(R=>{var O;return u.jsxs("tr",{children:[u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:R.name})}),u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Go,{className:"w-4 h-4 text-gray-400"}),u.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:[R.duration," minutos"]})]})}),u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(qo,{className:"w-4 h-4 text-gray-400"}),u.jsxs("span",{className:"text-sm text-gray-500 dark:text-gray-400",children:["R$ ",((O=R.price)==null?void 0:O.toFixed(2))||"0.00"]})]})}),u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>k(R),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",children:u.jsx(Qo,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>E(R.id),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",children:u.jsx(Hs,{className:"w-4 h-4"})})]})})]},R.id)})})]})})]}),r&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:t?"Editar Servio":"Novo Servio"}),u.jsxs("form",{onSubmit:H,children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nome"}),u.jsx("input",{type:"text",required:!0,value:c.name,onChange:R=>f({...c,name:R.target.value}),className:"w-full px-[5px] py-[5px] rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Durao (minutos)"}),u.jsx("input",{type:"number",required:!0,min:"1",value:c.duration,onChange:R=>f({...c,duration:R.target.value}),className:"w-full px-[5px] py-[5px] rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Preo (R$)"}),u.jsx("input",{type:"number",required:!0,min:"0",step:"0.01",value:c.price,onChange:R=>f({...c,price:R.target.value}),className:"w-full px-[5px] py-[5px] rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]})]}),u.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>{e(!1),n(!1),d(null)},className:"w-full sm:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsxs("button",{type:"submit",disabled:p.isPending||S.isPending,className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[(p.isPending||S.isPending)&&u.jsx(Ge,{className:"w-4 h-4 animate-spin"}),t?"Atualizar":"Salvar"]})]})]})]})}),s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Confirmar Excluso"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Tem certeza que deseja excluir este servio? Esta ao no pode ser desfeita."}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[u.jsx("button",{onClick:()=>{i(!1),o(null)},className:"w-full sm:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsxs("button",{onClick:T,disabled:w.isPending,className:"w-full sm:w-auto px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[w.isPending&&u.jsx(Ge,{className:"w-4 h-4 animate-spin"}),"Confirmar"]})]})]})})]})}const ok={confirmation:"Confirmao",reminder_24h:"Lembrete 24h",reminder_1h:"Lembrete 1h",cancellation:"Cancelamento"},lk=[{name:"{name}",description:"Nome do cliente"},{name:"{email}",description:"Email do cliente"},{name:"{date}",description:"Data do agendamento"},{name:"{service}",description:"Nome do servio"},{name:"{time}",description:"Horrio do agendamento"}];function ck(){const[r,e]=M.useState(null),[t,n]=M.useState(!1),[s,i]=M.useState(!1),a=ar(),{data:o,isLoading:l,error:d,refetch:c}=ft({queryKey:["evolution-instance"],queryFn:async()=>{const{data:{session:I}}=await ge.auth.getSession();if(!I)throw new Error("No session");const z=await fetch("https://mjhhifknrurxvccmneeq.supabase.co/functions/v1/evolution-api",{headers:{Authorization:`Bearer ${I.access_token}`}});if(!z.ok){if(z.status===404)return null;throw new Error("Failed to fetch Evolution instance")}return z.json()},refetchInterval:I=>I&&I.status!=="connected"?5e3:3e4}),f=Ke({mutationFn:async()=>{const{data:{session:I}}=await ge.auth.getSession();if(!I)throw new Error("No session");const z=await fetch("https://mjhhifknrurxvccmneeq.supabase.co/functions/v1/evolution-api",{method:"POST",headers:{Authorization:`Bearer ${I.access_token}`}});if(!z.ok)throw new Error("Failed to create instance");return z.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["evolution-instance"]}),i(!1),ee.success("Configurao criada com sucesso!")},onError:()=>{ee.error("Erro ao criar configurao")}}),h=Ke({mutationFn:async()=>{const{data:{session:I}}=await ge.auth.getSession();if(!I)throw new Error("No session");const z=await fetch("https://mjhhifknrurxvccmneeq.supabase.co/functions/v1/evolution-api",{method:"POST",headers:{Authorization:`Bearer ${I.access_token}`}});if(!z.ok)throw new Error("Failed to refresh QR code");return z.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["evolution-instance"]}),ee.success("QR Code atualizado com sucesso!")},onError:()=>{ee.error("Erro ao atualizar QR Code")}}),g=Ke({mutationFn:async()=>{const{data:{session:I}}=await ge.auth.getSession();if(!I)throw new Error("No session");const z=await fetch("https://mjhhifknrurxvccmneeq.supabase.co/functions/v1/evolution-api",{method:"DELETE",headers:{Authorization:`Bearer ${I.access_token}`}});if(!z.ok)throw new Error("Failed to delete instance");return z.json()},onSuccess:()=>{a.invalidateQueries({queryKey:["evolution-instance"]}),n(!1),ee.success("Configurao excluda com sucesso!")},onError:()=>{n(!1),ee.error("Erro ao excluir configurao")}}),{data:v,isLoading:y}=ft({queryKey:["message-templates"],queryFn:async()=>{const{data:I,error:z}=await ge.from("message_templates").select("*").order("type");if(z)throw z;return I}}),p=Ke({mutationFn:async I=>{const{data:z,error:re}=await ge.from("message_templates").update({content:I.content}).eq("id",I.id).select().single();if(re)throw re;return z},onSuccess:()=>{a.invalidateQueries({queryKey:["message-templates"]}),e(null),ee.success("Modelo de mensagem atualizado com sucesso!")},onError:()=>{ee.error("Erro ao atualizar modelo de mensagem")}});M.useEffect(()=>{d&&(d instanceof Error&&d.message==="Instance not found"?o&&g.mutate():ee.error("Erro ao carregar configurao do WhatsApp"))},[d,o]);const S=()=>{f.mutate()},w=()=>{h.mutate()},k=()=>{g.mutate()},E=async I=>{I.preventDefault(),r&&await p.mutateAsync(r)},T=I=>{switch(I){case"connected":return"text-green-500";case"disconnected":return"text-red-500";case"connecting":return"text-yellow-500";default:return"text-gray-500"}},H=I=>{switch(I){case"connected":return"Dispositivo conectado";case"disconnected":return"Dispositivo desconectado";case"connecting":return"Conectando...";default:return"Status desconhecido"}},R=()=>l||h.isPending?u.jsx(Ge,{className:"w-12 h-12 text-gray-400 animate-spin"}):o?o.status==="connected"?u.jsxs("div",{className:"flex flex-col items-center",children:[u.jsx(to,{className:"w-48 h-48 text-green-500"}),u.jsx("p",{className:"text-lg font-medium text-green-500 mt-4",children:"WhatsApp conectado com sucesso!"})]}):o.qr_code?u.jsx("img",{src:o.qr_code,alt:"WhatsApp QR Code",className:"w-48 h-48 object-contain"}):u.jsx(ec,{className:"w-48 h-48 text-gray-400"}):u.jsx(ec,{className:"w-48 h-48 text-gray-400"}),O=()=>l||h.isPending?"Carregando QR Code...":o?o.status==="connected"?"WhatsApp conectado e pronto para uso":o.qr_code?"Escaneie o cdigo QR com seu WhatsApp para conectar":"QR Code no disponvel":'Clique em "Criar Configurao" para comear';return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Configurao WhatsApp"}),u.jsx("div",{className:"flex items-center gap-2",children:o?u.jsxs(u.Fragment,{children:[o.status!=="connected"&&u.jsxs("button",{onClick:w,disabled:l||h.isPending,className:"flex items-center gap-2 px-4 py-2 text-blue-600 hover:bg-blue-50 dark:hover:bg-blue-900/20 rounded-lg text-sm font-medium transition-colors disabled:opacity-50",children:[u.jsx(eo,{className:`w-4 h-4 ${l||h.isPending?"animate-spin":""}`}),"Atualizar QR"]}),u.jsxs("button",{onClick:()=>n(!0),className:"flex items-center gap-2 px-4 py-2 text-red-600 hover:bg-red-50 dark:hover:bg-red-900/20 rounded-lg text-sm font-medium transition-colors",children:[u.jsx(Hs,{className:"w-4 h-4"}),"Excluir Configurao"]})]}):u.jsxs("button",{onClick:()=>i(!0),disabled:f.isPending,className:"flex items-center gap-2 px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors disabled:opacity-50",children:[u.jsx(Us,{className:"w-4 h-4"}),"Criar Configurao"]})})]}),u.jsxs("div",{className:"flex flex-col items-center justify-center p-8 border-2 border-dashed border-gray-200 dark:border-gray-700 rounded-lg",children:[R(),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 text-center mt-4",children:O()})]}),o&&u.jsxs("div",{className:"mt-6 flex items-center justify-center gap-2 text-sm",children:[u.jsx(to,{className:`w-4 h-4 ${T((o==null?void 0:o.status)||"disconnected")}`}),u.jsx("span",{className:`font-medium ${T((o==null?void 0:o.status)||"disconnected")}`,children:H((o==null?void 0:o.status)||"disconnected")})]})]}),u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 p-6",children:[u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white mb-6",children:"Mensagens Automticas"}),y?u.jsx("div",{className:"flex items-center justify-center p-8",children:u.jsx(Ge,{className:"w-8 h-8 text-blue-600 animate-spin"})}):u.jsx("div",{className:"space-y-4",children:v==null?void 0:v.map(I=>u.jsxs("div",{className:"p-4 border border-gray-200 dark:border-gray-700 rounded-lg",children:[u.jsx("h3",{className:"font-medium text-gray-900 dark:text-white mb-2",children:ok[I.type]}),(r==null?void 0:r.id)===I.id?u.jsxs("form",{onSubmit:E,className:"space-y-4",children:[u.jsx("textarea",{value:r.content,onChange:z=>e({...r,content:z.target.value}),className:"w-full h-32 p-2 border border-gray-300 dark:border-gray-600 rounded-md dark:bg-gray-700 dark:text-white"}),u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:["Variveis disponveis:",u.jsx("div",{className:"flex flex-wrap gap-2 mt-1",children:lk.map(z=>u.jsx("span",{title:z.description,className:"px-2 py-1 bg-gray-100 dark:bg-gray-700 rounded text-xs cursor-help",children:z.name},z.name))})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{type:"button",onClick:()=>e(null),className:"px-3 py-1 text-sm text-gray-600 dark:text-gray-400 hover:bg-gray-100 dark:hover:bg-gray-700 rounded-md",children:"Cancelar"}),u.jsxs("button",{type:"submit",disabled:p.isPending,className:"px-3 py-1 text-sm bg-blue-600 text-white rounded-md hover:bg-blue-700 disabled:opacity-50 flex items-center gap-1",children:[p.isPending&&u.jsx(Ge,{className:"w-3 h-3 animate-spin"}),u.jsx(yg,{className:"w-3 h-3"}),"Salvar"]})]})]})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400 whitespace-pre-line mb-4",children:I.content}),u.jsx("button",{onClick:()=>e(I),className:"text-blue-600 text-sm font-medium hover:text-blue-800 dark:hover:text-blue-400",children:"Editar mensagem"})]})]},I.id))})]})]}),s&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Criar Nova Configurao"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Voc est prestes a criar uma nova configurao do WhatsApp. Depois de criar, voc poder conectar seu dispositivo escaneando o QR Code."}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>i(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsxs("button",{onClick:S,disabled:f.isPending,className:"px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 flex items-center gap-2",children:[f.isPending&&u.jsx(Ge,{className:"w-4 h-4 animate-spin"}),"Criar"]})]})]})}),t&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Confirmar Excluso"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Tem certeza que deseja excluir esta configurao do WhatsApp? Esta ao no pode ser desfeita."}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsxs("button",{onClick:k,disabled:g.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",children:[g.isPending&&u.jsx(Ge,{className:"w-4 h-4 animate-spin"}),"Confirmar"]})]})]})})]})}function dk(){const[r,e]=M.useState(!1),[t,n]=M.useState(!1),s=Ft(h=>h.user),i=ar(),{data:a,isLoading:o}=ft({queryKey:["google-token",s==null?void 0:s.id],queryFn:async()=>{const{data:h,error:g}=await ge.from("user_google_tokens").select("*").eq("user_id",s==null?void 0:s.id).limit(1);if(g)throw g;return(h==null?void 0:h[0])||null},enabled:!!(s!=null&&s.id)}),l=Ke({mutationFn:async()=>{const{error:h}=await ge.from("user_google_tokens").delete().eq("user_id",s==null?void 0:s.id);if(h)throw h},onSuccess:()=>{i.invalidateQueries({queryKey:["google-token",s==null?void 0:s.id]}),n(!1),ee.success("Google Calendar desconectado com sucesso!")},onError:()=>{n(!1),ee.error("Erro ao desconectar Google Calendar")}});M.useEffect(()=>{const h=g=>{g.data==="google-calendar-connected"&&(e(!1),i.invalidateQueries({queryKey:["google-token",s==null?void 0:s.id]}),ee.success("Google Calendar conectado com sucesso!"))};return window.addEventListener("message",h),()=>window.removeEventListener("message",h)},[i,s==null?void 0:s.id]);const d=async()=>{try{e(!0);const{data:{session:h}}=await ge.auth.getSession();if(!h)throw new Error("Usurio no autenticado");const g="https://mjhhifknrurxvccmneeq.supabase.co/functions/v1/google-oauth-callback",v=encodeURIComponent("https://www.googleapis.com/auth/calendar"),y=h.access_token,p=`https://accounts.google.com/o/oauth2/v2/auth?client_id=${encodeURIComponent(void 0)}&redirect_uri=${encodeURIComponent(g)}&response_type=code&scope=${v}&access_type=offline&prompt=consent&state=${encodeURIComponent(y)}`,S=600,w=700,k=window.screenX+(window.outerWidth-S)/2,E=window.screenY+(window.outerHeight-w)/2;window.open(p,"google-oauth",`width=${S},height=${w},left=${k},top=${E}`)}catch(h){console.error("Error starting OAuth flow:",h),e(!1),ee.error("Erro ao iniciar processo de conexo")}},c=()=>{n(!0)},f=()=>{l.mutate()};return u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:[u.jsx("div",{className:"p-6 border-b border-gray-100 dark:border-gray-700",children:u.jsx("h2",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Configuraes"})}),u.jsxs("div",{className:"divide-y divide-gray-100 dark:divide-gray-700",children:[u.jsxs("div",{className:"p-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Lr,{className:"w-8 h-8 text-blue-600"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Google Calendar"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Sincronize seus agendamentos com o Google Calendar"}),a&&u.jsx("p",{className:"text-xs text-green-600 dark:text-green-400 mt-1",children:" Conectado e sincronizando"})]})]}),u.jsx("div",{className:"flex items-center gap-3",children:o?u.jsx(Ge,{className:"w-5 h-5 text-blue-600 animate-spin"}):a?u.jsxs("button",{onClick:c,disabled:l.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-lg text-sm font-medium hover:bg-red-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[l.isPending&&u.jsx(Ge,{className:"w-4 h-4 animate-spin"}),"Desconectar"]}):u.jsxs("button",{onClick:d,disabled:r,className:"px-4 py-2 bg-blue-600 text-white rounded-lg text-sm font-medium hover:bg-blue-700 transition-colors disabled:opacity-50 flex items-center gap-2",children:[r&&u.jsx(Ge,{className:"w-4 h-4 animate-spin"}),r?"Conectando...":"Conectar"]})})]}),r&&u.jsxs("div",{className:"mt-4 p-4 bg-blue-50 dark:bg-blue-900/20 border border-blue-200 dark:border-blue-800 rounded-lg",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Ge,{className:"w-4 h-4 text-blue-600 animate-spin"}),u.jsx("p",{className:"text-sm text-blue-800 dark:text-blue-200",children:"Aguardando autorizao do Google Calendar..."})]}),u.jsx("p",{className:"text-xs text-blue-600 dark:text-blue-300 mt-1",children:"Uma nova janela foi aberta. Complete a autorizao e retorne aqui."})]})]}),u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(Kd,{className:"w-8 h-8 text-yellow-600"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"Notificaes"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Configure suas preferncias de notificao"})]})]}),u.jsx("button",{className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Configurar"})]})}),u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(to,{className:"w-8 h-8 text-green-600"}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 dark:text-white",children:"WhatsApp"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gerencie suas configuraes do WhatsApp"})]})]}),u.jsx("button",{onClick:()=>window.location.href="/whatsapp",className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-lg text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700 transition-colors",children:"Configurar"})]})}),!1]})]}),t&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Confirmar Desconexo"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:"Tem certeza que deseja desconectar o Google Calendar? Seus agendamentos no sero mais sincronizados automaticamente."}),u.jsxs("div",{className:"flex justify-end gap-3",children:[u.jsx("button",{onClick:()=>n(!1),className:"px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsxs("button",{onClick:f,disabled:l.isPending,className:"px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700 disabled:opacity-50 flex items-center gap-2",children:[l.isPending&&u.jsx(Ge,{className:"w-4 h-4 animate-spin"}),"Confirmar"]})]})]})})]})}function uk(){const[r,e]=M.useState(""),[t,n]=M.useState("all"),[s,i]=M.useState("all"),[a,o]=M.useState(null),[l,d]=M.useState(!1),[c,f]=M.useState(!1),[h,g]=M.useState(!1),[v,y]=M.useState(!1),[p,S]=M.useState({userId:"",newPassword:"",confirmPassword:""}),w=Ft(N=>N.user),k=ar(),{data:E}=ft({queryKey:["current-user",w==null?void 0:w.id],queryFn:async()=>{const{data:N,error:se}=await ge.from("users").select("role").eq("id",w==null?void 0:w.id).single();if(se)throw se;return N},enabled:!!(w!=null&&w.id)}),{data:T,isLoading:H}=ft({queryKey:["admin-users"],queryFn:async()=>{const{data:N,error:se}=await ge.from("users").select(`
          id,
          email,
          full_name,
          role,
          created_at,
          updated_at
        `).order("created_at",{ascending:!1});if(se)throw se;const{data:Re,error:W}=await ge.auth.admin.listUsers();if(W)throw W;return N.map(C=>{const B=Re.users.find(P=>P.id===C.id);return{...C,last_sign_in_at:(B==null?void 0:B.last_sign_in_at)||null,email_confirmed_at:(B==null?void 0:B.email_confirmed_at)||null}})},enabled:(E==null?void 0:E.role)==="admin"}),{data:R}=ft({queryKey:["admin-logs"],queryFn:async()=>{const{data:N,error:se}=await ge.from("admin_logs").select(`
          *,
          admin_user:users!admin_user_id(email, full_name),
          target_user:users!target_user_id(email, full_name)
        `).order("created_at",{ascending:!1}).limit(100);if(se)throw se;return N},enabled:(E==null?void 0:E.role)==="admin"}),O=Ke({mutationFn:async N=>{const{data:se,error:Re}=await ge.rpc("generate_password_reset_token",{target_user_id:N.userId});if(Re)throw Re;const{error:W}=await ge.auth.admin.updateUserById(N.userId,{password:N.newPassword});if(W)throw W;return await ge.rpc("log_admin_action",{admin_id:w==null?void 0:w.id,target_id:N.userId,action_type:"password_changed_by_admin",action_details:{changed_at:new Date().toISOString()}}),{success:!0}},onSuccess:()=>{k.invalidateQueries({queryKey:["admin-logs"]}),d(!1),S({userId:"",newPassword:"",confirmPassword:""}),ee.success("Senha alterada com sucesso!")},onError:N=>{ee.error(`Erro ao alterar senha: ${N.message}`)}}),I=Ke({mutationFn:async({userId:N,newRole:se})=>{const{error:Re}=await ge.from("users").update({role:se}).eq("id",N);if(Re)throw Re;await ge.rpc("log_admin_action",{admin_id:w==null?void 0:w.id,target_id:N,action_type:"role_changed",action_details:{new_role:se,changed_at:new Date().toISOString()}})},onSuccess:()=>{k.invalidateQueries({queryKey:["admin-users"]}),k.invalidateQueries({queryKey:["admin-logs"]}),ee.success("Nvel de acesso alterado com sucesso!")},onError:N=>{ee.error(`Erro ao alterar nvel de acesso: ${N.message}`)}}),z=Ke({mutationFn:async N=>{const{error:se}=await ge.auth.admin.deleteUser(N);if(se)throw se;await ge.rpc("log_admin_action",{admin_id:w==null?void 0:w.id,target_id:N,action_type:"user_deleted_by_admin",action_details:{deleted_at:new Date().toISOString()}})},onSuccess:()=>{k.invalidateQueries({queryKey:["admin-users"]}),k.invalidateQueries({queryKey:["admin-logs"]}),f(!1),o(null),ee.success("Usurio excludo com sucesso!")},onError:N=>{ee.error(`Erro ao excluir usurio: ${N.message}`)}}),re=T==null?void 0:T.filter(N=>{var U;const se=N.email.toLowerCase().includes(r.toLowerCase())||((U=N.full_name)==null?void 0:U.toLowerCase().includes(r.toLowerCase())),Re=t==="all"||N.role===t,W=s==="all"||s==="confirmed"&&N.email_confirmed_at||s==="unconfirmed"&&!N.email_confirmed_at;return se&&Re&&W}),ke=N=>{S({...p,userId:N}),d(!0)},Me=N=>{o(N),f(!0)},Q=(N=>{const se=N.length>=8,Re=/[A-Z]/.test(N),W=/[a-z]/.test(N),U=/\d/.test(N),C=/[!@#$%^&*(),.?":{}|<>]/.test(N);return{isValid:se&&Re&&W&&U&&C,checks:{minLength:se,hasUpper:Re,hasLower:W,hasNumber:U,hasSpecial:C}}})(p.newPassword),X=()=>{if(!R)return;const N=[["Data","Admin","Usurio Alvo","Ao","Detalhes","IP"],...R.map(U=>{var C,B;return[it(new Date(U.created_at),"dd/MM/yyyy HH:mm:ss"),((C=U.admin_user)==null?void 0:C.email)||"N/A",((B=U.target_user)==null?void 0:B.email)||"N/A",U.action,JSON.stringify(U.details),U.ip_address||"N/A"]})].map(U=>U.join(",")).join(`
`),se=new Blob([N],{type:"text/csv"}),Re=window.URL.createObjectURL(se),W=document.createElement("a");W.href=Re,W.download=`admin-logs-${it(new Date,"yyyy-MM-dd")}.csv`,W.click(),window.URL.revokeObjectURL(Re)};return(E==null?void 0:E.role)!=="admin"?u.jsx("div",{className:"p-6 flex items-center justify-center min-h-[400px]",children:u.jsxs("div",{className:"text-center",children:[u.jsx(Xa,{className:"w-16 h-16 text-red-500 mx-auto mb-4"}),u.jsx("h2",{className:"text-xl font-semibold text-gray-900 dark:text-white mb-2",children:"Acesso Negado"}),u.jsx("p",{className:"text-gray-600 dark:text-gray-400",children:"Voc no tem permisso para acessar o painel administrativo."})]})}):u.jsxs("div",{className:"p-4 sm:p-6",children:[u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700 mb-6",children:[u.jsx("div",{className:"p-4 sm:p-6 border-b border-gray-100 dark:border-gray-700",children:u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx(Xa,{className:"w-8 h-8 text-blue-600"}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-semibold text-gray-900 dark:text-white",children:"Painel Administrativo"}),u.jsx("p",{className:"text-sm text-gray-500 dark:text-gray-400",children:"Gerencie usurios e monitore atividades do sistema"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs("button",{onClick:()=>g(!0),className:"px-4 py-2 bg-gray-600 text-white rounded-lg text-sm font-medium hover:bg-gray-700 transition-colors flex items-center gap-2",children:[u.jsx(Ds,{className:"w-4 h-4"}),"Ver Logs"]}),u.jsxs("button",{onClick:X,className:"px-4 py-2 bg-green-600 text-white rounded-lg text-sm font-medium hover:bg-green-700 transition-colors flex items-center gap-2",children:[u.jsx(vg,{className:"w-4 h-4"}),"Exportar"]})]})]})}),u.jsx("div",{className:"p-4 sm:p-6",children:u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Vo,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 h-4 w-4 text-gray-400"}),u.jsx("input",{type:"text",placeholder:"Buscar por email ou nome...",value:r,onChange:N=>e(N.target.value),className:"w-full pl-10 pr-4 py-2 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"})]}),u.jsxs("select",{value:t,onChange:N=>n(N.target.value),className:"w-full px-3 py-2 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"Todos os nveis"}),u.jsx("option",{value:"admin",children:"Administrador"}),u.jsx("option",{value:"professional",children:"Profissional"}),u.jsx("option",{value:"receptionist",children:"Recepcionista"})]}),u.jsxs("select",{value:s,onChange:N=>i(N.target.value),className:"w-full px-3 py-2 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500",children:[u.jsx("option",{value:"all",children:"Todos os status"}),u.jsx("option",{value:"confirmed",children:"Email confirmado"}),u.jsx("option",{value:"unconfirmed",children:"Email no confirmado"})]})]})})]}),u.jsx("div",{className:"bg-white dark:bg-gray-800 rounded-xl shadow-sm border border-gray-100 dark:border-gray-700",children:u.jsx("div",{className:"overflow-x-auto",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Usurio"}),u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Nvel de Acesso"}),u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Status"}),u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Cadastro"}),u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"ltimo Acesso"}),u.jsx("th",{className:"px-4 sm:px-6 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase tracking-wider",children:"Aes"})]})}),u.jsx("tbody",{className:"bg-white dark:bg-gray-800 divide-y divide-gray-200 dark:divide-gray-700",children:re==null?void 0:re.map(N=>u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:u.jsxs("div",{children:[u.jsx("div",{className:"text-sm font-medium text-gray-900 dark:text-white",children:N.full_name||"Nome no informado"}),u.jsx("div",{className:"text-sm text-gray-500 dark:text-gray-400",children:N.email})]})}),u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:u.jsxs("select",{value:N.role,onChange:se=>I.mutate({userId:N.id,newRole:se.target.value}),disabled:N.id===(N==null?void 0:N.id),className:"text-sm rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white disabled:opacity-50",children:[u.jsx("option",{value:"admin",children:"Administrador"}),u.jsx("option",{value:"professional",children:"Profissional"}),u.jsx("option",{value:"receptionist",children:"Recepcionista"})]})}),u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap",children:u.jsx("div",{className:"flex items-center gap-2",children:N.email_confirmed_at?u.jsxs(u.Fragment,{children:[u.jsx(kn,{className:"w-4 h-4 text-green-500"}),u.jsx("span",{className:"text-sm text-green-600 dark:text-green-400",children:"Confirmado"})]}):u.jsxs(u.Fragment,{children:[u.jsx(gr,{className:"w-4 h-4 text-red-500"}),u.jsx("span",{className:"text-sm text-red-600 dark:text-red-400",children:"No confirmado"})]})})}),u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Lr,{className:"w-4 h-4"}),it(new Date(N.created_at),"dd/MM/yyyy")]})}),u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm text-gray-500 dark:text-gray-400",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Go,{className:"w-4 h-4"}),N.last_sign_in_at?it(new Date(N.last_sign_in_at),"dd/MM/yyyy HH:mm"):"Nunca"]})}),u.jsx("td",{className:"px-4 sm:px-6 py-4 whitespace-nowrap text-sm",children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("button",{onClick:()=>ke(N.id),className:"text-blue-600 hover:text-blue-800 dark:text-blue-400 dark:hover:text-blue-300",title:"Alterar senha",children:u.jsx(bg,{className:"w-4 h-4"})}),N.id!==(N==null?void 0:N.id)&&u.jsx("button",{onClick:()=>Me(N),className:"text-red-600 hover:text-red-800 dark:text-red-400 dark:hover:text-red-300",title:"Excluir usurio",children:u.jsx(Hs,{className:"w-4 h-4"})})]})})]},N.id))})]})})}),l&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-md",children:[u.jsx("h3",{className:"text-lg font-semibold mb-4 text-gray-900 dark:text-white",children:"Alterar Senha do Usurio"}),u.jsxs("form",{onSubmit:N=>{if(N.preventDefault(),p.newPassword!==p.confirmPassword){ee.error("As senhas no coincidem");return}if(!Q.isValid){ee.error("A senha no atende aos critrios de segurana");return}O.mutate(p)},children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Nova Senha"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:v?"text":"password",required:!0,value:p.newPassword,onChange:N=>S({...p,newPassword:N.target.value}),className:"w-full px-3 py-2 pr-10 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"}),u.jsx("button",{type:"button",onClick:()=>y(!v),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:v?u.jsx(Ni,{className:"h-4 w-4 text-gray-400"}):u.jsx(Ds,{className:"h-4 w-4 text-gray-400"})})]}),p.newPassword&&u.jsxs("div",{className:"mt-2 space-y-1",children:[u.jsxs("div",{className:`text-xs flex items-center gap-1 ${Q.checks.minLength?"text-green-600":"text-red-600"}`,children:[Q.checks.minLength?u.jsx(kn,{className:"w-3 h-3"}):u.jsx(gr,{className:"w-3 h-3"}),"Mnimo 8 caracteres"]}),u.jsxs("div",{className:`text-xs flex items-center gap-1 ${Q.checks.hasUpper?"text-green-600":"text-red-600"}`,children:[Q.checks.hasUpper?u.jsx(kn,{className:"w-3 h-3"}):u.jsx(gr,{className:"w-3 h-3"}),"Letra maiscula"]}),u.jsxs("div",{className:`text-xs flex items-center gap-1 ${Q.checks.hasLower?"text-green-600":"text-red-600"}`,children:[Q.checks.hasLower?u.jsx(kn,{className:"w-3 h-3"}):u.jsx(gr,{className:"w-3 h-3"}),"Letra minscula"]}),u.jsxs("div",{className:`text-xs flex items-center gap-1 ${Q.checks.hasNumber?"text-green-600":"text-red-600"}`,children:[Q.checks.hasNumber?u.jsx(kn,{className:"w-3 h-3"}):u.jsx(gr,{className:"w-3 h-3"}),"Nmero"]}),u.jsxs("div",{className:`text-xs flex items-center gap-1 ${Q.checks.hasSpecial?"text-green-600":"text-red-600"}`,children:[Q.checks.hasSpecial?u.jsx(kn,{className:"w-3 h-3"}):u.jsx(gr,{className:"w-3 h-3"}),"Caractere especial"]})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 dark:text-gray-300 mb-1",children:"Confirmar Nova Senha"}),u.jsx("input",{type:v?"text":"password",required:!0,value:p.confirmPassword,onChange:N=>S({...p,confirmPassword:N.target.value}),className:"w-full px-3 py-2 rounded-md border-gray-300 dark:border-gray-600 dark:bg-gray-700 dark:text-white shadow-sm focus:border-blue-500 focus:ring-blue-500"}),p.confirmPassword&&p.newPassword!==p.confirmPassword&&u.jsxs("p",{className:"text-xs text-red-600 mt-1 flex items-center gap-1",children:[u.jsx(gr,{className:"w-3 h-3"}),"As senhas no coincidem"]})]})]}),u.jsxs("div",{className:"mt-6 flex flex-col sm:flex-row justify-end gap-3",children:[u.jsx("button",{type:"button",onClick:()=>{d(!1),S({userId:"",newPassword:"",confirmPassword:""})},className:"w-full sm:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsxs("button",{type:"submit",disabled:O.isPending||!Q.isValid,className:"w-full sm:w-auto px-4 py-2 bg-blue-600 text-white rounded-md text-sm font-medium hover:bg-blue-700 disabled:opacity-50 disabled:cursor-not-allowed flex items-center justify-center gap-2",children:[O.isPending&&u.jsx(eo,{className:"w-4 h-4 animate-spin"}),"Alterar Senha"]})]})]})]})}),c&&a&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-sm",children:[u.jsxs("div",{className:"flex items-center gap-3 mb-4",children:[u.jsx(wg,{className:"w-8 h-8 text-red-500"}),u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Confirmar Excluso"})]}),u.jsxs("p",{className:"text-gray-600 dark:text-gray-400 mb-6",children:["Tem certeza que deseja excluir o usurio ",u.jsx("strong",{children:a.email}),"? Esta ao no pode ser desfeita e todos os dados relacionados sero perdidos."]}),u.jsxs("div",{className:"flex flex-col sm:flex-row justify-end gap-3",children:[u.jsx("button",{onClick:()=>{f(!1),o(null)},className:"w-full sm:w-auto px-4 py-2 border border-gray-300 dark:border-gray-600 rounded-md text-sm font-medium text-gray-700 dark:text-gray-300 hover:bg-gray-50 dark:hover:bg-gray-700",children:"Cancelar"}),u.jsxs("button",{onClick:()=>z.mutate(a.id),disabled:z.isPending,className:"w-full sm:w-auto px-4 py-2 bg-red-600 text-white rounded-md text-sm font-medium hover:bg-red-700 disabled:opacity-50 flex items-center justify-center gap-2",children:[z.isPending&&u.jsx(eo,{className:"w-4 h-4 animate-spin"}),"Confirmar Excluso"]})]})]})}),h&&u.jsx("div",{className:"fixed inset-0 bg-black bg-opacity-50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white dark:bg-gray-800 rounded-lg p-6 w-full max-w-4xl max-h-[80vh] overflow-hidden",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h3",{className:"text-lg font-semibold text-gray-900 dark:text-white",children:"Logs Administrativos"}),u.jsx("button",{onClick:()=>g(!1),className:"text-gray-400 hover:text-gray-600 dark:hover:text-gray-300",children:u.jsx(gr,{className:"w-6 h-6"})})]}),u.jsx("div",{className:"overflow-y-auto max-h-[60vh]",children:u.jsxs("table",{className:"min-w-full divide-y divide-gray-200 dark:divide-gray-700",children:[u.jsx("thead",{className:"bg-gray-50 dark:bg-gray-700 sticky top-0",children:u.jsxs("tr",{children:[u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Data/Hora"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Admin"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Ao"}),u.jsx("th",{className:"px-4 py-3 text-left text-xs font-medium text-gray-500 dark:text-gray-300 uppercase",children:"Usurio Alvo"})]})}),u.jsx("tbody",{className:"divide-y divide-gray-200 dark:divide-gray-700",children:R==null?void 0:R.map(N=>{var se,Re;return u.jsxs("tr",{className:"hover:bg-gray-50 dark:hover:bg-gray-700",children:[u.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:it(new Date(N.created_at),"dd/MM/yyyy HH:mm:ss")}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:((se=N.admin_user)==null?void 0:se.email)||"Sistema"}),u.jsx("td",{className:"px-4 py-3 text-sm",children:u.jsx("span",{className:`px-2 py-1 rounded-full text-xs font-medium ${N.action.includes("delete")?"bg-red-100 text-red-800 dark:bg-red-900 dark:text-red-200":N.action.includes("password")?"bg-yellow-100 text-yellow-800 dark:bg-yellow-900 dark:text-yellow-200":N.action.includes("role")?"bg-blue-100 text-blue-800 dark:bg-blue-900 dark:text-blue-200":"bg-gray-100 text-gray-800 dark:bg-gray-700 dark:text-gray-200"}`,children:N.action.replace(/_/g," ")})}),u.jsx("td",{className:"px-4 py-3 text-sm text-gray-900 dark:text-white",children:((Re=N.target_user)==null?void 0:Re.email)||"N/A"})]},N.id)})})]})})]})})]})}function hk(){const[r,e]=M.useState(""),[t,n]=M.useState(""),[s,i]=M.useState(!1),[a,o]=M.useState(!1),l=zo(),d=Ft(f=>f.signIn),c=async f=>{var h;f.preventDefault(),o(!0);try{await d(r.trim(),t.trim()),ee.success("Login realizado com sucesso!")}catch(g){(h=g==null?void 0:g.message)!=null&&h.includes("Invalid login credentials")||(g==null?void 0:g.code)==="invalid_credentials"?ee.error("Credenciais invlidas. Verifique seu email e senha."):ee.error("Erro ao fazer login. Tente novamente.")}finally{o(!1)}};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl shadow-lg",children:u.jsx(Lr,{className:"w-8 h-8 text-white"})})}),u.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Agenda Pro"}),u.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Ou"," ",u.jsx("button",{onClick:()=>l("/register"),className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"crie uma nova conta"})]})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100",children:[u.jsxs("form",{className:"space-y-6",onSubmit:c,children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),u.jsx("div",{className:"relative",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:f=>e(f.target.value),className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 sm:text-sm",placeholder:"seu@email.com"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"password",name:"password",type:s?"text":"password",autoComplete:"current-password",required:!0,value:t,onChange:f=>n(f.target.value),className:"appearance-none block w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 sm:text-sm",placeholder:"Sua senha"}),u.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:s?u.jsx(Ni,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):u.jsx(Ds,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:a,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:a?u.jsxs(u.Fragment,{children:[u.jsx(Ge,{className:"w-5 h-5 mr-2 animate-spin"}),"Entrando..."]}):"Entrar"})})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white text-gray-500",children:"No tem uma conta?"})})]}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{onClick:()=>l("/register"),className:"w-full flex justify-center py-3 px-4 border border-gray-300 rounded-xl text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:"Criar Nova Conta"})})]})]})})]})}function fk(){const[r,e]=M.useState(""),[t,n]=M.useState(""),[s,i]=M.useState(""),[a,o]=M.useState(!1),[l,d]=M.useState(!1),[c,f]=M.useState(!1),h=zo(),g=Ft(p=>p.signIn),v=async p=>{try{const S=await fetch(`https://registration.themembers.dev.br/api/users/show-email/${encodeURIComponent(p)}/ac9a9355-2b9e-4ef4-a03d-5e98a2ab6b78/aaaf982d-7b29-4923-a7c1-54ee695fb14e`,{method:"GET",headers:{"Content-Type":"application/json"}});if(!S.ok)throw new Error("Usurio no encontrado ou no autorizado");return await S.json()}catch{throw new Error("Erro ao validar usurio. Verifique se o email est correto.")}},y=async p=>{if(p.preventDefault(),t!==s){ee.error("As senhas no coincidem");return}if(t.length<6){ee.error("A senha deve ter pelo menos 6 caracteres");return}f(!0);try{const S=await v(r.trim());if(!S||!S.user||!S.user.id)throw new Error("Usurio no encontrado ou dados invlidos");const w=S.user,{supabase:k}=await is(async()=>{const{supabase:H}=await Promise.resolve().then(()=>Vv);return{supabase:H}},void 0),{data:E,error:T}=await k.auth.signUp({email:r.trim(),password:t.trim(),options:{data:{full_name:w.name||w.full_name||r.split("@")[0],external_user_id:w.id}}});if(T)throw T.message.includes("User already registered")?new Error("Este email j est cadastrado. Tente fazer login."):T;E.user&&(ee.success("Conta criada com sucesso! Fazendo login..."),await g(r.trim(),t.trim()),h("/"))}catch(S){console.error("Registration error:",S),ee.error(S.message||"Erro ao criar conta. Tente novamente.")}finally{f(!1)}};return u.jsxs("div",{className:"min-h-screen bg-gradient-to-br from-blue-50 via-white to-indigo-50 flex flex-col justify-center py-12 sm:px-6 lg:px-8",children:[u.jsxs("div",{className:"sm:mx-auto sm:w-full sm:max-w-md",children:[u.jsx("div",{className:"flex justify-center",children:u.jsx("div",{className:"bg-blue-600 p-3 rounded-2xl shadow-lg",children:u.jsx(Lr,{className:"w-8 h-8 text-white"})})}),u.jsx("h2",{className:"mt-6 text-center text-3xl font-bold tracking-tight text-gray-900",children:"Criar Nova Conta"}),u.jsxs("p",{className:"mt-2 text-center text-sm text-gray-600",children:["Ou"," ",u.jsx("button",{onClick:()=>h("/login"),className:"font-medium text-blue-600 hover:text-blue-500 transition-colors",children:"faa login se j tem uma conta"})]})]}),u.jsx("div",{className:"mt-8 sm:mx-auto sm:w-full sm:max-w-md",children:u.jsxs("div",{className:"bg-white py-8 px-4 shadow-xl sm:rounded-2xl sm:px-10 border border-gray-100",children:[u.jsxs("form",{className:"space-y-6",onSubmit:y,children:[u.jsxs("div",{children:[u.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:"Email"}),u.jsx("div",{className:"relative",children:u.jsx("input",{id:"email",name:"email",type:"email",autoComplete:"email",required:!0,value:r,onChange:p=>e(p.target.value),className:"appearance-none block w-full px-4 py-3 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 sm:text-sm",placeholder:"seu@email.com"})})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700 mb-2",children:"Senha"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"password",name:"password",type:a?"text":"password",autoComplete:"new-password",required:!0,value:t,onChange:p=>n(p.target.value),className:"appearance-none block w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 sm:text-sm",placeholder:"Mnimo 6 caracteres"}),u.jsx("button",{type:"button",onClick:()=>o(!a),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:a?u.jsx(Ni,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):u.jsx(Ds,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),u.jsxs("div",{children:[u.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700 mb-2",children:"Confirmar Senha"}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:l?"text":"password",autoComplete:"new-password",required:!0,value:s,onChange:p=>i(p.target.value),className:"appearance-none block w-full px-4 py-3 pr-12 border border-gray-300 rounded-xl shadow-sm placeholder-gray-400 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent transition-all duration-200 sm:text-sm",placeholder:"Confirme sua senha"}),u.jsx("button",{type:"button",onClick:()=>d(!l),className:"absolute inset-y-0 right-0 pr-3 flex items-center",children:l?u.jsx(Ni,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"}):u.jsx(Ds,{className:"h-5 w-5 text-gray-400 hover:text-gray-600"})})]})]}),u.jsx("div",{children:u.jsx("button",{type:"submit",disabled:c,className:"group relative w-full flex justify-center py-3 px-4 border border-transparent text-sm font-medium rounded-xl text-white bg-blue-600 hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 disabled:opacity-50 disabled:cursor-not-allowed transition-all duration-200 shadow-lg hover:shadow-xl",children:c?u.jsxs(u.Fragment,{children:[u.jsx(Ge,{className:"w-5 h-5 mr-2 animate-spin"}),"Criando conta..."]}):u.jsxs(u.Fragment,{children:[u.jsx(xg,{className:"w-5 h-5 mr-2"}),"Criar Conta"]})})})]}),u.jsxs("div",{className:"mt-6",children:[u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-0 flex items-center",children:u.jsx("div",{className:"w-full border-t border-gray-300"})}),u.jsx("div",{className:"relative flex justify-center text-sm",children:u.jsx("span",{className:"px-2 bg-white text-gray-500",children:"J tem uma conta?"})})]}),u.jsx("div",{className:"mt-6",children:u.jsx("button",{onClick:()=>h("/login"),className:"w-full flex justify-center py-3 px-4 border border-gray-300 rounded-xl text-sm font-medium text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-blue-500 transition-all duration-200",children:"Fazer Login"})})]})]})})]})}const gk=new zg;function mk(){return Ft(e=>e.user)?u.jsx(lm,{clientId:void 0,children:u.jsx(Qg,{client:gk,children:u.jsxs(Jl,{children:[u.jsx(Qv,{children:u.jsxs(Zl,{children:[u.jsx(Tt,{path:"/",element:u.jsx(tk,{})}),u.jsx(Tt,{path:"/appointments",element:u.jsx(rk,{})}),u.jsx(Tt,{path:"/clients",element:u.jsx(ik,{})}),u.jsx(Tt,{path:"/services",element:u.jsx(ak,{})}),u.jsx(Tt,{path:"/whatsapp",element:u.jsx(ck,{})}),u.jsx(Tt,{path:"/settings",element:u.jsx(dk,{})}),u.jsx(Tt,{path:"/admin",element:u.jsx(uk,{})}),u.jsx(Tt,{path:"*",element:u.jsx(Xl,{to:"/",replace:!0})})]})}),u.jsx(hc,{position:"top-right"})]})})}):u.jsxs(Jl,{children:[u.jsxs(Zl,{children:[u.jsx(Tt,{path:"/register",element:u.jsx(fk,{})}),u.jsx(Tt,{path:"/login",element:u.jsx(hk,{})}),u.jsx(Tt,{path:"*",element:u.jsx(Xl,{to:"/login",replace:!0})})]}),u.jsx(hc,{position:"top-right"})]})}Xd(document.getElementById("root")).render(u.jsx(M.StrictMode,{children:u.jsx(mk,{})}));
